---
title: 조직 간 앱에 대한 보안 가이드 Azure Virtual Desktop - Azure
description: Azure Virtual Desktop에서 호스트하는 앱을 여러 조직에서 안전하게 유지하는 방법에 대한 가이드입니다.
author: Heidilohr
ms.topic: conceptual
ms.date: 07/14/2021
ms.author: helohr
ms.custom: devx-track-azurepowershell
manager: femila
ms.openlocfilehash: 3216a8f82bc066cded33f133d9fe8823484d50b0
ms.sourcegitcommit: 702df701fff4ec6cc39134aa607d023c766adec3
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/03/2021
ms.locfileid: "131463148"
---
# <a name="security-guidelines-for-cross-organizational-apps"></a>조직 간 앱에 대한 보안 지침

Azure Virtual Desktop에서 앱을 호스트하거나 스트리밍하는 경우 조직 내부 및 외부의 다양한 사용자에게 도달합니다. 따라서 조직과 고객을 안전하게 유지할 수 있도록 배포를 안전하게 유지하는 방법을 아는 것이 매우 중요합니다. 이 가이드에서는 가능한 안전 문제와 해결 방법에 대한 기본적인 이해를 제공합니다.

## <a name="shared-responsibility"></a>공동 책임

Azure Virtual Desktop 이전에는 원격 데스크톱 서비스 같은 온-프레미스 가상화 솔루션에서 게이트웨이, 브로커, 웹 액세스 등의 역할에 대한 액세스 권한을 사용자에게 부여해야 합니다. 이러한 역할은 완전히 중복되고 최대 용량을 처리할 수 있어야 했습니다. 관리자는 Windows Server OS의 일부로 이러한 역할을 설치하고 공용 연결에 액세스할 수 있는 특정 포트로 도메인에 가입되어야 했습니다. 배포를 안전하게 유지하기 위해 관리자는 인프라의 모든 것이 유지 관리되고 최신 상태로 유지되도록 해야 했습니다.

반면 Azure Virtual Desktop은 고객을 대신하여 서비스의 일부를 관리합니다. 특히 Microsoft는 서비스의 일부로 인프라 파트를 호스트하고 관리합니다. 파트너와 고객은 사용자가 세션 호스트 VM(가상 머신)에 액세스할 수 있는 데 필요한 인프라를 더 이상 수동으로 관리할 필요가 없습니다. 또한 이 서비스에는 역방향 연결과 같은 기본 제공 고급 보안 기능이 있어 사용자가 어디에서나 원격 데스크톱에 액세스할 수 있는 위험을 줄일 수 있습니다.

서비스를 유연하게 유지하기 위해 세션 호스트는 파트너 또는 고객의 Azure 구독에서 호스트됩니다. 이를 통해 고객은 서비스를 다른 Azure 서비스와 통합하고 ExpressRoute 또는 VPN(가상 사설망)을 사용하여 온-프레미스 네트워크 인프라에 연결할 수 있습니다.

많은 클라우드 서비스와 마찬가지로 사용자와 Microsoft 간에는 [공유되는 보안 책임 세트](../../security/fundamentals/shared-responsibility.md)가 있습니다. Azure Virtual Desktop을 사용하는 경우 서비스의 일부 부분이 보호되지만 조직의 보안 요구 사항에 따라 직접 구성해야 하는 부분이 있다는 것을 이해하는 것이 중요합니다.

다음 영역에서 보안을 구성해야 합니다.

- 최종 사용자 디바이스
- 애플리케이션 보안
- 세션 호스트 운영 체제
- 배포 구성
- 네트워크 제어

이러한 각 영역을 구성하는 방법에 대한 자세한 내용은 [보안 모범 사례](./../security-guide.md)를 확인하세요.

## <a name="combined-microsoft-security-platform"></a>결합된 Microsoft 보안 플랫폼

Microsoft 365, Azure 및 Azure Virtual Desktop에서 보안 기능 및 컨트롤을 사용하여 워크로드를 보호할 수 있습니다.

사용자가 인터넷을 통해 서비스에 연결하면 Azure AD(Azure Active Directory)가 사용자의 자격 증명을 인증하여 [조건부 액세스](../../active-directory/conditional-access/overview.md) 및 [다단계 인증](../../active-directory/authentication/concept-mfa-howitworks.md)과 같은 보호 기능을 사용하도록 설정합니다. 이러한 기능은 사용자 ID가 손상될 위험을 크게 줄입니다.

Azure Virtual Desktop에는 사용자가 인바운드 포트를 열지 않고도 세션 호스트에 액세스할 수 있는 [역방향 연결](../network-connectivity.md#reverse-connect-transport) 같은 기능이 있습니다. 이 기능은 확장성과 서비스를 염두에 두고 설계되었으므로 세션 호스트를 확장하는 기능도 제한해서는 안 됩니다. 또한 이 기능과 함께 기존 GPO를 사용하여 Active Directory 조인 VM 또는 Azure Active Directory 조인 시나리오 [Microsoft Endpoint Manager](/mem/intune/fundamentals/windows-virtual-desktop-multi-session)를 포함할 수 있는 Windows 10 세션 호스트에 대한 지원을 통해 추가 보안을 적용할 수 있습니다.

## <a name="defense-in-depth"></a>심층 방어

오늘날의 위협 환경은 보안 접근 방식을 염두에 두고 설계해야 합니다. 이상적으로는 데이터와 네트워크가 손상되거나 공격받지 못하도록 보호하기 위해 컴퓨터 네트워크 전체에 계층화된 일련의 보안 메커니즘 및 컨트롤을 빌드하는 것이 좋습니다. 이러한 유형의 보안 설계를 미국 CISA(사이버 보안 및 인프라 보안 에이전시)에서 “심층 방어”라고 부릅니다. 심층 방어에 대해 자세히 알아보려면 [CISA 웹 사이트](https://us-cert.cisa.gov/bsi/articles/knowledge/principles/defense-in-depth)로 이동하세요.

## <a name="session-host-operating-systems"></a>세션 호스트 운영 체제

Azure Virtual Desktop은 다음과 같은 운영 체제를 지원합니다.

- Windows 7
- Windows 10 Enterprise
- Windows Server 2012 R2, 2016, 2019 및 2022
- Windows 10 Enterprise 다중 세션

Windows 10 Enterprise 다중 세션은 Windows Server와 마찬가지로 여러 동시 대화형 세션을 허용하는 RDSH(원격 데스크톱 세션 호스트)로 작동하는 Azure 전용 OS입니다. Windows 10 환경은 사용자에게 친숙하고 일관된 환경을 제공합니다. 또한 서비스의 사용자별 Windows 라이선스는 IT 부서에서 RDS CAL(클라이언트 액세스 라이선스)을 계속 구매할 필요가 없으므로 조직 전체에 대한 비용을 절감합니다. 이러한 이점 때문에 Windows 10 Enterprise 다중 세션은 Azure Virtual Desktop의 세션 호스트에 가장 널리 배포된 OS입니다.

## <a name="security-boundaries"></a>보안 경계

보안 경계는 보안 도메인의 코드와 데이터를 서로 다른 신뢰 수준으로 구분합니다. 예를 들어 일반적으로 커널 모드와 사용자 모드 간에 보안 경계가 있습니다. 대부분의 Microsoft 소프트웨어 및 서비스는 여러 보안 경계에 의존하여 디바이스의 네트워크, VM 및 애플리케이션에서 디바이스를 격리합니다. 다음 표에서는 Windows에 대한 각 보안 경계와 전반적인 보안을 위해 수행하는 작업을 나열합니다.

| 보안 경계             | 경계가 하는 일      |
|-----------------------------------|--------------------------------------|
| 네트워크 경계              | 권한 없는 네트워크 엔드포인트는 고객의 디바이스에서 코드 및 데이터에 액세스하거나 변조할 수 없습니다.                                                                   |
| 커널 경계               | 비관리 사용자 모드 프로세스는 커널 코드 및 데이터에 액세스하거나 변조할 수 없습니다. 관리자-커널은 보안 경계가 아닙니다.                             |
| 프로세스 경계               | 권한 없는 사용자 모드 프로세스는 다른 프로세스의 코드 및 데이터에 액세스하거나 변조할 수 없습니다.                                                                      |
| AppContainer 샌드박스 경계  | AppContainer 기반 샌드박스 프로세스는 컨테이너 기능에 따라 샌드박스 외부에서 코드 및 데이터에 액세스하거나 변조할 수 없습니다.                               |
| 사용자 경계                  | 사용자는 권한 없이 다른 사용자의 코드 및 데이터에 액세스하거나 변조할 수 없습니다.                                                                           |
| 세션 경계               | 사용자 세션은 권한 없이 다른 사용자 세션에 액세스하거나 변조할 수 없습니다.                                                                    |
| 웹 브라우저 경계           | 권한 없는 웹 사이트는 동일 원본 정책을 위반할 수 없으며, Microsoft Edge 웹 브라우저 샌드박스의 네이티브 코드 및 데이터에 액세스하거나 변조할 수도 없습니다.       |
| 가상 머신 경계       | 권한 없는 Hyper-V 게스트 가상 머신은 다른 게스트 가상 머신의 코드 및 데이터에 액세스하거나 변조할 수 없습니다. 여기에는 Hyper-V 격리 컨테이너가 포함됩니다. |
| VSM(가상 보안 모드) 경계  | VSM 신뢰할 수 있는 프로세스 또는 Enclave 외부에서 실행되는 코드는 신뢰할 수 있는 프로세스 내에서 데이터 및 코드에 액세스하거나 변조할 수 없습니다.                              |

## <a name="security-features"></a>보안 기능

보안 기능은 보안 경계를 기반으로 구축되어 특정 위협에 대한 보호를 강화합니다. 그러나 경우에 따라 보안 기능이 배포를 완전히 보호하지 못하도록 하는 설계상의 제한이 있을 수 있습니다.

Azure Virtual Desktop은 Windows에서 사용할 수 있는 대부분의 보안 기능을 지원합니다. (v)TPM 또는 중첩된 가상화와 같은 하드웨어 기능을 사용하는 보안 기능에는 Azure Virtual Desktop 팀의 별도 지원 문이 필요할 수 있습니다.

보안 기능 지원 및 서비스에 대한 자세한 내용은 [Windows에 대한 Microsoft 보안 서비스 조건](https://www.microsoft.com/msrc/windows-security-servicing-criteria)을 참조하세요.

## <a name="recommended-security-boundaries-for-azure-virtual-desktop-scenarios"></a>Azure Virtual Desktop 시나리오에 권장되는 보안 경계

또한 대/소문자별로 보안 경계에 대해 특정 선택을 해야 합니다. 예를 들어 조직의 사용자가 앱을 설치하기 위해 로컬 관리자 권한이 필요한 경우 공유 RDSH 대신 개인 데스크톱을 제공해야 합니다. 이러한 사용자는 세션 또는 NTFS 데이터 권한에 대한 보안 경계를 넘거나, 다중 세션 VM을 종료하거나, 서비스를 중단하거나 데이터 손실을 일으킬 수 있는 기타 작업을 수행할 수 있으므로 다중 세션 풀된 시나리오에서는 사용자에게 로컬 관리자 권한을 부여하지 않는 것이 좋습니다.

관리자 권한이 필요하지 않은 앱이 있는 지식 근로자와 같은 동일한 조직의 사용자는 Windows 10 Enterprise 다중 세션과 같은 다중 세션 원격 데스크톱 세션 호스트에 적합한 후보입니다. 이러한 세션 호스트는 여러 사용자가 단일 OS의 오버헤드 비용으로 단일 VM을 공유할 수 있기 때문에 조직의 비용을 절감합니다. FSLogix와 같은 프로필 기술을 사용하면 서비스 중단을 알지 못한 상태로 호스트 풀의 모든 VM을 사용자에게 할당할 수 있습니다. 또한 이 기능을 사용하면 사용량이 적은 시간에 VM을 종료하는 등의 작업을 수행하여 비용을 최적화할 수 있습니다.

다른 조직의 사용자가 배포에 연결되어야 하는 경우 Active Directory 및 Azure AD와 같은 ID 서비스에 대해 별도의 테넌트를 설치하는 것이 좋습니다. 또한 Azure Virtual Desktop 및 VM과 같은 Azure 리소스를 호스트하기 위한 별도의 구독이 있는 것이 좋습니다.

다음 표에는 각 시나리오에 대한 권장 사항이 나와 있습니다.

| 신뢰 수준 시나리오                                 | 권장된 솔루션                |
|------------------------------------------------------|-------------------------------------|
| 표준 권한이 있는 한 조직의 사용자 | Windows 10 Enterprise 다중 세션 |
| 사용자에게 관리 권한이 필요             | VDI(개인 데스크톱)             |
| 여러 조직의 사용자 연결        | 별도의 Azure 구독         |

몇 가지 예제 시나리오에 대한 권장 사항을 살펴보겠습니다.

### <a name="should-i-share-identity-resources-to-reduce-costs"></a>비용을 줄이기 위해 ID 리소스를 공유해야 하나요?

현재 Azure Virtual Desktop에서 공유 ID 시스템을 사용하지 않는 것이 좋습니다. 별도의 Azure 구독에 배포하는 별도의 ID 리소스가 있는 것이 좋습니다. 이러한 리소스에는 Active Directory, Azure AD 및 VM 워크로드가 포함됩니다. 개별 조직에 대해 작업하는 모든 사용자에게는 추가 인프라 및 관련된 유지 관리 비용이 필요하지만 현재는 보안을 위해 가장 적합한 솔루션입니다. 

### <a name="should-i-share-a-multi-session-remote-desktop-rd-session-host-vm-to-reduce-costs"></a>비용을 줄이기 위해 다중 세션 RD(원격 데스크톱) 세션 호스트 VM을 공유해야 하나요?

다중 세션 RD 세션 호스트는 사용자 간에 CPU 및 메모리와 같은 하드웨어 리소스를 공유하여 비용을 절감합니다. 이 리소스 공유를 통해 모든 사용자가 동시에 최대 리소스를 필요로 하는 경우에도 최대 용량을 디자인할 수 있습니다. 공유 다중 세션 환경에서 하드웨어 리소스는 사용량 및 비용 간의 차이를 줄일 수 있도록 공유 및 할당됩니다.

대부분의 경우 다중 세션을 사용하는 것이 비용을 줄일 수 있는 허용 가능한 방법이지만, 권장 여부는 공유 다중 세션 인스턴스에 동시에 액세스하는 사용자 간의 신뢰 수준에 따라 달라집니다. 일반적으로 동일한 조직에 속한 사용자에게는 충분하고 합의된 트러스트 관계가 있습니다. 예를 들어 사람들이 협업하고 서로의 개인 정보에 액세스할 수 있는 부서나 작업 그룹은 신뢰 수준이 높은 조직입니다.

Windows는 보안 경계와 컨트롤을 사용하여 사용자 프로세스 및 데이터가 세션 간에 격리되도록 합니다. 단, Windows는 여전히 사용자가 작업 중인 인스턴스에 액세스할 수 있습니다.

이 배포는 조직의 내부 및 외부 사용자가 다른 사용자의 개인 정보에 권한 없는 액세스를 하지 못하도록 하기 위한 보안 경계를 더 추가하는 심층 전략의 보안을 활용합니다. 공개하지 않는 보안 취약성이나 아직 패치가 적용되지 않은 알려진 취약성 등 시스템 관리자의 구성 프로세스 오류로 인해 권한 없는 데이터 액세스가 발생합니다.

반면, Microsoft는 서로 다른 회사나 경쟁 회사에서 일하는 사용자에게 동일한 다중 세션 환경에 대한 액세스 권한을 부여하는 것을 지원하지 않습니다. 이러한 시나리오에는 네트워크, 커널, 프로세스, 사용자 또는 세션과 같이 공격하거나 악용할 수 있는 몇 가지 보안 경계가 있습니다. 단일 보안 취약성으로 인해 권한 없는 데이터 및 자격 증명 도난, 개인 정보 유출, ID 도난 및 기타 문제가 발생할 수 있습니다. 가상화된 환경 공급자에게는 강력하고 다양한 보안 경계를 갖춘 잘 설계된 시스템을 제공하고 가능하면 추가 안전 기능을 제공할 책임이 있습니다.

이러한 잠재적 위협을 줄이려면 오류 증명 구성, 패치 관리 디자인 프로세스 및 정기적인 패치 배포 일정이 필요합니다. 심층 방어 원칙을 따르고 환경을 별도로 유지하는 것이 좋습니다.

## <a name="next-steps"></a>다음 단계

[보안 모범 사례](./../security-guide.md)에 따라 Azure Virtual Desktop 배포에 대한 보안을 구성하기 위한 권장 지침을 찾아보세요.