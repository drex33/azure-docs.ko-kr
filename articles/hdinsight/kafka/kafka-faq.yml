### YamlMime:FAQ
metadata:
  title: Azure HDInsight의 Apache Kafka에 대한 FAQ
  description: 관리형 Hadoop 클라우드 서비스인 Azure HDInsight의 Apache Kafka에 관한 일반적인 질문의 답변을 확인하세요.
  ms.service: hdinsight
  ms.topic: conceptual
  ms.date: 08/14/2019
  ms.openlocfilehash: 33b17a9daecfef7ccc763defece2e5df6d3e07f5
  ms.sourcegitcommit: a038863c0a99dfda16133bcb08b172b6b4c86db8
  ms.translationtype: HT
  ms.contentlocale: ko-KR
  ms.lasthandoff: 06/29/2021
  ms.locfileid: "113018087"
title: Azure HDInsight의 Apache Kafka에 대한 질문과 대답
summary: 이 문서에서는 Azure HDInsight에서 Apache Kafka를 사용하는 것과 관련된 몇 가지 일반적인 질문을 다룹니다.
sections:
- name: 무시됨
  questions:
  - question: >
      HDInsight에서 지원하는 Kafka 버전은 무엇인가요?
    answer: >
      HDInsight에서 공식적으로 지원하는 구성 요소 버전에 관한 자세한 내용은 [HDInsight에서 사용할 수 있는 Apache Hadoop 구성 요소 및 버전은 무엇인가요?](../hdinsight-component-versioning.md#supported-hdinsight-versions)를 참조하세요. 최상의 성능과 사용자 환경을 보장하려면 항상 최신 버전을 사용하는 것이 좋습니다.
  - question: >
      HDInsight Kafka 클러스터에서 어떤 리소스가 제공되며 어떤 리소스에 대해 요금이 부과되나요?
    answer: "HDInsight Kafka 클러스터에는 다음 리소스가 포함됩니다.\n\n* 헤드 노드\n* Zookeeper 노드\n* broker(작업자) 노드 \n* Azure Managed Disks가 broker 노드에 연결됨\n* 게이트웨이 노드\n\n게이트웨이 노드를 제외하고 해당 모든 리소스는 [HDInsight 가격 책정 모델](https://azure.microsoft.com/pricing/details/hdinsight/)에 따라 요금이 부과됩니다. 게이트웨이 노드에 대한 요금은 청구되지 않습니다.\n\n다양한 노드 유형에 관한 자세한 설명은 [Azure HDInsight 가상 네트워크 아키텍처](../hdinsight-virtual-network-architecture.md)를 참조하세요. 가격은 분당 노드 사용량을 기반으로 책정됩니다. 가격은 노드 크기, 노드 수, 사용되는 관리 디스크 유형 및 지역에 따라 다릅니다.\n"
  - question: >
      Apache Kafka API가 HDInsight에서 작동하나요?
    answer: >
      예, HDInsight는 네이티브 Kafka API를 사용합니다. 클라이언트 애플리케이션 코드를 변경할 필요가 없습니다. 클러스터에서 Java 기반 생산자/소비자 API를 사용하는 방법을 보려면 [자습서: Apache Kafka 생산자 및 소비자 API 사용](./apache-kafka-producer-consumer-api.md)을 참조하세요.
  - question: >
      클러스터 구성을 변경할 수 있나요?
    answer: >
      예, Ambari 포털을 통해 변경할 수 있습니다. 포털의 각 구성 요소에는 구성 요소 구성을 변경하는 데 사용할 수 있는 **구성** 섹션이 있습니다. 일부는 broker를 다시 시작해야 변경할 수 있습니다.
  - question: >
      HDInsight에서 Apache Kafka에 대해 지원되는 인증 유형은 무엇인가요?
    answer: >
      [ESP(Enterprise Security Package)](../domain-joined/apache-domain-joined-architecture.md)를 사용하여 Kafka 클러스터의 토픽 수준 보안을 얻을 수 있습니다. 자세한 내용은 [자습서: Enterprise Security Package를 사용하여 HDInsight에서 Apache Kafka 정책 구성(미리 보기)](../domain-joined/apache-domain-joined-run-kafka.md)을 참조하세요.
  - question: >
      데이터는 암호화되나요? 고유 키를 사용할 수 있나요?
    answer: >
      관리 디스크의 모든 Kafka 메시지는 [Azure SSE(스토리지 서비스 암호화)](../../storage/common/storage-service-encryption.md)로 암호화됩니다. 전송 중인 데이터(예: 클라이언트에서 broker로 또는 그 반대로 전송되는 데이터)는 기본적으로 암호화되지 않습니다. [직접 TLS를 설정](./apache-kafka-ssl-encryption-authentication.md)하여 해당 트래픽을 암호화할 수 있습니다. 또한 HDInsight를 사용하면 미사용 데이터를 암호화하기 위해 자체 키를 관리할 수 있습니다. 자세한 내용은 [고객 관리형 키 디스크 암호화](../disk-encryption.md)를 참조하세요.
  - question: >
      내 클러스터에 클라이언트를 연결하는 방법은 무엇인가요?
    answer: >
      Kafka 클라이언트에서 Kafka broker와 통신하려면 네트워크를 통해 broker에 연결할 수 있어야 합니다. HDInsight 클러스터의 경우 VNet(가상 네트워크)은 보안 경계입니다. 따라서 클라이언트를 HDInsight 클러스터에 연결하는 가장 쉬운 방법은 클러스터와 동일한 VNet 내에 클라이언트를 만드는 것입니다. 다른 시나리오에는 다음이 포함됩니다.


      * 다른 Azure VNet의 클라이언트 연결 – 클러스터 VNet과 클라이언트 VNet을 피어링하고 [IP 보급](apache-kafka-connect-vpn-gateway.md#configure-kafka-for-ip-advertising)용 클러스터를 구성합니다. IP 광고를 사용할 때 Kafka 클라이언트는 FQDN(정규화된 도메인 이름) 대신 broker IP 주소를 사용하여 broker에 연결해야 합니다.


      * 온-프레미스 클라이언트 연결 – [Azure HDInsight용 가상 네트워크 계획](../hdinsight-plan-virtual-network-deployment.md)에 설명된 대로 VPN 네트워크를 사용하고 사용자 지정 DNS 서버를 설정합니다.


      * Kafka 서비스의 퍼블릭 엔드포인트 만들기 – 엔터프라이즈 보안 요구 사항에서 허용하는 경우 Kafka broker의 퍼블릭 엔드포인트 또는 퍼블릭 엔드포인트가 있는 자체 관리형 오픈 소스 REST 엔드포인트를 배포할 수 있습니다.
  - question: >
      기존 클러스터에 디스크 공간을 추가할 수 있나요?
    answer: >
      Kafka 메시지에 사용할 수 있는 공간의 크기를 늘리려면 노드 수를 늘릴 수 있습니다. 현재 기존 클러스터에 디스크를 추가하는 작업은 지원되지 않습니다.
  - question: "Kafka 클러스터가 Databricks와 작동할 수 있나요? \n"
    answer: >
      예, Kafka 클러스터는 동일한 VNet에 있는 한 Databricks에서 작동할 수 있습니다. Databricks와 함께 Kafka 클러스터를 사용하려면 HDInsight Kafka 클러스터가 포함된 VNet을 만든 다음, Databricks 작업 영역을 만들고 VNet 삽입을 사용할 때 해당 VNet을 지정합니다. 자세한 내용은 [Azure Virtual Network(VNet 삽입)에서 Azure Databricks 배포](/azure/databricks/administration-guide/cloud-configurations/azure/vnet-inject)를 참조하세요. Databricks 작업 영역을 만들 때 Kafka 클러스터의 부트스트랩 broker 이름을 제공해야 합니다. Kafka broker 이름 검색에 대한 자세한 내용은 [Apache Zookeeper 및 Broker 호스트 정보 가져오기](./apache-kafka-get-started.md#getkafkainfo)를 참조하세요.
  - question: >
      데이터 내구성을 극대화하려면 어떻게 해야 하나요?
    answer: >
      데이터 내구성을 통해 메시지 손실 위험을 최소화할 수 있습니다. 데이터 내구성을 최대화하려면 다음 설정을 사용하는 것이 좋습니다.


      * 대부분의 지역에서 최소 복제 요소 3을 사용

      * 장애 도메인이 2개뿐인 지역에서 최소 복제 요소 4를 사용

      * 정리되지 않은 리더 선택 사용 안 함

      * **min.insync.replicas** 를 2 이상으로 설정 - 쓰기를 계속하기 전에 리더와 완전히 동기화되어야 하는 복제본 수를 변경

      * **acks** 속성을 **all** 로 설정 - 이 속성을 사용하려면 모든 복제본이 모든 메시지를 승인해야 함


      데이터 일관성을 높이기 위해 Kafka를 구성하면 요청을 생성하는 broker의 가용성에 영향을 줍니다.
  - question: >
      데이터를 여러 클러스터에 복제할 수 있나요?
    answer: >
      예, Kafka MirrorMaker를 사용하여 여러 클러스터에 데이터를 복제할 수 있습니다. MirrorMaker 설정에 관한 자세한 내용은 [Apache Kafka 미러링 토픽](apache-kafka-mirroring.md)을 참조하세요. 또한 [Brooklin](https://github.com/linkedin/Brooklin/)과 같이 여러 클러스터에 복제하는 데 도움이 될 수 있는 자체 관리형 오픈 소스 기술 및 공급업체가 있습니다.
  - question: >
      내 클러스터를 업그레이드할 수 있나요? 내 클러스터를 어떻게 업그레이드해야 하나요?
    answer: >
      현재 내부 클러스터 버전 업그레이드는 지원되지 않습니다. 클러스터를 더 높은 Kafka 버전으로 업데이트하려면 원하는 버전으로 새 클러스터를 만들고 새 클러스터를 사용하도록 Kafka 클라이언트를 마이그레이션합니다.
  - question: >
      내 Kafka 클러스터를 어떻게 모니터링하나요?
    answer: >
      Azure 모니터를 사용하여 [Kafka 로그](./apache-kafka-log-analytics-operations-management.md)를 분석합니다.
additionalContent: "\n## <a name=\"next-steps\"></a>다음 단계\n\n* [Azure HDInsight에서 Apache Kafka에 대해 TLS 암호화 및 인증 설정](./apache-kafka-ssl-encryption-authentication.md)\n* [MirrorMaker를 사용하여 HDInsight에서 Kafka와 함께 Apache Kafka 토픽 복제](./apache-kafka-mirroring.md)"
