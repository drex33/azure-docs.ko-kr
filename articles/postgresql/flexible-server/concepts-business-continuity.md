---
title: Azure Database for PostgreSQL - 유연한 서버를 사용한 비즈니스 연속성 개요
description: Azure Database for PostgreSQL - 유연한 서버를 사용한 비즈니스 연속성의 개념에 대해 알아봅니다.
author: sr-msft
ms.author: srranga
ms.service: postgresql
ms.topic: conceptual
ms.date: 11/18/2021
ms.openlocfilehash: 159a53f811aa443683735c96fd599ca31fd4504f
ms.sourcegitcommit: 0415f4d064530e0d7799fe295f1d8dc003f17202
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/17/2021
ms.locfileid: "132713291"
---
# <a name="overview-of-business-continuity-with-azure-database-for-postgresql---flexible-server"></a>Azure Database for PostgreSQL - 유연한 서버를 사용한 비즈니스 연속성 개요

> [!IMPORTANT]
> Azure Database for PostgreSQL - 유연한 서버는 미리 보기로 제공됨

Azure Database for PostgreSQL - 유연한 서버의 **비즈니스 연속성** 은 비즈니스가 중단, 특히 자사의 컴퓨팅 인프라에서 계속 운영할 수 있도록 하는 메커니즘, 정책 및 절차를 나타냅니다. 대부분의 경우 유연한 서버는 클라우드 환경에서 발생할 수 있는 중단 이벤트를 처리하고 애플리케이션 및 비즈니스 프로세스를 계속 실행합니다. 그러나 자동으로 처리할 수 없는 몇 가지 이벤트는 다음과 같습니다.

- 사용자가 실수로 테이블 행을 삭제하거나 업데이트했습니다.
- 지진은 정전을 발생 시키고 데이터 센터나 가용성 영역을 임시로 사용 하지 않도록 설정 합니다.
- 버그 또는 보안 문제를 해결하기 위해 데이터베이스 패치가 필요합니다.

유연한 서버는 계획되거나 계획되지 않은 가동 중지 이벤트가 발생하는 경우 데이터를 보호하고 중요 업무용 데이터베이스의 가동 중지 시간을 단축하는 기능을 제공합니다. 강력한 복원력과 가용성을 이미 제공하는 Azure 인프라를 기반으로 구축된 유연한 서버에는 추가 오류 방지를 제공하고, 복구 시간 요구 사항을 해결하고, 데이터 손실 노출을 줄이는 비즈니스 연속성 기능이 있습니다. 애플리케이션을 설계할 때 가동 중지 허용 오차 즉, RTO(복구 시간 목표)와 데이터 손실 노출 즉, RPO(복구 지점 목표)를 고려해야 합니다. 예를 들어 비즈니스에 중요한 데이터베이스에는 테스트 데이터베이스에 비해 훨씬 엄격한 작동 시간 요구 사항이 필요합니다.  

> [!IMPORTANT]
> 작동 시간 % SLA(서비스 수준 계약)는 미리 보기 중에 제공되지 않습니다. 

다음 표에서는 유연한 서버가 제공하는 기능을 보여줍니다.


| **기능** | **설명** | **고려 사항** |
| ---------- | ----------- | ------------ |
| **자동 백업** | 유연한 서버는 데이터베이스 파일에 대한 일일 백업을 자동으로 수행하고 트랜잭션 로그를 지속적으로 백업합니다. 백업은 7일에서 최대 35일까지 보존할 수 있습니다. 백업 보존 기간 내의 어느 시점으로도 데이터베이스 서버를 복원할 수 있습니다. RTO는 복원해야 할 데이터의 크기 및 로그 복구를 수행하는 데 걸리는 시간에 따라 달라집니다. 몇 분에서 12시간까지 걸릴 수 있습니다. 자세한 내용은 [개념 - 백업 및 복원](./concepts-backup-restore.md)을 참조하세요. |백업 데이터는 지역 내에 유지됩니다. |
| **영역 중복 고가용성** | 유연한 서버는 기본 및 대기 서버가 지역 내의 서로 다른 두 가용성 영역에 배포되는 영역 중복 HA(고가용성) 구성을 사용하여 배포할 수 있습니다. 이 HA 구성은 영역 수준의 오류로부터 데이터베이스를 보호하고 계획된 및 계획되지 않은 가동 중지 시간 이벤트 중 애플리케이션 가동 중지 시간을 줄이는 데에도 도움이 됩니다. 주 서버의 데이터는 동기 모드에서 대기 복제본에 복제됩니다. 주 서버에 대해 중단이 발생하는 경우 서버는 자동으로 대기 복제본으로 장애 조치(failover) 됩니다. 대부분의 경우 RTO는 120초 미만이어야 합니다. RPO는 0(데이터 손실 없음)이어야 합니다. 자세한 내용은 [개념 - 고가용성](./concepts-high-availability.md)을 참조하세요. | 일반 용도 및 메모리에 최적화된 컴퓨팅 계층에서 지원됩니다. 여러 영역을 사용할 수 있는 지역에서만 제공됩니다. |
| **프리미엄 관리 디스크** | 데이터베이스 파일은 내구성이 뛰어나고 안정적인 프리미엄 관리 스토리지에 저장됩니다. 이는 자동 데이터 복구 기능을 사용하여 가용성 영역 내에 저장된 세 개의 복제본 복사본을 사용하여 데이터 중복성을 제공합니다. 자세한 내용은 [관리 디스크 설명서](../../virtual-machines/managed-disks-overview.md)를 참조하세요. | 가용성 영역 내에 저장된 데이터 |
| **영역 중복 백업** | 유연한 서버 백업은 지역 내에서 영역 중복 스토리지에 자동으로 안전하게 저장됩니다. 서버 프로비저닝 중 영역 수준 오류가 발생한 경우와 서버에 영역 중복성이 구성되지 않은 경우에도 다른 영역에 있는 최신 복원 지점을 사용하여 계속해서 데이터베이스를 복원할 수 있습니다. 자세한 내용은 [개념 - 백업 및 복원](./concepts-backup-restore.md)을 참조하세요.| 여러 영역을 사용할 수 있는 지역에서만 해당합니다.|
| **지역 중복 백업** | 유연한 서버 백업은 원격 지역에 복사 됩니다. 주 서버 지역의 경우 재해 복구 상황에 도움이 됩니다. | 이 기능은 현재 선택 된 지역에서 사용할 수 있습니다. 복원 하는 데이터의 크기와 수행할 복구의 양에 따라 더 긴 RTO 및 RPO가 더 많이 사용 됩니다.  |


## <a name="planned-downtime-events"></a>계획된 가동 중지 시간 이벤트
다음은 몇 가지 계획된 유지 관리 시나리오입니다. 다음 이벤트는 일반적으로 데이터 손실 없이 최대 몇 분의 가동 중지 시간을 발생시킵니다.

| **시나리오** | **처리**|
| ------------------- | ----------- | 
| <b>(사용자가 시작한) 컴퓨팅 스케일링| 컴퓨팅 스케일링 작업을 수행하는 동안 활성 검사점을 완료할 수 있고, 클라이언트 연결이 드레이닝되고, 커밋되지 않은 모든 트랜잭션이 취소되고, 스토리지가 분리된 후 종료됩니다. 데이터베이스 서버 이름이 동일한 새 유연한 서버는 스케일링된 컴퓨팅 구성으로 프로비저닝됩니다. 그런 후 스토리지가 새 서버에 연결되고 클라이언트 연결을 수락하기 전 필요에 따라 복구를 수행하는 데이터베이스가 시작됩니다. |
| <b>(사용자가 시작한) 스토리지 스케일링 | 스토리지 작업 스케일 업이 시작되면 동안 활성 검사점을 완료할 수 있고, 클라이언트 연결이 드레이닝되고, 커밋되지 않은 모든 트랜잭션이 취소된 다음 종료됩니다. 스토리지는 원하는 크기로 스케일링된 다음 새 서버에 연결됩니다. 클라이언트 연결을 허용하기 전에 필요한 경우 복구가 수행됩니다. 스토리지 크기를 스케일 다운은 지원되지 않습니다. |
| <b>(Azure에서 시작한) 새 소프트웨어 배포 | 서비스의 계획된 유지 관리 중에는 새로운 기능 출시 또는 버그 픽스가 자동으로 수행되며, 이러한 작업을 수행할 시간을 예약할 수 있습니다. 자세한 내용은 [포털](https://aka.ms/servicehealthpm)을 확인하세요. | 
| <b>(Azure에서 시작한) 부 버전 업그레이드 | Azure Database for PostgreSQL은 Azure에서 확인된 부 버전으로 데이터베이스 서버를 자동으로 패치합니다. 이러한 작업은 서비스의 계획된 유지 관리 중에 수행됩니다. 데이터베이스 서버는 새 부 버전으로 자동으로 다시 시작됩니다. 자세한 내용은 [설명서](../concepts-monitoring.md#planned-maintenance-notification)를 참조하세요. [포털](https://aka.ms/servicehealthpm)을 확인할 수도 있습니다.| 

 유연한 서버가 **영역 중복성 고가용성** 으로 구성되었으면 유연한 서버가 대기 서버에서 먼저 스케일링과 유지 관리 작업을 수행합니다. 자세한 내용은 [개념 - 고가용성](./concepts-high-availability.md)을 참조하세요.

##  <a name="unplanned-downtime-mitigation"></a>계획되지 않은 가동 중지 시간 완화

계획되지 않은 가동 중지 시간은 기본 하드웨어 결함, 네트워킹 문제 및 소프트웨어 버그와 같은 예상되지 않은 중단의 결과로 발생할 수 있습니다. 고가용성으로 구성된 데이터베이스 서버가 예기치 않게 중단되면 대기 복제본이 활성화되고 클라이언트에서 해당 작업을 다시 시작할 수 있습니다. HA(고가용성)로 구성되지 않은 경우 다시 시작 시도에 실패하면 새 데이터베이스 서버가 자동으로 프로비저닝됩니다. 예기치 않은 가동 중지 시간은 피할 수 없지만, 유연한 서버는 작업자의 개입 없이 복구 작업을 자동으로 수행하여 가동 중지 시간을 단축하도록 지원합니다. 
   
### <a name="unplanned-downtime-failure-scenarios-and-service-recovery"></a>예기치 않은 가동 중지 시간: 오류 시나리오 및 서비스 복구
계획되지 않은 오류 시나리오 및 복구 프로세스는 다음과 같습니다. 

| **시나리오** | **복구 프로세스** <br> [영역 중복 HA 없이 구성된 서버] | **복구 프로세스** <br> [영역 중복 HA로 구성된 서버] |
| ---------- | ---------- | ------- |
| <B>데이터베이스 서버 오류 | 데이터베이스 서버가 다운되면 Azure는 데이터베이스 서버를 다시 시작합니다. 이 작업에 실패하면 다른 실제 노드에서 데이터베이스 서버가 다시 시작됩니다.  <br /> <br /> RTO(복구 시간 목표)는 데이터베이스 서버 시작 프로세스 중 수행해야 하는 큰 트랜잭션 및 복구 작업의 양과 같은 장애가 발생한 시점의 작업을 포함하여 여러 요소들에 따라 달라집니다. <br /> <br /> PostgreSQL 데이터베이스를 사용하는 애플리케이션은 삭제된 연결과 실패한 트랜잭션을 검색하고 다시 시도하도록 빌드되어야 합니다. | 데이터베이스 서버 오류가 검색되면 서버가 대기 서버로 장애 조치(failover)되므로 가동 중지 시간을 줄일 수 있습니다. 자세한 내용은 [HA 개념 페이지](./concepts-high-availability.md)를 참조하세요. RTO는 데이터 손실 없이 60~120초 이내여야 합니다. |
| <B>스토리지 오류 | 디스크 오류 또는 물리적 블록 손상과 같은 스토리지 관련 문제는 애플리케이션에 영향을 주지 않습니다. 데이터가 3개 복사본에 저장되므로 남은 스토리지에서 데이터 복사본이 제공됩니다. 손상된 데이터 블록이 자동으로 복구되고 데이터의 새 복사본이 자동으로 생성됩니다. | 전체 스토리지에 액세스할 수 없는 경우처럼 복구할 수 없는 드문 오류가 발생한 경우에는 유연한 서버를 대기 복제본으로 장애 조치(failover)하여 가동 중지 시간을 줄입니다. 자세한 내용은 [HA 개념 페이지](./concepts-high-availability.md)를 참조하세요. |
| <b> 논리적/사용자 오류 | 실수로 삭제한 테이블 또는 잘못 업데이트된 데이터와 같은 사용자 오류로부터 복구하려면 PITR([지정 시간 복구](../concepts-backup.md))를 수행해야 합니다. 복원 작업을 수행하는 동안 사용자 지정 복원 지점을 지정합니다. 이 지점은 오류 발생 직전의 시간입니다.<br> <br>  데이터베이스 서버에 있는 모든 데이터베이스 대신 데이터베이스의 일부 또는 특정 테이블만 복원하려면 새 인스턴스에서 데이터베이스 서버를 복원하고 [pg_dump](https://www.postgresql.org/docs/11/app-pgdump.html)를 통해 테이블을 내보낸 후 [pg_restore](https://www.postgresql.org/docs/11/app-pgrestore.html)를 사용하여 테이블을 데이터베이스로 복원하면 됩니다. | 모든 변경 내용이 대기 복제본에 동기적으로 복제되므로 이러한 사용자 오류 고가용성으로 보호되지 않습니다. 해당 오류에서 복구하려면 특정 시점 복원을 수행해야 합니다. |
| <b> 가용성 영역 오류 | 영역 수준 오류에서 복구하려면 백업을 사용하고 사용자 지정 복원 지점을 선택하여 최신 데이터를 복구할 최신 시간으로 특정 시점 복원을 수행할 수 있습니다. 새 유연한 서버가 영향을 받지 않는 또 다른 영역에 배포됩니다. 복원에 걸리는 시간은 이전 백업 및 복구할 트랜잭션 로그의 양에 따라 달라집니다. | 유연한 서버는 데이터 손실 없이 60~120초 이내에 대기 서버에 자동으로 장애 조치(failover) 됩니다. 자세한 내용은 [HA 개념 페이지](./concepts-high-availability.md)를 참조하세요. | 
| <b> 지역 오류 | 서버가 지역 중복 백업을 사용 하 여 구성 된 경우 쌍을 이루는 지역에서 지역 복원을 수행할 수 있습니다. 새 서버가 프로 비전 되 고이 지역에 복사 된 마지막으로 사용 가능한 데이터로 복구 됩니다. | 동일한 프로세스입니다. |


> [!IMPORTANT]
> 삭제된 서버는 복원할 수 **없습니다**. 서버를 삭제하면 해당 서버에 속한 모든 데이터베이스도 삭제되고 복구할 수 없습니다. [Azure 리소스 잠금](../../azure-resource-manager/management/lock-resources.md)을 사용하여 사고로 인한 서버 삭제를 방지할 수 있습니다.


## <a name="next-steps"></a>다음 단계

-   [영역 중복 고가용성](./concepts-high-availability.md)에 대한 자세한 정보
-   [백업 및 복구](./concepts-backup-restore.md)에 대한 자세한 정보