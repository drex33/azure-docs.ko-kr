---
title: 애플리케이션 개발자를 위한 사용자 지정 RBAC(역할 기반 액세스 제어) - Microsoft ID 플랫폼
description: 사용자 지정 RBAC란 무엇이며 애플리케이션에서 사용자 지정 RBAC를 구현해야 하는 이유를 알아봅니다.
services: active-directory
author: Chrispine-Chiedo
manager: CelesteDG
ms.service: active-directory
ms.subservice: develop
ms.topic: conceptual
ms.workload: identity
ms.date: 06/28/2021
ms.custom: template-concept
ms.author: cchiedo
ms.reviewer: john.garland, maggie.marxen, ian.bennett, marsma
ms.openlocfilehash: f1378d1e011deaddf793dea9bebc7b099bedde9e
ms.sourcegitcommit: 0046757af1da267fc2f0e88617c633524883795f
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/13/2021
ms.locfileid: "122536166"
---
# <a name="role-based-access-control-for-application-developers"></a>애플리케이션 개발자를 위한 역할 기반 액세스 제어

RBAC(역할 기반 액세스 제어)를 사용하면 특정 사용자 또는 그룹이 어떤 리소스에 액세스할 수 있는지, 해당 리소스로 무엇을 할 수 있는지, 누가 어떤 리소스를 관리하는지에 대한 권한을 구체적으로 지정할 수 있습니다. 이 문서에서는 애플리케이션의 역할 기반 액세스 제어에 대해 설명합니다.

> [!NOTE]
> 애플리케이션 역할 기반 액세스 제어는 [Aazure 역할 기반 액세스 제어](../../role-based-access-control/overview.md) 및 [Azure AD 역할 기반 액세스 제어](../roles/custom-overview.md#understand-azure-ad-role-based-access-control)와 다릅니다. Azure 사용자 지정 역할 및 기본 제공 역할은 모두 Azure RBAC에 포함되며 Azure 리소스를 관리하는 데 도움이 됩니다. Azure AD RBAC를 사용하여 Azure AD 리소스를 관리할 수 있습니다.



## <a name="what-are-roles"></a>역할이란?

RBAC(역할 기반 액세스 제어)는 애플리케이션에서 권한 부여를 적용하는 데 널리 사용되는 메커니즘입니다. RBAC를 사용하면 애플리케이션 개발자는 개별 사용자 또는 그룹에 권한을 부여하는 대신 역할을 정의합니다. 그러면 관리자는 다른 사용자 및 그룹에 역할을 할당하여 누가 어떤 컨텐츠와 기능에 대한 액세스 권한을 갖는지 제어할 수 있습니다.

RBAC를 사용하면 앱 개발자는 리소스를 관리하고 사용자가 해당 리소스로 수행할 수 있는 작업을 관리할 수 있습니다. 또한 RBAC를 사용하면 앱 개발자는 사용자가 액세스할 수 있는 앱 영역을 제어할 수 있습니다. 관리자는 *사용자 할당 필요* 속성을 사용하여 앱에 액세스할 수 있는 사용자를 제어할 수 있지만, 개발자는 앱 내의 특정 사용자와 앱 내에서 사용자가 할 수 있는 일을 고려해야 합니다.

앱 개발자는 먼저 Azure AD 관리 센터의 앱 등록 섹션 내에서 역할 정의를 만들어야 합니다. 역할 정의에는 해당 역할에 할당된 사용자에 대해 반환되는 값이 포함됩니다. 그런 다음, 개발자는 이 값을 사용하여 애플리케이션에서 해당 사용자가 할 수 있는 일 또는 할 수 없는 일을 결정하는 애플리케이션 논리를 구현할 수 있습니다.

## <a name="options-for-adding-rbac-to-apps"></a>앱에 RBAC를 추가하는 옵션

애플리케이션에 역할 기반 액세스 제어 권한 부여를 포함할 때 여러 가지 고려 사항을 관리해야 합니다. 여기에는 다음이 포함됩니다.
- 애플리케이션의 권한 부여 요구 사항에 필요한 역할 정의 
- 인증된 사용자와 관련된 역할의 적용, 저장 및 검색 
- 현재 사용자에게 할당된 역할에 따라 원하는 애플리케이션 동작에 미치는 영향 

역할을 정의하면 Microsoft ID 플랫폼은 인증된 사용자의 역할 정보를 적용, 저장 및 검색하는 데 사용할 수 있는 여러 가지 솔루션을 지원합니다. 이러한 솔루션에는 앱 역할, Azure AD 그룹 및 사용자 역할 정보에 사용자 지정 데이터 저장소 사용이 포함됩니다.

개발자는 역할 할당이 애플리케이션 권한으로 해석되는 방식을 유연하게 구현할 수 있습니다. 여기에는 애플리케이션의 플랫폼 또는 관련 라이브러리에서 제공하는 미들웨어 또는 다른 기능을 활용하는 것이 포함될 수 있습니다. 앱은 일반적으로 사용자 역할 정보를 클레임으로 받고, 해당 클레임에 따라 사용자 권한을 결정합니다.

### <a name="app-roles"></a>앱 역할

Azure AD는 애플리케이션 등록을 위한 앱 역할 선언을 지원합니다. 사용자가 애플리케이션에 로그인하면 Azure AD에는 해당 애플리케이션과 관련하여 사용자에게 부여된 각 역할의 [역할 클레임](./access-tokens.md#payload-claims)이 포함됩니다. 그러면 이러한 클레임이 포함된 토큰을 수신하는 애플리케이션은 이 정보를 사용하여 사용자가 할당된 역할에 따라 사용자가 수행할 수 있는 권한을 결정할 수 있습니다.

### <a name="groups"></a>그룹

또한 개발자는 [Azure AD 그룹](../fundamentals/active-directory-manage-groups.md)을 사용하여 애플리케이션에서 RBAC를 구현할 수 있습니다. 여기서 특정 그룹의 사용자 멤버 자격은 해당 역할 멤버 자격으로 해석됩니다. Azure AD 그룹을 사용하는 경우 Azure AD에는 현재 Azure AD 테넌트 내에서 사용자가 할당된 모든 그룹의 식별자를 포함하는 [그룹 클레임](./access-tokens.md#payload-claims)이 포함됩니다. 그러면 이러한 클레임이 포함된 토큰을 수신하는 애플리케이션은 이 정보를 사용하여 사용자가 할당된 역할에 따라 사용자가 수행할 수 있는 권한을 결정할 수 있습니다.

> [!IMPORTANT]
> 그룹을 사용할 때 개발자는 [초과분 클레임](./access-tokens.md#payload-claims)이라는 개념을 알고 있어야 합니다. 사용자가 초과분 제한(SAML 토큰은 150, JWT 토큰은 200, 암시적 흐름을 사용하는 경우 6)보다 많은 그룹의 구성원인 경우 Azure AD는 토큰의 그룹 클레임을 내보내지 않습니다. 그 대신 토큰의 소비자가 Graph API를 쿼리하여 사용자의 그룹 멤버 자격을 검색해야 한다는 것을 나타내는 "초과분 클레임"이 토큰에 포함됩니다. 초과분 클레임 사용에 대한 자세한 내용은 [액세스 토큰의 클레임](./access-tokens.md#claims-in-access-tokens)을 참조하세요. [그룹 기반 할당](../manage-apps/assign-user-or-group-access-portal.md)에는 Azure Active Directory Premium P1 또는 P2 버전이 필요하지만, 애플리케이션에 할당된 그룹만 내보낼 수 있습니다.

### <a name="custom-data-store"></a>사용자 지정 데이터 저장소

앱 역할 및 그룹은 사용자 할당에 대한 정보를 Azure AD 디렉터리에 저장합니다. 개발자가 사용할 수 있는 사용자 역할 정보를 관리하는 또 다른 옵션은 사용자 지정 데이터 저장소의 디렉터리 외부에 정보를 보관하는 것입니다. 예를 들어 SQL Database에서는 Azure Table 스토리지 또는 Azure Cosmos DB Table API를 사용합니다.

사용자 지정 스토리지를 사용하면 개발자는 사용자에게 역할을 할당하는 방법과 이러한 역할을 나타내는 방법을 추가로 사용자 지정하고 제어할 수 있습니다. 그러나 유연한 구성에는 더 많은 책임이 따릅니다. 예를 들어 현재는 Azure AD에서 반환된 토큰에 이 정보를 포함하는 데 사용할 수 있는 메커니즘이 없습니다. 개발자는 역할 정보를 사용자 지정 데이터 저장소에 보관하는 경우 앱에서 역할을 검색해야 합니다. 일반적으로 이 작업은 애플리케이션 개발에 사용되는 플랫폼에서 사용할 수 있는 미들웨어에 정의된 확장성 요소를 사용하여 수행됩니다. 뿐만 아니라 개발자는 사용자 지정 데이터 저장소를 적절히 보호해야 합니다.

> [!NOTE]
> [Azure AD B2C 사용자 지정 정책](../../active-directory-b2c/custom-policy-overview.md)을 사용하면 사용자 지정 데이터 저장소와 상호 작용하고 토큰 내에 사용자 지정 클레임을 포함할 수 있습니다.

## <a name="choosing-an-approach"></a>방법 선택

일반적으로 권장하는 솔루션은 앱 역할입니다. 앱 역할은 가장 간단한 프로그래밍 모델을 제공하며 RBAC 구현을 위해 개발되었습니다. 그러나 특정 애플리케이션 요구 사항으로 인해 다른 방법이 더 나은 솔루션일 수 있습니다.

개발자는 앱 역할을 사용하여 사용자가 앱에 로그인할 수 있는지 또는 앱이 웹 API의 액세스 토큰을 가져올 수 있는지 제어할 수 있습니다. 앱 역할은 개발자가 앱 자체에서 권한 부여 매개 변수를 설명하고 제어하려는 경우에 Azure AD 그룹보다 선호되는 방법입니다. 예를 들어 권한 부여를 위해 그룹을 사용하는 앱은 해당 그룹 ID와 이름이 다를 수 있기 때문에 다음 테넌트에서 중단됩니다. 앱 역할을 사용하는 앱은 안전하게 유지됩니다. 실제로 앱 역할에 그룹을 할당하는 것은 동일한 이유로 SaaS 앱에서 자주 사용됩니다.

권한 부여에 앱 역할을 사용할 수도 있고 그룹을 사용할 수도 있지만, 앱 역할과 그룹 간에는 특정 시나리오에 가장 적합한 솔루션에 영향을 미칠 수 있는 결정적인 차이점이 있습니다.

|          |앱 역할 |Azure AD 그룹 |사용자 지정 데이터 저장소|
|----------|-----------|------------|-----------------|
|**프로그래밍 모델** |**가장 간단** 합니다. 애플리케이션에 따라 다르며, 앱 등록에 정의됩니다. 애플리케이션과 함께 이동합니다.|**더 복잡** 합니다. 그룹 ID는 테넌트마다 다르며 초과분 클레임을 고려해야 할 수도 있습니다. 그룹은 앱이 아닌 Azure AD 테넌트와 관련이 있습니다.|**가장 복잡** 합니다. 개발자는 역할 정보를 저장하고 검색하는 방법을 구현해야 합니다.|
|**역할 값이 Azure AD 테넌트 간에 고정**|예  |아니요 |구현에 따라 달라집니다.|
|**역할 값을 여러 애플리케이션에 사용 가능**|아니요. 각 앱 등록에서 역할 구성이 중복되지 않는 한 사용할 수 없습니다.|예 |예 |
|**디렉터리 내에 정보 저장**|예  |예 |아니요 |
|**토큰을 통해 정보 전달**|예(역할 클레임)  |예*(그룹 클레임) |아니요. 런타임에 사용자 지정 코드를 통해 검색됩니다. |
|**수명**|디렉터리의 앱 등록에 있습니다. 앱 등록이 제거될 때 제거됩니다.|디렉터리에 있습니다. 앱 등록이 제거되어도 그대로 유지됩니다. |사용자 지정 데이터 저장소에 있습니다. 앱 등록에 연결되지 않습니다.|


> [!NOTE]
> 예* - 초과분이 발생할 경우 런타임에 *그룹 클레임* 을 검색해야 할 수도 있습니다.

## <a name="next-steps"></a>다음 단계

- [애플리케이션에 앱 역할을 추가하고 토큰에서 앱 역할을 수신하는 방법](./howto-add-app-roles-in-azure-ad-apps.md)
- [Microsoft ID 플랫폼에 애플리케이션 등록](./quickstart-register-app.md)
- [Azure ID 관리 및 액세스 제어 보안 모범 사례](../../security/fundamentals/identity-management-best-practices.md)