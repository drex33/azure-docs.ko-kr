### YamlMime:FAQ
metadata:
  title: Azure Cosmos DB의 Gremlin API에 관해 자주 묻는 질문
  description: Azure Cosmos DB의 Gremlin API에 관해 자주 묻는 질문과 대답 확인하기
  author: SnehaGunda
  ms.service: cosmos-db
  ms.subservice: cosmosdb-graph
  ms.topic: conceptual
  ms.date: 04/28/2020
  ms.author: sngun
  ms.openlocfilehash: ae7dc956f7cc5b50d9ce2b0ad197a5c523168e4b
  ms.sourcegitcommit: 17345cc21e7b14e3e31cbf920f191875bf3c5914
  ms.translationtype: HT
  ms.contentlocale: ko-KR
  ms.lasthandoff: 05/19/2021
  ms.locfileid: "111907590"
title: Azure Cosmos DB의 Gremlin API에 관해 자주 묻는 질문
summary: >
  [!INCLUDE[appliesto-gremlin-api](includes/appliesto-gremlin-api.md)]


  이 문서에서는 Azure Cosmos DB의 Gremlin API에 관해 자주 묻는 질문 몇 가지와 대답을 설명합니다.
sections:
- name: Gremlin 쿼리
  questions:
  - question: >
      Gremlin 쿼리의 효율성을 평가하는 방법
    answer: >
      **executionProfile()** 미리 보기 단계를 사용하여 쿼리 실행 계획에 대한 분석을 제공할 수 있습니다. 이 단계는 다음 예와 같이 Gremlin 쿼리 끝에 추가해야 합니다.


      **쿼리 예제**


      ```

      g.V('mary').out('knows').executionProfile()

      ```


      **예제 출력**


      ```json

      [
        {
          "gremlin": "g.V('mary').out('knows').executionProfile()",
          "totalTime": 8,
          "metrics": [
            {
              "name": "GetVertices",
              "time": 3,
              "annotations": {
                "percentTime": 37.5
              },
              "counts": {
                "resultCount": 1
              }
            },
            {
              "name": "GetEdges",
              "time": 5,
              "annotations": {
                "percentTime": 62.5
              },
              "counts": {
                "resultCount": 0
              },
              "storeOps": [
                {
                  "count": 0,
                  "size": 0,
                  "time": 0.6
                }
              ]
            },
            {
              "name": "GetNeighborVertices",
              "time": 0,
              "annotations": {
                "percentTime": 0
              },
              "counts": {
                "resultCount": 0
              }
            },
            {
              "name": "ProjectOperator",
              "time": 0,
              "annotations": {
                "percentTime": 0
              },
              "counts": {
                "resultCount": 0
              }
            }
          ]
        }
      ]

      ```


      위 프로필의 출력은 꼭짓점 개체, 모서리 개체 및 유효 데이터 세트 크기를 얻는 데 소비하는 시간을 보여 줍니다. 이는 Azure Cosmos DB 쿼리에 대한 표준 비용 측정과 관련이 있습니다.
- name: 기타 질문과 대답
  questions:
  - question: >
      그래프 데이터베이스에서 쿼리 실행 시 RU/s는 어떻게 청구되나요?
    answer: >
      모든 그래프 개체, 꼭짓점 및 모서리는 백 엔드에서 JSON 문서로 표시됩니다. 하나의 Gremlin 쿼리가 한 번에 하나 이상의 그래프 개체를 수정할 수 있으므로 쿼리와 연결된 비용은 쿼리에서 처리하는 개체인 모서리와 직접 관련이 있습니다. 이것은 Azure Cosmos DB가 모든 다른 API에 사용하는 것과 동일한 프로세스입니다. 자세한 내용은 [Azure Cosmos DB의 요청 단위](request-units.md)를 참조하세요.


      RU 청구는 결과 집합이 아닌 횡단의 유효 데이터 집합에 기반합니다. 예를 들어 쿼리가 결과로 단일 꼭짓점을 획득하려고 하지만 도중에 둘 이상의 다른 개체를 트래버스해야 한다면 비용은 한 개의 결과 꼭짓점을 컴퓨팅하기 위해 사용되는 모든 그래프 개체에 기반합니다.
  - question: >
      Azure Cosmos DB Gremlin API에서 그래프 데이터베이스의 최대 규모는 얼마인가요?
    answer: >
      Azure Cosmos DB는 [수평 분할](partitioning-overview.md)을 활용하여 스토리지 및 처리량 요구 사항 증가를 자동으로 해결합니다. 워크로드의 최대 처리량 및 스토리지 용량은 지정된 컨테이너와 연결된 파티션 수에 따라 결정됩니다. 그러나 Gremlin API 컨테이너에는 대규모로 적절한 성능 경험을 보장할 수 있도록 특정 세트의 지침이 있습니다. 분할에 대한 자세한 내용 및 모범 사례는 [Azure Cosmos DB에서 분할](partitioning-overview.md) 문서를 참조하세요.
  - question: >
      C#.NET 개발의 경우 Microsoft.Azure.Graphs 패키지 또는 Gremlin.NET를 사용해야 하나요?
    answer: >
      Azure Cosmos DB Gremlin API는 서비스의 기본 커넥터로 오픈 소스 드라이버를 활용합니다. 따라서 권장되는 옵션은 [Apache Tinkerpop에서 지원하는 드라이버](https://tinkerpop.apache.org/)를 사용하는 것입니다.
  - question: >
      Gremlin 드라이버를 사용하여 삽입 공격을 방지하려면 어떻게 하나요?
    answer: >
      대부분의 네이티브 Apache Tinkerpop Gremlin 드라이버는 쿼리 실행에 매개 변수 사전을 제공하는 옵션을 허용합니다. 다음은 [Gremlin.Net](https://tinkerpop.apache.org/docs/3.2.7/reference/#gremlin-DotNet) 및 [Gremlin-Javascript](https://github.com/Azure-Samples/azure-cosmos-db-graph-nodejs-getting-started/blob/main/app.js)에서 수행하는 방법의 예제입니다.
  - question: >
      “Gremlin 쿼리 컴파일 오류: 메서드를 찾을 수 없음” 오류가 표시되는 이유는 무엇인가요?
    answer: >
      Azure Cosmos DB Gremlin API는 Gremlin 노출 영역에 정의된 기능의 하위 집합을 구현합니다. 지원되는 단계 및 자세한 내용은 [Gremlin 지원](gremlin-support.md) 문서를 참조하세요.


      가장 좋은 해결 방법은 모든 필수 Gremlin 단계가 Azure Cosmos DB에서 지원되므로 지원되는 기능을 사용하여 필요한 Gremlin 단계를 다시 작성하는 것입니다.
  - question: >
      “WebSocketException: 상태 코드 ‘101’을 예상했을 때 서버가 상태 코드 ‘200’을 반환함” 오류가 표시되는 이유가 무엇인가요?
    answer: >
      이 오류는 잘못된 엔드포인트를 사용하는 경우 발생할 가능성이 높습니다. 이 오류를 생성하는 엔드포인트에는 다음과 같은 패턴이 있습니다.


      `https:// YOUR_DATABASE_ACCOUNT.documents.azure.com:443/`


      그래프 데이터베이스에 대한 문서 엔드포인트입니다.  사용할 올바른 엔드포인트는 다음 형식의 Gremlin 엔드포인트입니다.


      `https://YOUR_DATABASE_ACCOUNT.gremlin.cosmosdb.azure.com:443/`
  - question: >
      “RequestRateIsTooLarge” 오류가 표시되는 이유가 무엇인가요?
    answer: >
      이 오류는 초당 할당된 요청 단위가 쿼리를 처리할 정도로 충분하지 않다는 것을 의미합니다. 이 오류는 일반적으로 모든 꼭짓점을 가져오는 쿼리를 실행할 때 표시됩니다.


      ```

      // Query example:

      g.V()

      ```


      이 쿼리는 그래프에서 모든 꼭짓점을 가져오려고 합니다. 따라서 이 쿼리의 비용은 RU 측면에서 적어도 꼭짓점 개수와 동일하게 됩니다. 초당 RU는 이 쿼리를 해결할 수 있도록 조정되어야 합니다.
  - question: >
      내 Gremlin 드라이버 연결이 갑자가 끊어진 이유는 무엇인가요?
    answer: >
      Gremlin 연결은 WebSocket 연결을 통해 이루어집니다. WebSocket 연결에 특정 TTL(Time to Live)이 없을 경우 Azure Cosmos DB Gremlin API는 30분의 비활성 후 유휴 연결을 종료합니다.
  - question: >
      네이티브 Gremlin 드라이버에서 흐름 API 호출을 왜 사용할 수 없나요?
    answer: >
      흐름 API 호출은 Azure Cosmos DB Gremlin API에서 아직 지원되지 않습니다. Fluent API 호출은 Azure Cosmos DB Gremlin API에서 현재 지원되지 않는, 바이트코드 지원이라는 내부 서식 지정 기능이 필요합니다. 같은 이유로 인해 최신 Gremlin-JavaScript 드라이버도 현재 지원되지 않습니다.
additionalContent: "\n## <a name=\"next-steps\"></a>다음 단계\n\n* [Azure Cosmos DB Gremlin 유선 프로토콜 지원](gremlin-support.md)\n* [Gremlin 콘솔](create-graph-gremlin-console.md)을 사용하여 Azure Cosmos DB 그래프 데이터베이스 만들기, 쿼리 및 트래버스"
