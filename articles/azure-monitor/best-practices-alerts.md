---
title: Azure Monitor 모범 사례-경고 및 자동화 된 작업
description: Azure Monitor 경고 및 자동화 된 작업의 배포에 대 한 권장 사항입니다.
ms.topic: conceptual
author: bwren
ms.author: bwren
ms.date: 10/18/2021
ms.openlocfilehash: 933c05bc48fedf9502d63acd5f5dc3fa1f4c133f
ms.sourcegitcommit: 92889674b93087ab7d573622e9587d0937233aa2
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/19/2021
ms.locfileid: "130182372"
---
# <a name="deploying-azure-monitor---alerts-and-automated-actions"></a>Azure Monitor 배포-경고 및 자동화 된 작업
이 문서는 [Azure Monitor를 구성](best-practices.md)하는 권장 사항 시나리오의 일부입니다. 모니터링 데이터에서 식별 된 중요 한 데이터 나 패턴을 사전에 알리는 Azure Monitor의 경고에 대 한 지침을 제공 합니다. Azure Portal에서 경고를 보거나, 자동 관리 알림을 보내거나, 문제를 해결 하기 위해 자동화 된 작업을 시작 하도록 할 수 있습니다. 
## <a name="alerting-strategy"></a>경고 전략
경고 전략은 다양 한 시나리오에 대해 만들 경고 규칙 유형에 대 한 조직 표준을 정의 하 고, 경고를 만든 후 분류 하 고 관리 하는 방법, 경고에 대 한 응답으로 수행할 수 있는 자동화 된 작업 및 알림을 제공 합니다. 경고 전략을 정의 하는 것은 경고 심각도 및 작업 그룹을 포함 하 여 경고 규칙의 구성을 정의 하는 데 도움이 됩니다.

경고 전략을 개발할 때 고려해 야 하는 요소에 대 한 [성공적인 경고 전략](/azure/cloud-adoption-framework/manage/monitor/alerting#successful-alerting-strategy) 을 참조 하세요.


## <a name="alert-rule-types"></a>경고 규칙 유형
Azure Monitor 경고는 생성 해야 하는 경고 규칙에 의해 생성 됩니다. 권장 되는 경고 규칙에 대 한 지침은 각 Azure 서비스에 대 한 모니터링 설명서를 참조 하세요. Azure Monitor에는 기본적으로 경고 규칙이 없습니다. 

사용하는 데이터 형식에 따라 여러 유형의 경고 규칙이 정의되어 있습니다. 각각에는 서로 다른 기능과 비용이 있습니다. 수행해야 하는 기본 전략은 필요한 논리를 제공하는 비용이 가장 낮은 경고 규칙 유형을 사용하는 것입니다.

- [활동 로그 규칙](alerts/activity-log-alerts.md). 지정된 조건과 일치하는 새 활동 로그 이벤트에 대한 응답으로 경고를 만듭니다. 이러한 경고에 대 한 비용은 없으며, 이러한 경고는 검색할 수 있는 조건이 제한 되어 있지만 먼저 선택 해야 합니다. 활동 로그 경고 만들기에 대한 자세한 내용은 [Azure Monitor를 사용하여 활동 로그 경고 만들기, 보기 및 관리](alerts/alerts-activity-log.md)를 참조하세요.
- [메트릭 경고 규칙](alerts/alerts-metric-overview.md). 임계값을 초과하는 하나 이상의 메트릭 값에 대한 응답으로 경고를 만듭니다. 메트릭 경고는 값이 임계값 아래로 떨어지면 경고가 자동으로 닫히는 상태 저장 의미이며 상태가 변경될 때만 알림을 보냅니다. 메트릭 경고에 대 한 비용이 발생 하지만 로그 경고 보다 훨씬 적은 경우가 많습니다. 메트릭 경고 만들기에 대한 자세한 내용은 [Azure Monitor를 사용하여 메트릭 경고 만들기, 보기 및 관리](alerts/alerts-metric.md)를 참조하세요.
- [로그 경고 규칙](alerts/alerts-unified-log.md). 일정 쿼리 결과가 지정된 조건과 일치하는 경우 경고를 만듭니다. 이러한 규칙은 경고 규칙 중 가장 비용이 많이 들지만 가장 복잡한 기준을 허용합니다. 로그 쿼리 경고 만들기에 대한 자세한 내용은 [Azure Monitor를 사용하여 로그 경고 만들기, 보기 및 관리](alerts/alerts-log.md)를 참조하세요.
- [애플리케이션 경고](app/monitor-web-app-availability.md)를 사용하면 웹 애플리케이션의 사전 성능 및 가용성 테스트를 수행할 수 있습니다. 간단한 ping 테스트를 무료로 수행할 수 있지만 더 복잡한 테스트를 위한 비용이 듭니다. 다양한 테스트에 대한 설명과 테스트 생성에 대한 자세한 내용은 [웹 사이트의 가용성 모니터링](app/monitor-web-app-availability.md)을 참조하세요.

## <a name="alert-severity"></a>경고 심각도
각 경고 규칙은 아래 테이블을 기준으로 생성 되는 경고의 심각도를 정의 합니다. Azure Portal 경고는 수준 별로 그룹화 되므로 유사한 경고를 함께 관리 하 고 가장 높은 긴급성이 필요한 것을 신속 하 게 식별할 수 있습니다.

| Level | Name | 설명 |
|:---|:---|:---|
| Sev 0 | 위험  | 서비스 또는 응용 프로그램 가용성 손실 또는 심각한 성능 저하 즉각적인 주의가 필요 합니다. |
| Sev 1 | 오류  | 응용 프로그램 또는 서비스의 일부 측면에서 성능 저하 또는 성능 저하 주의가 필요 하지만 즉각적인 실행은 필요 하지 않습니다. |
| Sev 2 | 경고 | 주소를 지정 하지 않은 경우에도 더 많은 서버 문제가 발생할 수 있지만 가용성 또는 성능에 대 한 현재 손실을 포함 하지 않는 문제가 발생 합니다. |
| 심각도 3 | 정보 제공 | 는 문제를 나타내는 것이 아니라 일반적인 프로세스를 성공적으로 완료 하는 것과 같은 연산자에 대 한 흥미로운 정보를 표시 합니다. |
| 심각도 4 | 자세히 | 자세한 정보는 유용 하지 않음 

각 규칙에서 식별 하는 조건의 심각도를 평가 하 여 적절 한 수준을 할당 해야 합니다. 각 심각도 수준에 할당 하는 문제의 유형과 각 심각도에 대 한 표준 응답은 경고 전략에 정의 해야 합니다. 

## <a name="action-groups"></a>작업 그룹
Azure Monitor의 경고에 대 한 자동화 된 응답은 [작업 그룹](alerts/action-groups.md)에 정의 되어 있습니다. 작업 그룹은 경고가 트리거될 때 발생 하는 하나 이상의 알림과 동작의 컬렉션입니다. 단일 작업 그룹을 여러 경고 규칙과 함께 사용 하 고 다음 중 하나 이상을 포함할 수 있습니다.

- 알림. 운영자와 관리자에 게 경고가 생성 되었음을 알리는 메시지입니다.
- 동작. 검색 된 문제의 해결을 시도 하는 자동화 된 프로세스 
## <a name="notifications"></a>알림
알림은 하나 이상의 사용자에 게 전송 되어 경고가 생성 되었음을 알리는 메시지입니다. 단일 작업 그룹을 여러 경고 규칙과 함께 사용할 수 있으므로 동일한 경고 집합을 받을 여러 관리자 및 사용자 집합에 대 한 작업 그룹 집합을 디자인 해야 합니다. 사용자의 운영자와 조직 표준의 기본 설정에 따라 다음과 같은 알림 유형을 사용 합니다.

- 메일
- sms
- Azure 앱에 푸시
- 음성
- 메일 Azure Resource Manager 역할

## <a name="actions"></a>동작
작업은 경고에 대 한 자동화 된 응답입니다. 지원 되는 모든 시나리오에 사용할 수 있는 작업을 사용할 수 있지만, 다음 섹션에서는 각 작업을 일반적으로 사용 하는 방법을 설명 합니다.

### <a name="automated-remediation"></a>자동화된 수정
다음 작업을 사용 하 여 경고에 의해 식별 된 문제를 자동으로 수정 합니다. 

- Automation runbook-Azure Automation에서 기본 제공 또는 사용자 지정 runbook을 시작 합니다. 예를 들어 기본 제공 runbook을 사용 하 여 가상 컴퓨터를 다시 시작 하거나 확장 하는 등의 기능을 수행할 수 있습니다.
- Azure 기능-Azure 함수를 시작 합니다.


### <a name="itsm-and-on-call-management"></a>ITSM 및 호출 시 관리

- ITSM- [itsm 커넥터]() 를 사용 하 여 Azure Monitor의 경고를 기반으로 itsm 도구에서 작업 항목을 만듭니다. 먼저 커넥터를 구성한 다음 경고 규칙에서 **Itsm** 작업을 사용 합니다.
- 웹 후크-PagerDuty 및 Splunk On Call과 같은 웹 후크를 지 원하는 인시던트 관리 시스템에 경고를 보냅니다.
- 보안 webhook-Azure AD 인증와 itsm 통합


## <a name="minimizing-alert-activity"></a>경고 작업 최소화
사용자 환경에서 중요 한 정보에 대 한 경고를 생성 하려는 경우에는이를 보장 하지 않는 문제에 대 한 경고 및 알림을 만들지 않도록 해야 합니다. 다음 지침에 따라 관리자에 대 한 과도 한 정보와 알림을 생성 하지 않는 동안 중요 한 문제가 표시 되도록 경고 작업을 최소화 합니다. 

- 증상이 적절 한 경고 후보 인지 여부를 확인 하는 원칙에 대 한 [성공적인 경고 전략](/azure/cloud-adoption-framework/manage/monitor/alerting#successful-alerting-strategy) 을 참조 하세요.
- 메트릭 경고 규칙의 **경고 자동 해결** 옵션을 사용 하 여 조건이 해결 된 경우 경고를 해결할 수 있습니다.
- 동일한 문제에 대 한 여러 경고를 만들지 못하도록 하는 로그 쿼리 경고 규칙에서 **경고 표시 안 함** 옵션을 사용 합니다.
- 우선 순위가 높은 문제를 함께 분석할 수 있도록 경고 규칙에 적절 한 심각도 수준을 사용 해야 합니다.
- 경고에 대 한 알림은 즉각적인 주의가 필요 하지 않으므로 경고에 대 한 알림을 제한 합니다.

## <a name="create-alert-rules-at-scale"></a>대규모로 경고 규칙 만들기
일반적으로 중요 한 모든 Azure 응용 프로그램 및 리소스에 대 한 문제에 대 한 경고를 표시 하기 때문에, 규모에 따라 경고 규칙을 만드는 방법을 활용 해야 합니다.

- Azure Monitor는 동일한 Azure 지역에 존재 하는 리소스에 대해 하나의 메트릭 경고 규칙을 사용 하 여 동일한 유형의 여러 리소스를 모니터링 하도록 지원 합니다. 현재이 기능에 대해 지원 되는 Azure 서비스 목록은 [Azure Monitor 메트릭 경고를 사용 하 여 규모에 맞게 모니터링](alerts/alerts-metric-overview.md#monitoring-at-scale-using-metric-alerts-in-azure-monitor) 을 참조 하세요.
- 여러 리소스를 지원 하지 않는 Azure 서비스에 대 한 메트릭 경고 규칙의 경우 리소스 관리자 템플릿을 사용 하 여 CLI 및 PowerShell과 같은 자동화 도구를 활용 하 여 여러 리소스에 대해 동일한 경고 규칙을 만듭니다. 예제는 [Azure Monitor에서 메트릭 경고 규칙에 대 한 리소스 관리자 템플릿 샘플](alerts/resource-manager-alerts-metric.md) 을 참조 하세요.
- 여러 리소스에 대 한 데이터를 반환 하는 로그 쿼리 경고 규칙에 쿼리를 작성 합니다. 규칙의 **차원에 따라 분할** 설정을 사용 하 여 각 리소스에 대 한 별도의 경고를 만듭니다.


> [!NOTE]
> 현재 공개 미리 보기로 제공 되는 리소스 중심 로그 쿼리 경고 규칙을 사용 하 여 구독 또는 리소스 그룹의 모든 리소스를 로그 쿼리 경고의 대상으로 사용할 수 있습니다. 

## <a name="next-steps"></a>다음 단계

- [Azure Monitor 데이터에서 경고 및 자동화 된 작업 정의](best-practices-alerts.md)