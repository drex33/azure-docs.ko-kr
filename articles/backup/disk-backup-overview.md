---
title: Azure Disk Backup 개요
description: Azure Disk Backup 솔루션에 대해 알아봅니다.
ms.topic: conceptual
ms.date: 05/27/2021
ms.openlocfilehash: f1c27241e0b61cc4ae491f7bf4a4281d24cd09b6
ms.sourcegitcommit: 0046757af1da267fc2f0e88617c633524883795f
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/13/2021
ms.locfileid: "122566447"
---
# <a name="overview-of-azure-disk-backup"></a>Azure Disk Backup 개요

Azure Disk Backup은 관리 디스크에서 데이터를 보호하는 클라우드 기반의 네이티브 백업 솔루션입니다. 몇 가지 단계를 통해 관리 디스크에 대한 보호를 구성할 수 있는 간단하고 안전하며 비용 효율적인 솔루션입니다. 재해 시나리오에서 데이터를 복구할 수 있도록 보장합니다.

Azure Disk Backup은 스냅샷 생성을 정기적으로 자동화하고 백업 정책을 사용하여 구성된 기간 동안 유지함으로써 관리 디스크에 대한 스냅샷 수명 주기 관리를 제공하는 턴키 솔루션을 제공합니다. 인프라 비용이 0이고 사용자 지정 스크립팅 또는 관리 오버헤드가 없어도 디스크 스냅샷을 관리할 수 있습니다. 매일 여러 백업에 대한 지원을 포함하는 [증분 스냅샷](../virtual-machines/disks-incremental-snapshots.md)을 사용하여 관리 디스크의 지정 시간 백업을 수행하는 충돌 일관성 백업 솔루션입니다. 에이전트 없는 솔루션이기도 하며 프로덕션 애플리케이션 성능에 영향을 미치지 않습니다. 현재 실행 중인 Azure 가상 머신에 연결되어 있는지 여부에 관계 없이 OS 및 데이터 디스크(공유 디스크 포함)의 백업 및 복원을 지원합니다.

데이터 디스크를 포함하여 가상 머신의 애플리케이션 일관적 백업이 필요한 경우 또는 백업에서 전체 가상 컴퓨터를 복원 하거나, 파일이나 폴더를 복원하거나, 보조 지역으로 복원하는 옵션을 사용하는 경우 [Azure VM 백업](backup-azure-vms-introduction.md) 솔루션을 사용합니다. Azure Backup은 [Azure VM 백업](./backup-azure-vms-introduction.md) 솔루션에 더해 디스크 백업을 사용하여 관리 디스크의 백업에 대한 병렬 지원을 제공합니다. 이는 가상 머신의 애플리케이션 일치 백업을 하루에 한 번 수행해야 하며, 프로덕션 애플리케이션 성능에 영향을 주지 않고 크래시가 일치하는 OS 디스크 또는 특정 데이터 디스크의 백업을 더 자주 수행해야 하는 경우에도 유용합니다.

Azure Disk Backup은 **백업 센터** 에 통합되어 있습니다. 백업 센터는 Azure에서 기업이 대규모 백업을 제어, 모니터링, 운영, 분석하는 데 사용할 수 있는 단일 통합 관리 환경을 제공합니다.

## <a name="key-benefits-of-disk-backup"></a>디스크 백업의 이점

Azure Disk backup은 [증분 스냅샷](../virtual-machines/disks-incremental-snapshots.md)을 사용하고 다음과 같은 이점을 제공하는 에이전트 없는 충돌 일치 솔루션입니다.

- 가상 머신을 중단하지 않고 더 많은 빈도와 및 빠른 백업.
- 프로덕션 애플리케이션의 성능에 영향을 미치지 않음.
- 사용자 지정 스크립트를 실행하거나 에이전트를 설치할 필요가 없기 때문에 보안에 문제가 없음.
- 전체 가상 머신을 백업하는 것과 비교할 때 특정 디스크를 백업하는 비용 효율적인 솔루션.

Azure Disk 백업 솔루션은 다음과 같은 시나리오에서 유용합니다.

- 애플리케이션을 중단하지 않고 매일 자주 백업해야 합니다.
- 클러스터 시나리오에서 앱 실행 중: Windows Server 장애 조치(failover) 클러스터 및 Linux 클러스터가 모두 공유 디스크에 기록합니다.
- 애플리케이션의 보안 또는 성능 문제로 인해 에이전트 없는 백업에 대한 구체적인 요건이 있습니다.
- LOB(기간 업무) 앱이 볼륨 섀도 복사본 서비스(VSS)를 지원하지 않기 때문에 VM의 애플리케이션 일치 백업이 적합하지 않음

다음과 같은 시나리오에서 Azure Disk Backup을 고려하세요.

- 중요 업무용 애플리케이션이 Azure 가상 머신에서 실행되어 복구 지점 목표를 충족하기 위해 하루에 여러 차례 백업을 요구하지만 프로덕션 환경 또는 애플리케이션 성능에 영향을 미치지 않습니다.
- 조직 또는 업계 규정에서 보안 문제로 에이전트 설치를 제한합니다.
- 사용자 지정 사전 또는 사후 스크립트를 실행하고 Linux 가상 머신에서 동결 및 재개를 호출하여 애플리케이션 일치 백업이 프로덕션 워크로드 가용성에 대해 과도한 오버헤드가 발생합니다.
- AKS(Azure Kubernetes Service) 클러스터에서 실행되는 컨테이너화된 애플리케이션이 관리 디스크를 영구 스토리지로 사용합니다. 지금은 관리하기 어려운 자동화 스크립트를 통해 관리 디스크를 백업해야 합니다.
- 관리 디스크가 파일 공유로 사용되는 중요한 비즈니스 데이터를 보유하고 있거나, 데이터베이스 백업 파일을 포함하고 있으며, Azure VM 백업에 투자하지 않고 백업 비용을 최적화하고자 합니다.
- 웹 서버, 상태 비저장 머신을 호스트하거나 애플리케이션 구성 설정을 사용하여 스테이징 환경으로 사용되는 많은 Linux 및 Windows 단일 디스크 가상 머신(즉, OS 디스크가 연결되어 있고 데이터 디스크는 연결되지 않은 가상 머신)이 있고, OS 디스크를 보호하기 위한 비용 효율적인 백업 솔루션이 필요합니다. 예를 들어 가상 머신을 업그레이드하거나 패치를 적용하기 전에 빠른 주문형 백업을 트리거하려 합니다.
- 가상 머신이 Azure VM 백업 솔루션에서 지원하지 않는 OS 구성(예: Windows 2008 32비트 서버)을 실행하고 있습니다.

## <a name="how-the-backup-and-restore-process-works"></a>백업 및 복원 프로세스 방식

- Azure Managed Disks에 대한 백업 구성의 첫 단계는 [백업 자격 증명 모음](backup-vault-overview.md) 만들기입니다. 자격 증명 모음은 서로 다른 워크로드를 통해 구성된 백업에 대한 통합 보기를 제공합니다. Azure Disk 백업은 운영 계층 백업만 지원합니다. 자격 증명 모음 스토리지 계층에 대한 백업 복사는 지원되지 않습니다. 따라서 백업 자격 증명 모음 스토리지 중복 설정(LRS/GRS)은 운영 계층에 저장된 백업에 적용되지 않습니다.

- 그런 다음 백업 빈도 및 보존 기간을 구성할 수 있는 백업 정책을 만듭니다.

- 백업을 구성하려면 백업 자격 증명 모음으로 이동하고, 백업 정책을 할당하고, 백업해야 하는 관리 디스크를 선택하고, 스냅샷을 저장하고 관리할 리소스 그룹을 제공합니다. Azure Backup은 백업 빈도에 따라 디스크의 증분 스냅샷을 만드는 예약된 백업 작업을 자동으로 트리거합니다. 이전 스냅샷은 백업 정책에 지정된 보존 기간에 따라 삭제됩니다.

- Azure Backup은 관리 디스크의 [증분 스냅샷](../virtual-machines/disks-incremental-snapshots.md#restrictions)을 사용합니다. 증분 스냅샷은 마지막 스냅샷 이후 디스크의 델타 변경에 대해 청구되는 관리 디스크의 비용 효율적인 특정 시점 백업입니다. 부모 디스크의 스토리지 유형과 무관하게 항상 가장 비용 효율적 스토리지인 표준 HDD 스토리지에 저장됩니다. 디스크의 첫 번째 스냅샷은 디스크의 사용된 크기를 차지하고, 연속 증분 스냅샷은 마지막 스냅샷 이후 디스크에 대한 델타 변경을 저장합니다. Azure Backup은 생성된 스냅샷을 고유하게 식별하기 위해 자동으로 태그를 할당합니다. 

- 관리 디스크의 백업을 구성하면 백업 인스턴스가 백업 자격 증명 모음 내에 생성됩니다. 백업 인스턴스를 사용하여 백업 작업의 상태를 확인하고, 요청 시 백업을 트리거하고, 복원 작업을 수행할 수 있습니다. 또한 단일 창 보기를 제공하는 백업 센터를 사용하여 여러 자격 증명 모음 및 백업 인스턴스의 백업 상태를 확인할 수 있습니다.

- 복원하려면 디스크를 복원하려는 복구 지점을 선택하면 됩니다. 스냅샷에서 복원된 디스크를 만들 리소스 그룹을 제공합니다. Azure Backup은 스냅샷이 구독에 로컬로 저장되므로 즉시 복원 환경을 제공합니다.

- 백업 자격 증명 모음은 관리 ID를 사용하여 다른 Azure 리소스에 액세스합니다. 관리 디스크의 백업을 구성하고 이전 백업에서 복원하려면 백업 자격 증명 모음의 관리 ID에 원본 디스크에 대한 권한 집합, 스냅샷이 만들어지고 관리되는 스냅샷 리소스 그룹, 백업을 복원할 대상 리소스 그룹이 필요합니다. Azure RBAC(역할 기반 액세스 제어)를 사용하여 관리 ID에 대한 권한을 부여할 수 있습니다. 관리 ID는 Azure 리소스에서만 사용할 수 있는 특수 유형의 서비스 주체입니다. [관리 ID](../active-directory/managed-identities-azure-resources/overview.md)에 대해 자세히 알아보세요.

- 현재 Azure Disk Backup은 백업을 백업 자격 증명 스토리지에 복사하지 않는 관리 디스크의 운영 백업을 지원합니다. 지원되는 시나리오와 지원되지 않는 시나리오 목록 및 지역 가용성은 [지원 매트릭스](disk-backup-support-matrix.md)를 참조하세요.

## <a name="pricing"></a>가격 책정

Azure Backup은 관리 디스크의 [증분 스냅샷](../virtual-machines/disks-incremental-snapshots.md)을 사용합니다. 증분 스냅샷은 마지막 스냅샷 이후 델타 변경 내용이 사용하는 스토리지의 GiB당 요금이 청구됩니다. 예를 들어 프로비저닝된 크기가 128GiB이고 100GiB가 사용된 관리 디스크를 사용하는 경우 첫 번째 증분 스냅샷은 사용된 크기인 100GiB에 대해서만 요금이 청구됩니다. 두 번째 스냅샷을 만들기 전에 디스크에서 20GiB의 데이터가 추가됩니다. 이제 두 번째 증분 스냅샷은 20GiB에 대해서만 요금이 청구됩니다. 

증분 스냅샷은 부모 관리 디스크의 스토리지 유형과 관계없이 항상 표준 스토리지에 저장되고 표준 스토리지의 가격에 따라 요금이 청구됩니다. 예를 들어 프리미엄 SSD 관리 디스크의 증분 스냅샷은 표준 스토리지에 저장됩니다. 기본적으로 ZRS를 지원하는 지역의 ZRS에 저장됩니다. 그러지 않으면 LRS(로컬 중복 스토리지)에 저장됩니다. LRS 및 ZRS 옵션의 GiB당 가격은 동일합니다. 

Azure Backup에서 만든 스냅샷은 Azure 구독 내의 리소스 그룹에 저장되고 스냅샷 스토리지 요금이 발생합니다. 스냅샷 가격 책정에 대한 자세한 내용은 [관리 디스크 가격](https://azure.microsoft.com/pricing/details/managed-disks/)을 참조하세요. 스냅샷은 백업 자격 증명 모음에 복사되지 않으므로 Azure Backup 보호된 인스턴스 요금이 청구되지 않으며 백업 저장소 요금이 적용되지 않습니다. 

백업 작업 중 Azure Backup 서비스는 스냅샷이 저장되는 스냅샷 리소스 그룹에 스토리지 계정을 만듭니다. 관리 디스크의 증분 스냅샷은 스토리지 계정이 아닌 리소스 그룹에 만들어지는 ARM 리소스입니다. 

저장소 계정은 각 복구 지점에 대한 메타데이터를 저장하는 데 사용됩니다. Azure Backup 서비스는 디스크 백업 인스턴스당 Blob 컨테이너를 만듭니다. 각 복구 지점에는 작은 공간(몇 KiB)을 차지하는 복구 지점(예: 구독, 디스크 ID, 디스크 특성 등)을 설명하는 메타데이터를 저장하기 위해 블록 Blob이 생성됩니다. 

지역에서 영역 중복을 지원하는 경우 스토리지 계정은 RA GZRS로 생성됩니다. 지역에서 영역 중복을 지원하지 않으면 스토리지 계정은 RAGRS로 생성됩니다. 기존 정책이 GRS 중복이 있는 구독 또는 리소스 그룹에서 스토리지 계정 만들기를 중지하는 경우 스토리지 계정은 LRS로 만들어집니다. 생성된 스토리지 계정은 범용 v2이며 Blob 컨테이너의 핫 계층에 저장된 블록 Blob이 있습니다. 스토리지 계정의 중복성에 따라 스토리지 계정에 대한 요금이 청구됩니다. 이러한 요금은 블록 Blob의 크기에 대한 것입니다. 그러나 메타데이터만 저장하기 때문에 최소 크기가 되며 복구 지점당 KiB가 거의 없습니다. 

복구 지점 수는 디스크 백업 인스턴스의 백업을 구성하는 데 사용되는 백업 정책에 따라 결정됩니다. 이전 블록 Blob은 해당하는 이전 복구 지점이 정리되므로 가비지 수집 프로세스에 따라 삭제됩니다.

## <a name="next-steps"></a>다음 단계

[Azure Disk Backup 지원 매트릭스](disk-backup-support-matrix.md)
