---
title: Purview에서 데이터 원본을 검사하는 모범 사례
description: 이 문서에서는 Azure Purview에서 다양한 데이터 원본을 등록하고 검사하는 모범 사례를 제공합니다.
author: athenads
ms.author: athenadsouza
ms.service: purview
ms.subservice: purview-data-map
ms.topic: conceptual
ms.date: 10/08/2021
ms.openlocfilehash: 2f1df8b3c52863611365682a1217dc7924c592e1
ms.sourcegitcommit: 692382974e1ac868a2672b67af2d33e593c91d60
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/22/2021
ms.locfileid: "130273816"
---
# <a name="azure-purview-scanning-best-practices"></a>Azure Purview 검사 모범 사례

Azure Purview는 온-프레임, 다중 클라우드 및 SaaS 데이터 원본의 자동 검사를 지원합니다. "scan"을 실행하려면 프로세스를 호출하여 등록된 데이터 원본에서 메타데이터를 수집합니다. 검사 및 큐레이션 프로세스가 끝날 때 큐레이팅된 메타데이터에는 데이터 자산 이름(테이블 이름/파일 이름), 파일 크기, 열, 데이터 계보 등과 같은 기술 메타데이터가 포함됩니다. 구조적 데이터 원본(예: 관계형 데이터베이스 관리 시스템)의 경우 스키마 세부 정보도 캡처됩니다. 큐레이션 프로세스는 구성된 검사 규칙 집합에 따라 스키마 특성에 자동화된 분류 레이블을 적용하고 Purview 계정이 SCC(보안 및 규정 준수 센터)Microsoft 365 연결된 경우 민감도 레이블을 적용합니다. 

## <a name="intended-audience"></a>대상 그룹

- 데이터 아키텍처 팀
- 데이터 보존
- 데이터 원본 관리자
- 데이터 엔지니어

## <a name="why-do-you-need-best-practices-to-manage-data-sources"></a>데이터 원본을 관리하는 데 모범 사례가 필요한 이유는 무엇인가요?

모범 사례를 통해 비용을 최적화하고, 운영 효율성을 구축하고, 보안 규정 준수 및 성능 효율성을 향상시킬 수 있습니다.
디자인 고려 사항 및 권장 사항은 검사 프로세스와 관련된 주요 단계에 따라 구성되었습니다.

## <a name="register-source-and-establish-connection"></a>원본 등록 및 연결 설정

### <a name="design-considerations"></a>디자인 고려 사항

- 등록 및 검색할 데이터 원본을 정의하는 조직의 전략(지리적, 비즈니스 기능, 데이터 원본 등)에 부합하는 계층 구조는 컬렉션을 사용하여 만들어야 합니다.

- 의도적으로 동일한 Purview 계정에서 데이터 원본을 여러 번 등록할 수 없습니다. 이 아키텍처는 동일한 데이터 원본에 서로 다른 액세스 제어를 할당할 위험을 방지하는 데 도움이 됩니다.

### <a name="design-recommendations"></a>디자인 권장 사항

- 여러 팀에서 동일한 데이터 원본의 메타데이터를 사용하는 경우 부모 컬렉션에서 데이터 원본을 등록 및 관리하고 각 하위 컬렉션에서 해당 검색을 만들 수 있으므로 각 자식 컬렉션 아래에 관련 자산이 표시됩니다. 부모가 없는 원본은 부모에 연결되는 화살표가 없는 지도 보기의 점선 상자로 그룹화됩니다.

  :::image type="content" source="media/concept-best-practices/scanning-parent-child.png" alt-text="부모 컬렉션에 데이터 원본이 등록된 Azure Purview를 보여 주는 스크린샷.":::

- Azure 클라우드에서 여러 원본(Azure 구독 또는 리소스 그룹)을 등록해야 하는 경우 Azure **다중** 옵션을 사용합니다. 자세한 내용은 아래 설명서를 참조하세요.
    * [Azure Purview에서 여러 원본 검사](./register-scan-azure-multiple-sources.md)
    * [대규모 데이터 원본 준비 상태 확인](./tutorial-data-sources-readiness.md) 
    * [대규모 Azure Purview MSI의 데이터 원본에 대한 액세스 구성](./tutorial-msi-configuration.md)
     
- 데이터 원본이 등록되면 동일한 원본이 서로 다른 팀 또는 사업부에서 다르게 사용되는 경우 동일한 원본을 여러 번 검색할 수 있습니다.

데이터 원본을 등록하기 위한 계층 구조 정의에 대한 자세한 내용은 [컬렉션 아키텍처에 대한 모범 사례를 참조하세요.](./concept-best-practices-collections.md)

## <a name="scanning"></a>검사

### <a name="design-considerations"></a>디자인 고려 사항

- 데이터 원본이 등록되면 검색을 설정하여 자동화되고 안전한 메타데이터 검색 및 큐레이션을 관리해야 합니다.
- 검사 설정에는 검색 이름, 검사 범위, 통합 런타임, 검사 트리거 빈도, 검사 규칙 집합 및 검색 빈도당 각 데이터 원본에 대해 고유하게 리소스 집합을 구성하는 것이 포함됩니다.
- 자격 증명을 만들기 전에 데이터 원본 유형 및 네트워킹 요구 사항을 고려하여 시나리오에 필요한 인증 방법 및 통합 런타임을 결정합니다.

### <a name="design-recommendations"></a>디자인 권장 사항

예기치 않은 비용 및 재작업을 방지하려면 관련 [컬렉션에](./how-to-create-and-manage-collections.md)소스를 등록한 후 검사를 설정하는 경우 아래 순서를 계획하고 따르는 것이 좋습니다.

1. 시스템 기본 제공 분류 규칙에서 분류 요구 사항을 식별하거나 특정 산업, 비즈니스 및/또는 지역 요구 사항(기본 제공 가능하지 않음)에 따라 필요에 따라 특정 사용자 지정 분류 규칙을 만듭니다.
    - 분류되는 데이터 요소가 정규식 패턴을 사용하여 일관되게 표현될 수 있거나 데이터 파일을 사용하여 패턴을 생성할 수 있는 경우 정규식 메서드를 사용합니다. 샘플 데이터가 모집단을 반영하는지 확인합니다.
    - 데이터 요소의 값 목록이 지정된 데이터 집합을 준수해야 하는 경우 사전 메서드를 사용합니다.
    - 자세한 내용은 사용자 지정 분류 및 분류 규칙을 만드는 방법에 대한 [자습서를 참조하세요.](./create-a-custom-classification-and-classification-rule.md)

2. 분류 프로세스로 인해 검색 기간이 길어질 수 있으며 이로 인해 추가 비용이 발생할 수 있습니다. 따라서 검사하는 데이터 원본과 관련된 분류 규칙만 선택하는 것이 좋습니다.
    - 원본별로 검사 규칙 집합을 만들고 구성된 시스템 및 사용자 지정 분류 규칙을 포함한 관련 분류 규칙을 선택합니다.
    - 검사 규칙 집합을 설정하는 동안 아래를 확인합니다.
        - 시스템 기본 검사 규칙 집합이 검사 중인 데이터 원본에 적합한지 확인하고, 그렇지 않은 경우 사용자 지정 검사 규칙 집합을 정의합니다.
        - 사용자 지정 검사 규칙 집합에는 시스템 기본값과 사용자 지정이 모두 포함될 수 있으므로 검사 중인 데이터 자산과 관련이 없는 검사 규칙 집합의 선택을 취소합니다.
        - 특정 산업, 비즈니스 및/또는 지역 요구 사항에 대한 분류에 대한 시스템 기본 규칙을 항상 확인합니다.
        - 필요한 경우 사용자 지정 규칙 집합을 만들어 원치 않는 분류 레이블을 제외합니다. 예를 들어 시스템 규칙 집합에는 미국뿐만 아니라 전 세계에 대한 일반 정부 코드 패턴이 포함됩니다. 따라서 데이터가 다른 형식의 패턴과 일치할 수 있습니다(예: "2차 운전 기사의 라이선스 번호").
        - 사용자 지정 분류 규칙을 가장 중요하고 관련 있는 레이블로 제한하여 복잡해지도록(자산에 태그가 지정된 레이블이 너무 많음)
        - 업데이트 시나리오: 사용자 지정 분류 또는 검사 규칙 집합을 수정하면 전체 검사가 트리거됩니다. 따라서 재작업 및 비용이 많이 드는 전체 검사를 방지하기 위해 분류 및 검사 규칙 집합을 적절하게 구성하는 것이 좋습니다.
        - 다국어 데이터 분류는 아직 지원되지 않습니다.
        - 사용자 지정 분류 검사를 만드는 동안 잘못된 분류를 방지하기 위해 패턴 규칙 및 임계값을 확인하고 적절하게 구성했는지 확인합니다.
        - 스토리지 계정을 검색할 때 Azure Purview는 정의된 패턴 집합을 사용하여 자산 그룹이 리소스 집합을 구성하는지 확인합니다. 리소스 집합 패턴 규칙을 사용하면 Azure Purview가 리소스 집합으로 그룹화되는 자산을 검색하는 방법과 카탈로그 내에 표시되는 방법을 사용자 지정하거나 재정의할 수 있습니다. 자세한 내용은 [리소스 집합 패턴 규칙을 만드는 방법을](./how-to-resource-set-pattern-rules.md) 참조하세요. 
        > [!NOTE]
        > 이 기능에는 비용 고려 사항이 있습니다. 자세한 내용은 [가격 책정 페이지를](https://azure.microsoft.com/pricing/details/azure-purview/) 참조하세요.

3. 등록된 데이터 원본에 대한 검색 설정
    - **검사 이름:** 기본적으로 Purview는 **SCAN-[A-Z][a-z][a-z][a-z]** 명명 규칙을 사용합니다. 이는 실행한 검색을 식별하려고 할 때 유용하지 않습니다. 의미 있는 명명 규칙을 사용하는 것이 좋습니다.  인스턴스는 검색 이름을 _environment-source-frequency-time(예:_ DEVODS-Daily-0200)으로 지정할 수 있습니다. 이는 0200시간의 일일 검색을 나타냅니다.
    
    - **인증**
        - Azure Purview는 원본 유형(Azure 클라우드, 온-프레임 또는 타사 원본)에 따라 데이터 원본을 검사하기 위한 다양한 인증 방법을 제공합니다. 기본 설정 순서에 따라 인증 방법에 대한 최소 권한 원칙을 따르는 것이 좋습니다.
            - Purview MSI - 관리 ID(예: Azure Data Lake Gen2 원본의 경우)
            - 사용자 할당 관리 ID
            - 서비스 주체
            - SQL 인증(예: 온-프레밍 또는 Azure SQL 원본의 경우)
            - 계정 키 또는 기본 인증(예: SAP S/4HANA 원본)
            > [!Note]
            > 스토리지 계정에 대해 방화벽을 사용하도록 설정한 경우에는 검색을 설정할 때 관리 ID 인증 방법을 사용해야 합니다.

    - **통합 런타임**
        - 가능한 경우 Azure 자동 확인 통합 런타임을 사용합니다.
        - 검사 중인 데이터 원본에 대해 퍼블릭 엔드포인트가 제한된 경우 SHIR(자체 호스팅 통합 런타임)을 설정하고 자격 증명을 만들어야 합니다. SHIR은 고객이 컴퓨터에서 검사를 실행할 수 있도록 하는 데 사용되는 도구입니다. 검사가 일반적으로 고객 컴퓨터와 함께 실행되는 Azure 컴퓨팅을 대체합니다.
        - 수집에 프라이빗 엔드포인트를 사용하는 경우 데이터 원본을 검사하는 데 Self-Hosted Integration Runtime 사용해야 합니다.
        - 최신 [버전의](https://www.microsoft.com/download/details.aspx?id=39717) SHIR이 설치되어 있는지 확인합니다.
        - SHIR이 삭제되면 SHIR을 사용하는 진행 중인 검사가 실패합니다.
      <!--
        - In Azure Purview there is no concept of SHIR HA or Shared SHIR.
        -->
        - SHIR을 사용하는 동안 검사 중인 데이터 원본에 대한 메모리가 충분한지 확인합니다. 예를 들어 SAP 원본을 검사하는 데 SHIR을 사용하는 경우 "메모리 부족 오류"가 발생할 수 있습니다.
            - SHIR 머신에 충분한 메모리가 있는지 확인합니다(128GB를 갖는 것이 좋습니다).
            - 검색 설정에서 사용 가능한 최대 메모리를 적절한 값으로 설정합니다(예: 100).
            - 자세한 내용은 [이](./register-scan-sapecc-source.md#creating-and-running-a-scan) 문서의 5.f를 참조하세요.

    - **범위 검색**
        - 검색 범위를 설정하는 동안 세분화된 수준 또는 부모 수준에서 관련된 자산만 선택합니다. 이렇게 하면 검색 비용이 최적이고 성능이 효율적입니다. 부모가 완전히 또는 부분적으로 확인되면 특정 부모 아래의 모든 미래 자산이 자동으로 선택됩니다. 예를 들면 다음과 같습니다.
            - Azure SQL Database 또는 ADLS Gen2 경우 목록에서 적절한 항목을 확인하여 폴더, 하위 폴더, 컬렉션 또는 스키마와 같은 데이터 원본의 특정 부분으로 검색 범위를 지정할 수 있습니다.
            - Oracle, Hive Metastore 데이터베이스 및 Teradata 원본의 경우 내보낼 특정 스키마 목록은 세미콜론으로 구분된 값 또는 SQL LIKE 식을 사용하는 스키마 이름 패턴을 통해 지정할 수 있습니다.
            - Google Big 쿼리의 경우 내보낼 데이터 세트의 특정 목록은 세미콜론으로 구분된 값을 통해 지정할 수 있습니다.
            - 전체 AWS 계정에 대한 검색을 만들 때 검사할 특정 버킷을 선택할 수 있습니다. 특정 AWS S3 버킷에 대한 검색을 만들 때 검색할 특정 폴더를 선택할 수 있습니다.
            - Erwin의 경우 세미콜론으로 구분된 Erwin 모델 로케이터 문자열 목록을 제공하여 검사 범위를 정할 수 있습니다.
            - Cassandra의 경우 내보낼 특정 키 공간 목록은 세미콜론으로 구분된 값 또는 SQL LIKE 식을 사용하는 키 공간 이름 패턴을 통해 지정할 수 있습니다.
            - Looker의 경우 세미콜론으로 구분된 Looker 프로젝트 목록을 제공하여 검사 범위를 정할 수 있습니다.
            - Power BI 테 넌 트의 경우 개인 작업 영역을 포함할지 아니면 제외할지만 지정할 수 있습니다.
            - 일반적으로 와일드 카드 (예: 데이터 레이크)를 기반으로 하는 ' 무시 패턴 ' (지원 되는 경우)을 사용 하 여 temp, config 파일, RDMS 시스템 테이블 또는 backup/STG 테이블을 제외 하는 것이 좋습니다.
            - 문서/비구조적 데이터를 스캔할 때 검색에서 이러한 문서 중 처음 20mb를 처리 하 고 스캔 기간이 길어질 수 있으므로 이러한 문서를 너무 많이 검색 하지 마십시오.

    - **검사 규칙 집합**
        - 검색 규칙 집합을 설정 하는 동안 이전에 만든 관련 시스템/사용자 지정 검색 규칙 집합을 구성 해야 합니다.
        - 사용자 지정 것를 만들 수 있는 옵션이 있으며, 그에 따라 세부 정보를 입력할 수 있습니다. 현재 Azure 부서의 범위는 사용자 지정 구분 기호에서 문자를 하나만 지원 합니다. 실제 데이터에서 ~와 같은 사용자 지정 구분 기호를 사용 하는 경우 새 스캔 규칙 집합을 만들어야 합니다.

    - **유형 및 일정 검사**
        - 검색 프로세스는 전체 또는 증분 검색을 실행 하도록 구성할 수 있습니다.
        - 검색 프로세스를 즉시 실행 하도록 트리거하거나 정기적으로 (매주 또는 매월) 실행 하도록 예약 하 여 메타 데이터를 최신 상태로 유지할 수 있습니다. 리소스 사용량은 검색 되는 데이터의 양에 따라 크게 달라 집니다.
        - 원본에서 처리 오버 로드를 방지 하기 위해 업무 외 시간에 검색을 실행 하거나 사용량이 적은 시간에 검색을 실행 하는 것이 좋습니다.
        - 초기 검색은 전체 검색 이며 모든 후속 검색은 증분입니다. 후속 검색은 정기적인 증분 검색으로 예약할 수 있습니다.
        - 검색 빈도는 데이터 원본 및/또는 비즈니스 요구 사항의 변경 관리 일정과 일치 해야 합니다. 예를 들면 다음과 같습니다.
            - 원본 구조가 잠재적으로 변경 될 수 있는 경우 (자산의 새 자산 또는 필드가 추가, 수정 또는 삭제 됨), 검사 빈도는 동일 하 게 동기화 되어야 합니다.
            - 분류/민감도 레이블이 주 단위 (규정 원인 때문일 수 있음)로 최신 상태 여야 하는 경우 검사 빈도가 매주로 지정 됩니다.
            예를 들어 원본 data lake에서 매주 파티션 파일을 추가 하는 경우 메타 데이터의 변경 내용이 없기 때문에 매주 검색 대신 월간 검색을 예약할 수 있습니다 (새로운 분류 시나리오가 없는 것으로 가정).
            - 만든 날짜와 같은 시간에 실행 되는 검색을 예약할 때 시작 시간은 검색 시간 앞에 1 분 이상 이어야 합니다.
            - 검색을 실행할 수 있는 최대 기간은 메모리 문제로 인해 7 일이 될 수 있습니다. 그러면 수집 프로세스가 제외 됩니다. 7 일 후에 진행률이 업데이트 되지 않은 경우 검사가 실패로 표시 됩니다. 현재 수집 (카탈로그에 포함) 프로세스에는 이러한 제한이 없습니다.

    - **검사 취소**
        - 현재 검색을 트리거한 후 검색 상태가 "대기 중" 상태로 전환 된 경우에만 검사를 취소 하거나 일시 중지할 수 있습니다.
        - 개별 자식 검색을 취소 하는 것은 지원 되지 않습니다.
        <!--
        - <need to add the concept of a parent and child scan
        - To remove any scanned assets from Purview you should remove asset by asset
        -->

    - **삭제 및 업데이트 시나리오**
        - 검색을 실행 한 후 원본 시스템에서 필드/열, 테이블 또는 파일을 제거 하는 경우 다음에 예약 된 전체/증분 검색 후에만 부서의 범위에 반영 됩니다 (제거 됨).
        - 자산의 이름 아래에 있는 **삭제** 아이콘을 사용 하 여 Azure 부서의 범위 catalog에서 자산을 삭제할 수 있습니다 (원본에서 개체가 제거 되지 않음). 그러나 동일한 원본에서 전체 검색을 실행 하는 경우 카탈로그에서 reingested 됩니다. 매주/매월 검색을 예약 하는 경우 (증분) 원본에서 개체가 수정 되지 않으면 삭제 된 자산이 선택 되지 않습니다. 예를 들어 열이 테이블에서 추가/제거 됩니다.
        - 자산 수준 업데이트 (예: 설명, 자산 수준 분류, 용어집 용어 또는 자산에 대 한 연락처 추가)를 수행 하는 경우 후속 검색은 자산 스키마 (후속 검색 실행 시 스캐너에서 검색 한 새 열 및 분류)를 업데이트 합니다.
        - 설명, 열 수준 분류, 용어집 용어를 추가 하거나 데이터 형식이 나 열 이름을 업데이트 하는 등의 열 수준 업데이트를 수행 하는 경우 후속 검색은 자산 스키마를 업데이트 하지 않습니다. 새 열 및 분류는 이후 검색 실행 시 스캐너에 의해 검색 되지 않습니다.

        자세한 내용은 [자산을 보고 편집 하 고 삭제 하는 방법](./catalog-asset-details.md) 에 대 한 자습서를 참조 하세요.

## <a name="next-steps"></a>다음 단계
-  [데이터 원본 관리](./manage-data-sources.md)
