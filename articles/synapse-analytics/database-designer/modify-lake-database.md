---
title: 데이터베이스 디자이너를 사용하여 레이크 데이터베이스를 수정합니다.
description: 데이터베이스 디자이너를 사용하여 Lake 데이터베이스를 보고, 사용자 지정하고, 게시하는 방법을 알아봅니다.
author: aamerril
ms.author: aamerril
ms.service: synapse-analytics
ms.subservice: database-editor
ms.topic: how-to
ms.date: 11/02/2021
ms.custom: template-how-to, ignite-fall-2021
ms.openlocfilehash: fbd84d3999b5aec4ea04139b1d2933a366edb5e7
ms.sourcegitcommit: 702df701fff4ec6cc39134aa607d023c766adec3
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/03/2021
ms.locfileid: "131433083"
---
# <a name="how-to-modify-a-lake-database"></a>방법: 레이크 데이터베이스 수정

이 문서에서는 데이터베이스 디자이너를 사용하여 Azure Synapse 기존 [Lake 데이터베이스를](./concepts-lake-database.md) 수정하는 방법을 알아봅니다. 데이터베이스 디자이너를 사용하면 코드를 작성하지 않고도 데이터베이스를 쉽게 만들고 배포할 수 있습니다. 

## <a name="prerequisites"></a>사전 요구 사항

- Synapse 관리자 또는 Synapse 기여자 권한은 레이크 데이터베이스를 만들기 위한 Synapse 작업 영역에 필요합니다.
- Storage 데이터 레이크에 대한 Blob 데이터 기여자 권한이 필요합니다.

## <a name="modify-database-properties"></a>데이터베이스 속성 수정
1. Azure Synapse Analytics 작업 영역 **홈** 허브의 왼쪽에 있는 **데이터** 탭을 선택합니다. **데이터** 탭이 열리면 작업 영역에 이미 있는 데이터베이스 목록이 표시됩니다.
2. **데이터베이스** 섹션을 마우스로 가리키고 수정할 데이터베이스 **옆에** 있는 ...를 선택한 다음, **열기(미리 보기)** 를 선택합니다.

    ![기존 데이터베이스를 여는 방법을 보여주는 스크린샷](./media/modify-lake-database/open-designer.png)

3. 선택한 데이터베이스가 캔버스에 로드된 데이터베이스 디자이너 탭이 열립니다.
4. 데이터베이스 디자이너에는 탭의 오른쪽 위에 있는 **속성** 아이콘을 선택하여 열 수 있는 **속성** 창이 있습니다. ![ 속성 아이콘의 위치를 보여주는 스크린샷](./media/modify-lake-database/properties-location.png)
    - **이름** 데이터베이스를 게시한 후에는 이름을 편집할 수 없으므로 선택한 이름이 올바른지 확인합니다.
    - **설명** 데이터베이스에 설명을 제공하는 것은 선택 사항이지만 사용자가 데이터베이스의 용도를 이해할 수 있습니다.
    - **데이터베이스에 대한 Storage 설정은 데이터베이스의** 테이블에 대한 기본 스토리지 정보를 포함하는 섹션입니다. 기본 설정은 테이블 자체에서 재정의되지 않는 한 데이터베이스의 각 테이블에 적용됩니다.
    - **연결된 서비스는** Azure Data Lake Storage 데이터를 저장하는 데 사용되는 기본 연결된 서비스입니다. Synapse 작업 영역과 연결된 기본 연결된 서비스가 표시되지만 연결된 서비스를 원하는 모든 ADLS 스토리지 **계정으로** 변경할 수 있습니다.  
    - **파일** 브라우저를 사용하여 연결된 서비스 내에서 기본 컨테이너 및 폴더 경로를 설정하는 데 사용되는 입력 폴더입니다.
    - Azure Synapse **데이터 형식** 레이크 데이터베이스는 parquet 및 구분된 텍스트를 데이터에 대한 스토리지 형식으로 지원합니다.
5. 데이터베이스에 테이블을 추가하려면 + **테이블** 단추를 선택합니다. 
    - **사용자 지정** 은 캔버스에 새 테이블을 추가합니다.
    - **템플릿에서** 갤러리가 열리고 새 테이블을 추가할 때 사용할 데이터베이스 템플릿을 선택할 수 있습니다. 자세한 내용은 [데이터베이스 템플릿에서 레이크 데이터베이스 만들기를 참조하세요.](./create-lake-database-from-lake-database-templates.md)
    - **데이터 레이크에서** 이미 레이크에 있는 데이터를 사용하여 테이블 스키마를 가져올 수 있습니다.
6. **사용자 지정** 을 선택합니다. 캔버스에 Table_1 라는 새 테이블이 표시됩니다.
7. 그런 다음 테이블 이름, 설명, 스토리지 설정, 열 및 관계를 포함하여 Table_1 사용자 지정할 수 있습니다. 아래의 데이터베이스 내에서 테이블 사용자 지정 섹션을 참조하세요.
8. + 테이블을 선택한 다음, 데이터 레이크에서 를 선택하여 **데이터 레이크에서** 새 **테이블을** 추가합니다.
9. **데이터 레이크에서 외부 테이블 만들기** 창이 나타납니다. 아래 세부 정보로 창을 채우고 **계속을** 선택합니다.
    - **외부 테이블 이름은** 만들려는 테이블에 지정하려는 이름입니다.
    - **연결된 서비스는** 데이터 파일이 있는 Azure Data Lake Storage 위치를 포함하는 연결된 서비스입니다.
    - **입력 파일 또는 폴더는** 파일 브라우저를 사용하여 테이블을 만들려는 레이크로 이동하여 파일을 선택합니다.
![데이터 레이크 창에서 외부 테이블 만들기의 옵션을 보여주는 스크린샷](./media/modify-lake-database/create-from-lake.png)
    - 다음 화면에서 Azure Synapse 파일을 미리 보기하고 스키마를 검색합니다.
    - 데이터 형식과 관련된 설정을 업데이트할 수 있는 **새 외부 테이블** 페이지와 데이터 미리 **보기** 페이지로 Azure Synapse 파일을 올바르게 식별했는지 확인합니다.
    - 설정에 만족하면 **만들기를** 선택합니다.
    - 선택한 이름의 새 테이블이 캔버스에 추가되고 테이블 섹션의 **Storage 설정에** 지정한 파일이 표시됩니다.
10. 데이터베이스를 사용자 지정하면 이제 게시할 차례입니다. Synapse 작업 영역과 Git 통합을 사용하는 경우 변경 내용을 커밋하고 협업 분기에 병합해야 합니다. [Azure Synapse 소스 제어에 대해 자세히 알아보세요.](././cicd/../../cicd/source-control.md) Synapse 라이브 모드를 사용하는 경우 "게시"를 선택할 수 있습니다.

     - 데이터베이스가 게시되기 전에 오류에 대한 유효성이 검사됩니다. 발견된 오류는 오류 해결 방법에 대한 지침과 함께 알림 탭에 표시됩니다.

       ![데이터베이스의 유효성 검사 오류를 보여주는 유효성 검사 창의 스크린샷](./media/create-lake-database-from-lake-database-template/validation-error.png)
     - 게시하면 Azure Synapse Metastore에 데이터베이스 스키마가 생성됩니다.  게시 후 데이터베이스 및 테이블 개체가 다른 Azure 서비스에 표시되고 데이터베이스의 메타데이터가 Power BI 또는 Purview와 같은 앱으로 흐를 수 있습니다.


## <a name="customize-tables-within-a-database"></a>데이터베이스 내 테이블 사용자 지정
데이터베이스 디자이너를 사용하면 데이터베이스의 테이블을 완전히 사용자 지정할 수 있습니다. 테이블을 선택하면 테이블의 스키마 또는 메타데이터와 관련된 설정이 각각 포함된 세 개의 탭을 사용할 수 있습니다.

### <a name="general"></a>일반
**일반** 탭에는 테이블 자체와 관련한 정보가 포함되어 있습니다.
   - 테이블 이름을 **지정합니다.** 테이블 이름은 데이터베이스 내의 고유한 값으로 사용자 지정할 수 있습니다. 이름이 같은 여러 테이블은 허용되지 않습니다.
   - (선택 **사항)에서 상속되며,** 테이블이 데이터베이스 템플릿에서 만들어진 경우 이 값이 표시됩니다. 편집할 수 없으며 파생된 템플릿 테이블을 사용자에게 알려줍니다.
   - 테이블에 **대한** 설명을 설명합니다. 데이터베이스 템플릿에서 테이블을 만든 경우 이 테이블에 표시되는 개념에 대한 설명이 포함됩니다. 이 필드는 편집할 수 있으며 비즈니스 요구 사항과 일치하는 설명과 일치하도록 변경할 수 있습니다.
   - **표시 폴더는** 이 테이블이 데이터베이스 템플릿의 일부로 그룹화되어 있는 비즈니스 영역 폴더의 이름을 제공합니다. 사용자 지정 테이블의 경우 이 값은 "기타"입니다.

     ![일반 탭의 스크린샷](./media/modify-lake-database/general-tab.png)
   - 또한 테이블에 사용되는 기본 스토리지 정보에 대한 설정을 제공하는 **테이블의 Storage 설정이라는** 축소 가능한 섹션이 있습니다.
   - **데이터베이스에서 상속 기본값은** 아래 스토리지 설정이 데이터베이스 **속성** 탭에 설정된 값에서 상속되는지 아니면 개별적으로 설정되었는지를 결정하는 확인란입니다. 스토리지 값을 사용자 지정하려면 이 확인란의 선택을 취소합니다.
      - **연결된 서비스는** Azure Data Lake Storage 데이터를 저장하는 데 사용되는 기본 연결된 서비스입니다. 다른 ADLS 계정을 선택하도록 변경합니다.     
      - 이 테이블에 로드된 데이터가 있는 ADLS의 **폴더를 입력합니다.** 파일 브라우저를 통해 편집할 수 있습니다.
      - **Azure Synapse** **입력 폴더** Lake 데이터베이스에 있는 데이터의 데이터 형식은 parquet 및 구분된 텍스트를 데이터에 대한 스토리지 형식으로 지원합니다. 데이터 형식이 폴더의 데이터와 일치하지 않으면 테이블에 대한 쿼리가 실패합니다.
   - 구분 기호로 분리된 텍스트의 **데이터 형식에** 대한 추가 설정은 다음과 같습니다.
        - **행 머리글 데이터에 행 머리글이** 있는 경우 이 확인란을 선택합니다.
        - **데이터 행에 줄이** 끊어지면 이 확인란을 선택합니다. 이렇게 하면 서식 지정 문제가 방지됩니다.
        - **데이터 압축은 데이터에** 사용되는 압축 형식입니다.
        -  데이터 파일에 사용되는 필드 구분 기호를 구분 기호로 구분합니다. 지원되는 값은 쉼표(,), 탭(\t) 및 파이프(|)입니다. 
   - Parquet 데이터의 경우 다음 설정이 있습니다.
        - **데이터 압축은 데이터에** 사용되는 압축 형식입니다.

### <a name="columns"></a>열
**열** 탭에서는 테이블의 열이 나열되고 수정할 수 있습니다. 이 탭에는 표준 열과 파티션 **열의** 두 열 목록이 **있습니다.** **표준 열은** 데이터를 저장하는 열이고, 는 기본 키이며, 그렇지 않으면 데이터 분할에 사용되지 않습니다. **파티션 열은** 데이터를 저장하지만 열에 포함된 값에 따라 기본 데이터를 폴더로 분할하는 데 사용됩니다. 각 열에는 다음과 같은 속성이 있습니다.
![열 탭의 스크린샷](./media/modify-lake-database/columns-tab.png)
   - 열 이름을 **지정합니다.** 테이블 내에서 고유해야 합니다.
   - **PK** 또는 기본 키. 열이 테이블의 기본 키인지 여부를 나타냅니다. 파티션 열에는 적용되지 않습니다.
   - **열에** 대한 설명을 설명합니다. 데이터베이스 템플릿에서 열을 만든 경우 이 열이 나타내는 개념에 대한 설명이 표시됩니다. 이 필드는 편집할 수 있으며 비즈니스 요구 사항과 일치하는 설명과 일치하도록 변경할 수 있습니다.
   - **Nullability는** 이 열에 null 값이 있을 수 있는지 여부를 나타냅니다. 파티션 열에는 적용되지 않습니다.
   - **데이터 형식은** 사용 가능한 Spark 데이터 형식 목록을 기반으로 열의 데이터 형식을 설정합니다. 
   - **형식/길이를** 사용하면 데이터 형식에 따라 열의 형식 또는 최대 길이를 사용자 지정할 수 있습니다. 날짜 및 타임스탬프 데이터 형식에는 형식 드롭다운이 있고 문자열과 같은 다른 형식에는 최대 길이 필드가 있습니다. 일부 형식은 고정 길이이기 때문에 일부 데이터 형식에 값이 있는 것은 아닙니다.
열 탭의 맨 위에는 **열과** 상호 작용하는 데 사용할 수 있는 명령 모음이 있습니다.
   - **키워드로 필터링은** 열 목록을 지정된 키워드와 일치하는 항목으로 필터링합니다.
   - **+ 열을** 사용하면 새 열을 추가할 수 있습니다. 세 가지 가능한 옵션이 있습니다.
      - **새 열은** 새 사용자 지정 표준 열을 만듭니다.
      - **템플릿에서** 탐색 창이 열리고 테이블에 포함할 데이터베이스 템플릿의 열을 식별할 수 있습니다. 데이터베이스 템플릿을 사용하여 데이터베이스를 만들지 않은 경우 이 옵션이 표시되지 않습니다.
      - **파티션 열은** 새 사용자 지정 파티션 열을 추가합니다.
   - **복제는** 선택한 열을 복제합니다. 복제된 열은 항상 선택한 열과 동일한 형식입니다.
   - **변환 형식은** 선택한 표준 **열을** **파티션 열로** 변경하는 데 사용되며 그 반대로도 사용됩니다. 여러 유형의 열을 여러 개 선택했거나 열에 **설정된 PK** 또는 **Null 허용 여부** 플래그로 인해 선택한 열을 변환할 수 없는 경우 이 옵션이 회색으로 표시됩니다.
   - **삭제는** 테이블에서 선택한 열을 삭제합니다. 이 작업은 되돌릴 수 없습니다. 

#### <a name="partition-columns"></a>파티션 열

파티션 열은 해당 열의 값을 기반으로 데이터베이스의 실제 데이터를 분할하는 데 사용됩니다. 열을 분할하면 디스크의 데이터를 보다 뛰어난 청크로 쉽게 배포할 수 있습니다. Azure Synapse 파티션 열은 항상 테이블 스키마의 끝에 있습니다. 또한 파티션 폴더를 만들 때 위에서 아래로 사용됩니다. 예를 들어 파티션 열이 Year 및 Month이면 다음과 같이 ADLS의 구조가 됩니다.

![분할에서 폴더의 계층 구조를 보여주는 스크린샷: 2020 -> Jan, Feb -> 파일](./media/modify-lake-database/partition-example.png)

여기서 file1 및 file2에는 Year 및 Month 값이 각각 2020년 1월인 모든 행이 포함됩니다. 테이블에 더 많은 파티션 열이 추가되면 이 계층에 더 많은 파일이 추가되어 파티션의 전체 파일 크기가 더 작아질 수 있습니다.

Azure Synapse 테이블에 파티션 열을 추가하여 이 계층 구조를 적용하거나 만들지 않습니다. 파티션 구조를 만들려면 Synapse Pipelines 또는 Spark Notebook을 사용하여 데이터를 테이블에 로드해야 합니다. 

### <a name="relationships"></a>관계

관계 탭을 사용하면 데이터베이스의 테이블 간 관계를 지정할 수 있습니다. 데이터베이스 디자이너의 관계는 정보를 제공하며 기본 데이터에 제약 조건을 적용하지 않습니다. 다른 Microsoft 애플리케이션에서 읽어 오면 변환을 가속화하거나 비즈니스 사용자에게 테이블 연결 방법에 대한 인사이트를 제공하는 데 사용할 수 있습니다. 관계 창에는 다음과 같은 정보가 있습니다.
![관계 탭의 스크린샷](./media/modify-lake-database/relationships-tab.png)
   - **(테이블)의 관계는** 하나 이상의 테이블에 외식 키가 이 테이블에 연결된 경우입니다. 이를 부모 관계라고도 합니다.
   - **(테이블)에 대한 관계는** 외세 키가 있고 다른 테이블에 연결된 테이블인 경우입니다. 이를 자식 관계라고도 합니다.
   - 두 관계 형식에는 다음 속성이 있습니다.
      - **테이블에서** 관계의 부모 테이블 또는 "일" 쪽입니다.
      - 부모 테이블의 **열에서** 관계의 기반이 됩니다.
      - 관계의 자식 테이블 또는 "다" 쪽을 **테이블로** 하려는 경우
      - 자식 테이블의 열을 **열로** 하려면 관계의 기반이 되는 열입니다.
**관계** 탭의 맨 위에 있는 는 관계와 상호 작용하는 데 사용할 수 있는 명령 모음입니다.
   - **키워드로 필터링은** 열 목록을 지정된 키워드와 일치하는 항목으로 필터링합니다.
   - **+ 관계를** 사용하면 새 관계를 추가할 수 있습니다. 두 가지 옵션 중에서 선택할 수 있습니다.
      - **테이블에서** 작업 중인 테이블에서 다른 테이블로 새 관계를 만듭니다.
      - **테이블을 만들려면** 다른 테이블에서 작업 중인 테이블로 새 관계를 만듭니다.
      - **템플릿에서** 탐색 창이 열리고 데이터베이스에 포함할 데이터베이스 템플릿의 관계에서 선택할 수 있습니다. 데이터베이스 템플릿을 사용하여 데이터베이스를 만들지 않은 경우 이 옵션이 표시되지 않습니다.

## <a name="next-steps"></a>다음 단계
아래 링크를 사용하여 데이터베이스 디자이너 기능을 계속 탐색합니다. 
- [빈 레이크 데이터베이스 만들기](./create-empty-lake-database.md)
- [Lake 데이터베이스에 대해 자세히 알아보기](./concepts-lake-database.md)
- [Lake 데이터베이스 템플릿에서 레이크 데이터베이스 만들기](./create-lake-database-from-lake-database-templates.md)
