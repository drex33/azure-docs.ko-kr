---
title: Azure Virtual Desktop 호스트 풀 부하 분산 - Azure
description: Azure 가상 데스크톱 환경에 대 한 호스트 풀 부하 분산 알고리즘에 대해 알아봅니다.
author: Heidilohr
ms.topic: conceptual
ms.date: 10/12/2020
ms.author: helohr
manager: femila
ms.openlocfilehash: f2b73879183bf3d85588c17a9b24bf42d649c06f
ms.sourcegitcommit: 677e8acc9a2e8b842e4aef4472599f9264e989e7
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/11/2021
ms.locfileid: "132277242"
---
# <a name="host-pool-load-balancing-algorithms"></a>호스트 풀 부하 분산 알고리즘

>[!IMPORTANT]
>이 콘텐츠는 Azure Resource Manager Azure Virtual Desktop 개체를 통해 Azure Virtual Desktop에 적용됩니다. Azure Resource Manager 개체 없이 Azure Virtual Desktop(클래식)을 사용하는 경우 [이 문서](./virtual-desktop-fall-2019/host-pool-load-balancing-2019.md)를 참조하세요.

Azure 가상 데스크톱은 두 가지 부하 분산 알고리즘을 지원 합니다. 각 알고리즘은 호스트 풀의 리소스에 연결할 때 사용자 세션을 호스트할 세션 호스트를 결정 합니다.

Azure 가상 데스크톱에서 사용할 수 있는 부하 분산 알고리즘은 다음과 같습니다.

- 폭 우선 부하 분산을 사용하면 호스트 풀의 세션 호스트 전체에 사용자 세션을 균등하게 분산할 수 있습니다.
- 깊이 우선 부하 분산을 사용하면 호스트 풀의 사용자 세션을 통해 세션 호스트의 포화 상태를 지정할 수 있습니다. 첫 번째 세션 호스트가 해당 세션 제한 임계값에 도달하면 부하 분산 장치는 해당 제한에 도달할 때까지 사용자 연결을 호스트 풀의 다음 세션 호스트로 보냅니다.

각 호스트 풀은 특정 유형의 부하 분산만 구성할 수 있습니다. 그러나 두 부하 분산 알고리즘은 어느 호스트 풀에 있든 관계 없이 다음 동작을 공유 합니다.

- 사용자가 호스트 풀에 활성 또는 연결 되지 않은 세션을 이미 포함 하 고 다시 로그인 하면 부하 분산 장치는 기존 세션을 사용 하 여 세션 호스트로 성공적으로 리디렉션됩니다. 이 동작은 세션 호스트의 AllowNewConnections 속성이 False로 설정 된 경우에도 적용 됩니다 (드레이닝 모드를 사용 하도록 설정 됨).
- 사용자에게 호스트 풀에 아직 세션이 없는 경우 부하 분산 장치는 부하 분산 중 AllowNewConnections 속성이 False로 설정된 세션 호스트를 고려하지 않습니다.

## <a name="breadth-first-load-balancing-algorithm"></a>너비 우선 부하 분산 알고리즘

너비 우선 부하 분산 알고리즘을 사용 하면 세션 호스트 간에 사용자 세션을 분산 하 여 세션 성능에 맞게 최적화할 수 있습니다. 이 알고리즘은 풀링된 가상 데스크톱 환경에 연결 하는 사용자에 게 최상의 환경을 제공 하려는 조직에 적합 합니다.

너비 우선 알고리즘은 먼저 새 연결을 허용 하는 세션 호스트를 쿼리 합니다. 그런 다음 알고리즘은 세션 호스트를 가장 적은 수의 세션 호스트 집합의 절반에서 임의로 선택 합니다. 예를 들어 11, 12, 13, 14, 15, 16, 17, 18 및 19개 세션이 포함된 9개의 머신이 있는 경우 새로 만든 세션이 자동으로 첫 번째 머신으로 이동하지 않습니다. 대신 세션 수가 가장 적은 처음 5개 머신(11, 12, 13, 14, 15)으로 이동할 수 있습니다.

## <a name="depth-first-load-balancing-algorithm"></a>깊이 우선 부하 분산 알고리즘

깊이 우선 부하 분산 알고리즘을 사용 하면 한 번에 하나의 세션 호스트의 포화를 통해 규모 축소 시나리오를 최적화할 수 있습니다. 이 알고리즘은 호스트 풀에 할당 된 가상 컴퓨터의 수를 보다 세부적으로 제어 하려는 비용에 민감한 조직에 적합 합니다.

깊이 우선 알고리즘은 먼저 새 연결을 허용 하 고 최대 세션 제한을 초과 하지 않은 세션 호스트를 쿼리 합니다. 그런 다음 알고리즘은 세션 수가 가장 많은 세션 호스트를 선택 합니다. 연결 된 경우 알고리즘은 쿼리의 첫 번째 세션 호스트를 선택 합니다.

>[!IMPORTANT]
>깊이 우선 부하 분산 알고리즘은 최대 세션 호스트 제한에 따라 세션을 세션 호스트에 배포합니다. 이 매개 변수는 깊이 우선 부하 분산 알고리즘을 사용하는 경우에 필요합니다. 가능한 최상의 사용자 환경을 위해 최대 세션 호스트 제한 매개 변수를 환경에 가장 적합한 숫자로 변경해야 합니다.
