---
title: 새 Azure Policy 정의의 영향 평가
description: Azure 환경에 새 정책 정의를 도입할 때 따라야 하는 프로세스를 이해합니다.
ms.date: 03/31/2021
ms.topic: conceptual
ms.openlocfilehash: 56fa5aa0467bed94625b2233ee8b582d4d61ff63
ms.sourcegitcommit: 02d443532c4d2e9e449025908a05fb9c84eba039
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/06/2021
ms.locfileid: "108752924"
---
# <a name="evaluate-the-impact-of-a-new-azure-policy-definition"></a>새 Azure Policy 정의의 영향 평가

Azure Policy는 비즈니스 표준과 규정 준수 요구 사항에 맞게 Azure 리소스를 관리하기 위한 강력한 도구입니다. 사용자, 프로세스 또는 파이프라인이 리소스를 만들거나 업데이트하면 Azure Policy가 요청을 검토합니다. 정책 정의 효과가 [Modify](./effects.md#modify), [Append](./effects.md#deny) 또는 [DeployIfNotExists](./effects.md#deployifnotexists)이면 정책이 요청을 변경하거나 요청에 추가합니다. 정책 정의 효과가 [감사](./effects.md#audit) 또는 [AuditIfNotExists](./effects.md#auditifnotexists)이면 Policy에 의해 새로운 리소스 및 업데이트된 리소스에 활동 로그 항목이 생성됩니다. 정책 정의 효과가 [Deny](./effects.md#deny)이면 Policy가 요청 생성 또는 변경을 중지합니다.

정책이 올바르게 정의된 것이 확실하다면 정확히 원하는 결과가 나타납니다. 그러나 새 정책이 작업을 변경하거나 차단하도록 허용하기 전에 새 정책이 올바르게 작동하는지 검증해야 합니다. 유효성 검사는 의도된 리소스만 규정을 준수하지 않는 것으로 확인되고, 규정을 준수하는 리소스가 결과에 잘못 포함되지 않도록 해야 합니다(이를 _가양성_ 이라고 함).

새 정책 정의의 유효성을 검사할 때 권장되는 방법은 다음과 같습니다.

- 정책을 꼼꼼하게 정의
- 기존 리소스 감사
- 신규 또는 업데이트된 리소스 요청 감사
- 리소스에 정책 배포
- 연속 모니터링

## <a name="tightly-define-your-policy"></a>정책을 꼼꼼하게 정의

비즈니스 정책이 정책 정의로 구현되는 방법, Azure 리소스와 다른 Azure 서비스의 관계를 이해하는 것이 중요합니다. 이 단계에서는 [요구 사항을 파악](../tutorials/create-custom-policy-definition.md#identify-requirements)하고 [리소스 속성을 결정](../tutorials/create-custom-policy-definition.md#determine-resource-properties)합니다.
하지만 비즈니스 정책에 대한 좁은 정의에서 벗어나 넓은 시야를 가지는 것도 중요합니다. 정책에 "모든 Virtual Machines가 준수해야 할 사항" 등이 명시되어 있나요? VM을 사용하는 다른 Azure 서비스(예: HDInsight 또는 AKS)는 무엇인가요? 정책을 정의할 때는 이 정책이 다른 서비스에서 사용하는 리소스에 미치는 영향을 고려해야 합니다.

이러한 이유로 정책 정의는 가능한 한 준수 여부를 평가하는 데 필요한 리소스와 속성에 중점을 두고, 꼼꼼하게 정의되어야 합니다.

## <a name="audit-existing-resources"></a>기존 리소스 감사

새 정책 정의를 사용하여 신규 또는 업데이트된 리소스를 관리하기 전에 테스트 리소스 그룹과 같은 기존 리소스의 제한된 하위 집합을 평가하는 방법을 확인하는 것이 가장 좋습니다. 정책 할당에 _사용 안 함_(DoNotEnforce) [적용 모드](./assignment-structure.md#enforcement-mode)를 사용하여 [효과](./effects.md)가 트리거되거나 활동 로그 항목이 생성되지 않도록 합니다.

이 단계를 통해 작업 흐름에 영향을 주지 않고 기존 리소스의 새 정책 준수 결과를 평가할 수 있습니다. 준수 리소스가 미준수로 표시되어 있지 않은지(_가양성_), 미준수로 예상되는 모든 리소스가 올바르게 표시되어 있는지 확인합니다.
리소스의 초기 하위 집합에 대한 유효성 검사를 완료한 후에는 모든 기존 리소스로 평가 대상을 점차적으로 확대합니다.

이러한 방식으로 기존 리소스를 평가하면 새로운 정책을 완전히 구현하기 전에 미준수 리소스를 수정할 수도 있습니다. 이 정리 작업은 수동으로 수행하거나 [수정 작업](../how-to/remediate-resources.md)을 통해 수행할 수 있습니다(정책 정의 효과가 _DeployIfNotExists_ 인 경우).

## <a name="audit-new-or-updated-resources"></a>신규 또는 업데이트된 리소스 감사

새 정책 정의가 기존 리소스에서 올바르게 보고되는지 확인한 후에는 리소스가 생성되거나 업데이트될 때 정책의 영향을 확인할 수 있습니다. 정책 정의에서 효과 매개 변수화를 지원하는 경우 [감사](./effects.md#audit)를 사용합니다. 이 구성을 사용하면 리소스의 생성 및 업데이트를 모니터링하여 새 정책 정의가 기존 작업 또는 요청에 영향을 주지 않고 비규격 리소스에 대한 Azure 활동 로그 항목을 트리거하는지 확인할 수 있습니다.

정책 정의와 일치하는 리소스를 새로 만들고 업데이트하여 _감사_ 효과가 예상대로 트리거되는지 확인하는 것이 좋습니다. _감사_ 효과를 트리거하는 새 정책 정의의 영향을 받지 않아야 하는 리소스 요청이 있는지 면밀히 살펴보세요.
이러한 영향을 받는 리소스는 _가양성_ 의 또 다른 예이며 전체 구현 전에 정책 정의에서 수정해야 합니다.

이 테스트 단계에서 정책 정의가 변경되는 경우 기존 리소스 감사를 통해 유효성 검사 프로세스를 시작하는 것이 좋습니다. 신규 또는 업데이트된 리소스의 _가양성_ 에 대한 정책 정의 변경은 기존 리소스에도 영향을 줄 수 있습니다.

## <a name="deploy-your-policy-to-resources"></a>리소스에 정책 배포

기존 리소스와 신규 또는 업데이트된 리소스 요청을 모두 사용하여 새 정책 정의의 유효성 검사를 완료한 후에는 정책을 구현하는 프로세스를 시작합니다. 리소스 그룹과 같이 먼저 모든 리소스의 하위 집합에 대한 새 정책 정의의 정책 할당을 만드는 것이 좋습니다. 초기 배포의 유효성을 검사한 후에는 구독 및 관리 그룹과 같은 더 광범위한 수준으로 정책의 범위를 확장합니다. 이러한 확장을 수행하려면 할당을 제거하고, 새 정책 정의를 적용할 전체 리소스 범위에 할당될 때까지 대상 범위에 새 할당을 만듭니다.

롤아웃 중에 새 정책 정의에서 제외해야 하는 리소스가 있는 경우 다음 방법 중 하나로 처리합니다.

- 의도하지 않은 영향을 줄이기 위해 정책 정의를 더 명시적으로 업데이트
- 정책 할당 범위 변경(제거하고 새 할당 만들기)
- 정책 할당 제외 목록에 리소스 그룹 추가

범위에 대한 모든 변경 내용(수준 또는 제외 대상)은 완전히 유효성을 검사하고 보안 및 규정 준수 조직에게 전달하여 범위에 차이가 생기지 않도록 해야 합니다.

## <a name="monitor-your-policy-and-compliance"></a>정책 및 규정 준수 모니터링

정책 정의를 구현하고 할당하는 것은 최종 단계가 아닙니다. 새 정책 정의에 대한 [준수](../how-to/get-compliance-data.md) 수준의 리소스를 지속적으로 모니터링하고 미준수 디바이스가 식별된 경우 적절한 [Azure Monitor 경고 및 알림](../../../azure-monitor/alerts/alerts-overview.md)을 설정합니다. 정책 정의가 비즈니스 정책 및 규정 준수 요구 사항을 충족하는지 확인하기 위해 일정에 따라 정책 정의 및 관련 할당을 평가하는 것도 좋습니다. 더 이상 필요 없는 정책은 제거해야 합니다. 또한 기본 Azure 리소스가 진화하고 새 속성 및 기능을 추가함에 따라 정책을 수시로 업데이트해야 합니다.

## <a name="next-steps"></a>다음 단계

- [정책 정의 구조](./definition-structure.md)에 대해 알아봅니다.
- [정책 할당 구조](./assignment-structure.md)에 대해 알아봅니다.
- [프로그래밍 방식으로 정책을 생성](../how-to/programmatically-create.md)하는 방법을 이해합니다.
- [규정 준수 데이터를 가져오는](../how-to/get-compliance-data.md) 방법을 알아봅니다.
- [규정 비준수 리소스를 수정](../how-to/remediate-resources.md)하는 방법을 알아봅니다.
- [Azure 관리 그룹으로 리소스 구성](../../management-groups/overview.md)을 포함하는 관리 그룹을 검토합니다.
