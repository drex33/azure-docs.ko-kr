---
title: Azure IoT Central 애플리케이션에서 작업 만들기 및 실행 | Microsoft Docs
description: Azure IoT Central 작업은 속성 업데이트 또는 명령 실행과 같은 대량 디바이스 관리 기능을 허용합니다.
ms.service: iot-central
services: iot-central
author: dominicbetts
ms.author: dobett
ms.date: 07/08/2021
ms.topic: how-to
ms.openlocfilehash: c24eac9d7446f983bd4dc1e8573d3c831c7ff7fb
ms.sourcegitcommit: 7d63ce88bfe8188b1ae70c3d006a29068d066287
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/22/2021
ms.locfileid: "114442721"
---
# <a name="manage-devices-in-bulk-in-your-azure-iot-central-application"></a>Azure IoT Central 애플리케이션에서 대량으로 디바이스 관리

Azure IoT Central을 사용하여 작업을 통해 규모에 따라 연결된 디바이스를 관리할 수 있습니다. 작업을 사용하면 디바이스 및 클라우드 속성에 대한 대량 업데이트를 수행하고 명령을 실행할 수 있습니다. CSV 파일을 사용하여 디바이스를 대량으로 가져오고 내보낼 수도 있습니다. 이 문서에서는 자신의 애플리케이션에서 작업을 시작하는 방법과 가져오기 및 내보내기 기능을 사용하는 방법을 보여 줍니다.

## <a name="create-and-run-a-job"></a>작업 만들기 및 실행

다음 예는 물류 게이트웨이 디바이스 그룹에 대한 조명 임계값을 설정하는 작업을 생성하고 실행하는 방법을 보여 줍니다. 작업 마법사를 사용하여 작업을 만들고 실행할 수 있습니다. 나중에 실행할 작업을 저장할 수 있습니다.

1. 왼쪽 창에서 **작업** 을 선택합니다.

1. **+ 새 작업** 을 선택합니다.

1. **작업 구성** 페이지에서 만들고 있는 작업을 식별하는 이름과 설명을 입력합니다.

1. 작업을 적용하려는 대상 디바이스 그룹을 선택합니다. **디바이스 그룹** 선택 아래에서 작업 구성이 적용되는 디바이스 수를 확인할 수 있습니다.

1. **작업 유형** 으로 **클라우드 속성**, **속성** 또는 **명령** 을 선택합니다.

    **속성** 작업을 구성하려면 속성을 선택하고 새 값을 설정합니다. **명령** 작업을 구성하려면 실행할 명령을 선택합니다. 속성 작업은 여러 속성을 설정할 수 있습니다.

    :::image type="content" source="media/howto-manage-devices-in-bulk/configure-job.png" alt-text="Set Light Threshold라는 속성 작업을 만들기 위한 선택 사항을 보여 주는 스크린샷":::

    **저장한 후 종료** 를 선택하여 **작업** 페이지의 저장된 작업 목록에 작업을 추가합니다. 나중에 저장된 작업 목록에서 작업으로 돌아갈 수 있습니다.

1. **다음** 을 선택하여 **전송 옵션** 페이지로 이동합니다. **전송 옵션** 페이지에서 이 작업에 대한 전송 옵션(**일괄** 및 **취소 임계값**)을 설정할 수 있습니다.

    일괄 처리를 사용하면 많은 수의 디바이스에 대한 작업을 시차를 두고 처리할 수 있습니다. 작업은 여러 일괄 처리로 나뉘며 각 일괄 처리에는 디바이스의 하위 집합이 포함됩니다. 일괄 처리는 큐에 대기되고 순서대로 실행됩니다.

    취소 임계값을 사용하면 오류 수가 설정된 제한을 초과하는 경우 작업을 자동으로 취소할 수 있습니다. 임계값은 작업의 모든 디바이스 또는 개별 일괄 처리에 적용될 수 있습니다.

    :::image type="content" source="media/howto-manage-devices-in-bulk/job-wizard-delivery-options.png" alt-text="작업 마법사 제공 옵션 페이지의 스크린샷":::

1. **다음** 을 선택하여 **일정** 페이지로 이동합니다. **일정** 페이지를 사용하면 나중에 작업을 실행할 일정을 설정할 수 있습니다.

    일정에 대한 되풀이 옵션을 선택합니다. 작업을 다음과 같이 실행하도록 설정할 수 있습니다.

    * 일회성
    * 매일
    * 매주

    예약된 작업의 시작 날짜 및 시간을 설정합니다. 날짜 및 시간은 디바이스의 현지 시간이 아닌 표준 시간대에만 적용됩니다.

    되풀이 일정을 종료하려면 다음을 선택합니다.

    * 일정의 종료 날짜를 설정하려면 **현재 날짜에** 를 선택합니다.
    * 작업을 실행할 횟수를 설정하려면 **이후** 를 선택합니다.

    예약된 작업은 디바이스 그룹의 구성원이 시간이 지남에 따라 변경되는 경우에도 항상 디바이스 그룹의 디바이스에서 실행됩니다.

    :::image type="content" source="media/howto-manage-devices-in-bulk/job-wizard-schedule.png" alt-text="작업 마법사 일정 옵션 페이지의 스크린샷":::

1. **다음** 을 선택하여 **검토** 페이지로 이동합니다. **검토** 페이지에는 작업 구성 세부 정보가 표시됩니다. 작업을 예약하려면 **일정** 을 선택합니다.

    :::image type="content" source="media/howto-manage-devices-in-bulk/job-wizard-schedule-review.png" alt-text="예약된 작업 마법사 검토 페이지의 스크린샷":::

1. 작업 세부 정보 페이지에는 예약된 작업에 대한 정보가 표시됩니다. 예약된 작업이 실행되면 작업 인스턴스 목록이 표시됩니다. 예약된 작업 실행은 **지난 30일** 작업 목록에도 포함됩니다.

    이 페이지에서 작업을 **예약 취소** 하거나 예약된 작업을 **편집** 할 수 있습니다. 예약된 작업 목록에서 예약된 작업으로 돌아갈 수 있습니다.

    :::image type="content" source="media/howto-manage-devices-in-bulk/job-schedule-details.png" alt-text="예약된 작업 세부 정보 페이지 스크린샷":::

1. 작업 마법사에서 작업을 예약하지 않고 즉시 실행하도록 선택할 수 있습니다. 다음 스크린샷은 즉시 실행하도록 준비가 된 예약이 없는 작업을 보여 줍니다. **실행** 을 선택하여 작업을 실행합니다.

    :::image type="content" source="media/howto-manage-devices-in-bulk/job-wizard-schedule-immediate.png" alt-text="작업 마법사 검토 페이지 스크린샷":::

1. 작업은 *보류 중*, *실행 중* 및 *완료* 단계를 거칩니다. 작업 실행 세부 정보에는 결과 메트릭, 기간 정보 및 디바이스 목록 표가 포함됩니다.

    작업이 완료되면 **결과 로그** 를 선택하여 디바이스 및 상태 값을 포함한 작업 세부 정보의 CSV 파일을 다운로드할 수 있습니다. 이 정보는 문제 해결에 유용할 수 있습니다.

    :::image type="content" source="media/howto-manage-devices-in-bulk/download-details.png" alt-text="디바이스 상태를 보여 주는 스크린샷.":::

1. 이제 이 작업이 **작업** 페이지의 **지난 30일** 목록에 나타납니다. 이 페이지에는 현재 실행 중인 작업과 이전에 실행되거나 저장된 작업의 기록이 표시됩니다.

    > [!NOTE]
    > 이전에 실행한 작업에 대한 30일의 기록을 볼 수 있습니다.

## <a name="manage-jobs"></a>작업 관리

실행 중인 작업을 중지하려면 작업을 열고 **중지** 를 선택합니다. 작업이 중지되었다는 것을 반영하도록 작업 상태가 변경됩니다. **요약** 섹션에는 완료, 실패 또는 보류 중인 디바이스가 표시됩니다.

:::image type="content" source="media/howto-manage-devices-in-bulk/manage-job.png" alt-text="실행 중인 작업과 작업 중지 단추를 보여 주는 스크린샷":::

작업이 중지된 상태이면 **계속** 을 선택하여 작업 실행을 재개할 수 있습니다. 작업 상태가 변경되어 작업이 이제 다시 실행 중임을 반영합니다. **요약** 섹션은 최신 진행 상황으로 계속 업데이트됩니다.

:::image type="content" source="media/howto-manage-devices-in-bulk/stopped-job.png" alt-text="중지된 작업과 작업을 계속하기 위한 단추를 보여 주는 스크린샷":::

## <a name="copy-a-job"></a>작업 복사

기존 작업을 복사하려면 실행된 작업을 선택합니다. 작업 결과 페이지 또는 작업 세부 정보 페이지에서 **복사** 를 선택합니다.

:::image type="content" source="media/howto-manage-devices-in-bulk/job-details-copy.png" alt-text="복사 단추를 보여 주는 스크린샷":::

편집할 수 있도록 작업 구성의 복사본이 열리고 **복사** 가 작업 이름에 추가됩니다.

## <a name="view-job-status"></a>작업 상태 보기

작업이 생성되면 **상태** 열이 최신 작업 상태 메시지로 업데이트됩니다. 다음 표에는 가능한 *작업 상태* 값이 나열됩니다.

| 상태 메시지       | 상태 의미                                          |
| -------------------- | ------------------------------------------------------- |
| 완료됨            | 이 작업은 모든 디바이스에서 실행되었습니다.              |
| Failed               | 이 작업은 실패했으며 디바이스에서 완전히 실행되지 않았습니다.  |
| 보류 중              | 이 작업은 디바이스에서 아직 실행되지 않았습니다.         |
| 실행 중              | 이 작업은 현재 디바이스에서 실행 중입니다.             |
| 중지됨              | 사용자가 수동으로 이 작업을 중지했습니다.           |
| 취소됨             | 이 작업은 **배달 옵션** 페이지에 설정된 임계값이 초과되었기 때문에 취소되었습니다. |

상태 메시지 뒤에는 작업 내 디바이스의 개요가 표시됩니다. 다음 표에는 가능한 *디바이스 상태* 값이 나열됩니다.

| 상태 메시지       | 상태 의미                                                     |
| -------------------- | ------------------------------------------------------------------ |
| 성공            | 작업 실행에 성공한 디바이스 수입니다.       |
| Failed               | 작업 실행에 실패한 디바이스 수입니다.       |

작업 및 영향을 받는 모든 디바이스의 상태를 보려면 작업을 엽니다. 각 디바이스 이름 옆에 다음 상태 메시지 중 하나가 표시됩니다.

| 상태 메시지       | 상태 의미                                                                |
| -------------------- | ----------------------------------------------------------------------------- |
| 완료됨            | 이 디바이스에서 작업을 실행했습니다.                                     |
| Failed               | 이 디바이스에서 작업을 실행하지 못했습니다. 오류 메시지에 자세한 정보가 표시됩니다.  |
| 보류 중              | 이 디바이스에서 작업이 아직 실행되지 않았습니다.                                   |

작업 세부 정보, 디바이스 목록 및 상태 값이 포함된 CSV 파일을 다운로드하려면 **결과 로그** 를 선택합니다.

## <a name="filter-the-device-list"></a>디바이스 목록 필터링

필터 아이콘을 선택하여 **작업 세부 정보** 페이지에서 디바이스 목록을 필터링할 수 있습니다. **디바이스 ID** 또는 **상태** 필드에서 필터링할 수 있습니다.

:::image type="content" source="media/howto-manage-devices-in-bulk/filter.png" alt-text="디바이스 목록 필터링을 위한 선택 사항을 보여 주는 스크린샷":::

## <a name="customize-columns-in-the-device-list"></a>디바이스 목록의 열 사용자 지정

열 옵션 아이콘을 선택하여 디바이스 목록에 열을 추가할 수 있습니다.

:::image type="content" source="media/howto-manage-devices-in-bulk/column-options.png" alt-text="열 옵션 아이콘을 보여 주는 스크린샷":::

**열 옵션** 대화 상자를 사용하여 디바이스 목록 열을 선택합니다. 표시할 열을 선택하고 오른쪽 화살표를 선택한 다음 **확인** 을 선택합니다. 사용 가능한 모든 열을 선택하려면 **모두 선택** 을 선택합니다. 선택한 열이 디바이스 목록에 표시됩니다.

선택한 열은 사용자 세션 또는 애플리케이션에 액세스할 수 있는 사용자 세션 간에 유지됩니다.

## <a name="rerun-jobs"></a>작업 다시 실행

실패한 디바이스가 있는 작업을 다시 실행할 수 있습니다. **실패 시 다시 실행** 을 선택합니다.

:::image type="content" source="media/howto-manage-devices-in-bulk/rerun.png" alt-text="실패한 디바이스에서 작업을 다시 실행하기 위한 단추를 보여 주는 스크린샷":::

작업 이름과 설명을 입력한 다음 **작업 다시 실행** 을 선택합니다. 실패한 디바이스에서 작업을 다시 시도하기 위해 새 작업이 제출됩니다.

> [!NOTE]
> Azure IoT Central 애플리케이션에서 동시에 5개보다 많은 작업을 실행할 수 없습니다.
>
> 작업이 완료되고 작업의 디바이스 목록에 있는 디바이스를 삭제하면 디바이스 항목이 디바이스 이름에 삭제된 것으로 표시됩니다. 삭제된 디바이스에는 세부 정보 링크를 사용할 수 없습니다.

## <a name="import-devices"></a>디바이스 가져오기

대량의 디바이스를 애플리케이션에 연결하려면 CSV 파일에서 대량으로 디바이스를 가져오면 됩니다. 예제 CSV 파일은 [Azure 샘플 리포지토리](https://github.com/Azure-Samples/iot-central-docs-samples/tree/master/bulk-upload-devices)에서 찾을 수 있습니다. CSV 파일에는 다음 열 헤더가 포함되어야 합니다.

| 열 | 설명 |
| - | - |
| IOTC_DEVICEID | 디바이스 ID는 이 디바이스가 연결하는 데 사용하는 고유한 식별자입니다. 디바이스 ID는 공백 없이 문자, 숫자, `-` 문자를 포함할 수 있습니다. 최대 길이는 128자입니다. |
| IOTC_DEVICENAME | 선택 사항입니다. 디바이스 이름은 애플리케이션 전체에서 표시되는 식별 이름입니다. 지정하지 않으면 디바이스 ID와 동일합니다. 최대 길이는 148자입니다. |

디바이스를 애플리케이션에 대량으로 등록하려면:

1. 왼쪽 창에서 **디바이스** 를 선택합니다.

1. 왼쪽 패널에서 디바이스를 대량으로 만들 디바이스 템플릿을 선택합니다.

    > [!NOTE]
    > 아직 디바이스 템플릿이 없는 경우 템플릿 없이 **모든 디바이스** 에서 디바이스를 가져와서 등록할 수 있습니다. 디바이스를 가져온 후 디바이스를 템플릿에 마이그레이션할 수 있습니다.

1. **가져오기** 를 선택합니다.

    :::image type="content" source="media/howto-manage-devices-in-bulk/bulk-import-1.png" alt-text="가져오기 작업 설정을 보여 주는 스크린샷.":::

1. 가져올 디바이스 ID 목록이 들어 있는 CSV 파일을 선택합니다.

1. 파일이 업로드되면 디바이스 가져오기가 시작됩니다. 디바이스 작업 패널에서 가져오기 상태를 추적할 수 있습니다. 이 패널은 가져오기가 시작된 후 자동으로 표시되거나 오른쪽 상단에 있는 종 모양 아이콘을 통해 액세스할 수 있습니다.

1. 가져오기가 완료되면 디바이스 작업 패널에 성공 메시지가 표시됩니다.

    :::image type="content" source="media/howto-manage-devices-in-bulk/bulk-import-2.png" alt-text="가져오기 성공을 보여 주는 스크린샷.":::

디바이스 가져오기 작업이 실패하면 디바이스 작업 패널에 오류 메시지가 표시됩니다. 모든 오류를 캡처하는 로그 파일이 생성되며 이 파일을 다운로드할 수 있습니다.

## <a name="export-devices"></a>내보내기 디바이스

실제 디바이스를 IoT Central에 연결하려면 해당 연결 문자열이 필요합니다. 디바이스 세부 정보를 대량으로 내보내고 디바이스 연결 문자열을 만드는 데 필요한 정보를 가져올 수 있습니다. 내보내기 프로세스는 선택한 모든 디바이스에 대한 디바이스 ID, 디바이스 이름 및 키가 포함된 CSV 파일을 만듭니다.

애플리케이션에서 디바이스를 대량으로 내보내려면 다음을 수행합니다.

1. 왼쪽 창에서 **디바이스** 를 선택합니다.

1. 왼쪽 패널에서 디바이스를 내보낼 디바이스 템플릿을 선택합니다.

1. 내보낼 디바이스를 선택한 다음, **내보내기** 동작을 선택합니다.

    :::image type="content" source="media/howto-manage-devices-in-bulk/export-1.png" alt-text="내보내기 작업 설정을 보여 주는 스크린샷.":::

1. 내보내기 프로세스가 시작됩니다. 디바이스 작업 패널을 사용하여 상태를 추적할 수 있습니다.

1. 내보내기가 완료되면 생성된 파일을 다운로드할 수 있는 링크와 함께 성공 메시지가 표시됩니다.

1. **파일 다운로드** 링크를 선택하여 디스크의 로컬 폴더에 파일을 다운로드합니다.

    ![내보내기 성공](./media/howto-manage-devices-in-bulk/export-2.png)

1. 내보낸 CSV 파일에는 디바이스 ID, 디바이스 이름, 디바이스 키 및 X509 인증서 지문 열이 포함되어 있습니다.

    * IOTC_DEVICEID
    * IOTC_DEVICENAME
    * IOTC_SASKEY_PRIMARY
    * IOTC_SASKEY_SECONDARY
    * IOTC_X509THUMBPRINT_PRIMARY
    * IOTC_X509THUMBPRINT_SECONDARY

IoT Central 애플리케이션에 실제 디바이스를 연결하는 것에 대한 자세한 내용은 [Azure IoT Central의 디바이스 연결](concepts-get-connected.md)을 참조하세요.

## <a name="next-steps"></a>다음 단계

Azure IoT Central 애플리케이션에서 디바이스를 대량으로 관리하는 방법을 알아보았으므로, 후속 단계로 디바이스에 대한 [디바이스 템플릿을 편집](howto-edit-device-template.md)하는 방법을 알아보시기 바랍니다.
