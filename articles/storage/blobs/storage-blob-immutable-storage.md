---
title: 변경이 불가능한 Blob Storage - Azure Storage
description: Azure Storage는 사용자가 지정한 간격 동안 지울 수 없고 수정할 수 없는 상태로 데이터를 저장할 수 있게 하는 Blob(개체) 스토리지에 대한 WORM(Write Once, Read Many) 지원을 제공합니다.
services: storage
author: tamram
ms.service: storage
ms.topic: conceptual
ms.date: 05/17/2021
ms.author: tamram
ms.reviewer: hux
ms.subservice: blobs
ms.openlocfilehash: 1495fa3751a77d5dfd26192ded4f35403ed932ef
ms.sourcegitcommit: 17345cc21e7b14e3e31cbf920f191875bf3c5914
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/19/2021
ms.locfileid: "110098311"
---
# <a name="store-business-critical-blob-data-with-immutable-storage"></a>비즈니스에 중요한 BLOB 데이터를 변경이 불가능한 스토리지에 저장

Azure Blob Storage에 대한 변경 불가능한 스토리지를 사용하면 사용자가 중요 비즈니스용 데이터 개체를 WORM(Write Once, Read Many) 상태로 저장할 수 있습니다. 이 상태는 사용자가 지정한 간격 동안 데이터를 지울 수 없고 수정할 수 없게 만듭니다. 데이터 보존 기간 동안 Blob을 만들고 읽을 수 있지만 수정하거나 삭제할 수는 없습니다. 변경이 불가능한 스토리지는 모든 Azure 지역의 범용 v1, 범용 v2, 프리미엄 블록 Blob 및 레거시 Blob 계정에 사용할 수 있습니다.

Azure Portal, PowerShell 또는 Azure CLI를 사용하여 법적 보존을 설정하고 지우거나 시간 기반 보존 정책을 만드는 방법에 대한 자세한 내용은 [Blob Storage에 대한 불변성 정책 설정 및 관리](storage-blob-immutability-policies-manage.md)를 참조하세요.

[!INCLUDE [storage-multi-protocol-access-preview](../../../includes/storage-multi-protocol-access-preview.md)]

## <a name="about-immutable-blob-storage"></a>변경이 불가능한 Blob Storage 정보

변경이 불가능한 스토리지는 의료 기관, 금융 기관 및 관련 산업, &mdash;특히 중개인 및 딜러 조직&mdash;이 데이터를 안전하게 저장하는 데 도움이 됩니다. 변경이 불가능한 스토리지는 모든 시나리오에서 활용되어 수정 또는 삭제로부터 중요한 데이터를 보호할 수 있습니다.

일반적인 적용 분야는 다음과 같습니다.

- **규정 준수**: Azure Blob Storage에 대한 변경 불가능한 스토리지를 사용하면 SEC 17a-4(f), CFTC 1.31(d), FINRA 및 기타 규정을 처리할 수 있습니다. Cohasset Associates의 기술 백서는 [Microsoft Service Trust Portal](https://aka.ms/AzureWormStorage)을 통해 다운로드할 수 있는 변경이 불가능한 스토리지가 이러한 규제 요구 사항을 해결하는 방법을 자세히 설명합니다. [Azure 보안 센터](https://www.microsoft.com/trustcenter/compliance/compliance-overview)에는 규정 준수 인증에 대한 자세한 정보가 포함되어 있습니다.

- **보안 문서 보존**: Azure Blob Storage에 변경이 불가능한 스토리지는 계정 관리 권한이 있는 사용자를 포함하여 모든 사용자가 데이터를 수정하거나 삭제할 수 없도록 합니다.

- **법적 보존**: Azure Blob Storage에 변경이 불가능한 스토리지를 사용하여 사용자가 소송 또는 비즈니스 사용에 중요한 정보를 원하는 기간 동안 보존이 제거될 때까지 변조 방지 상태로 저장합니다. 이 기능은 법률 사용 사례로 국한되지 않지만 이벤트 트리거 또는 엔터프라이즈 정책을 기반으로 데이터를 보호해야 하는 이벤트 기반 보존 또는 엔터프라이즈 잠금으로 간주할 수도 있습니다.

변경이 불가능한 스토리지는 다음과 같은 기능을 지원합니다.

- **[시간 기준 보존 정책 지원](#time-based-retention-policies)** : 사용자가 지정한 간격 동안 데이터를 저장하는 정책을 설정할 수 있습니다. 시간 기반 보존 정책을 설정하면 Blob을 만들고 읽을 수 있지만, 수정하거나 삭제할 수는 없습니다. 보존 기간이 만료된 후에는 Blob을 삭제할 수는 있지만 덮어쓸 수는 없습니다.

- **[법적 보존 정책 지원](#legal-holds)** : 보존 간격을 알 수 없는 경우 사용자가 법적 보존을 지울 때까지 변경할 수 없는 데이터를 저장하도록 법적 보존을 설정할 수 있습니다.  법적 보존 정책을 설정하면 Blob을 만들고 읽을 수 있지만, 수정하거나 삭제할 수는 없습니다. 각 법적 보존은 식별자 문자열로 사용되는 사용자 정의 영숫자 태그(예: 사례 ID, 이벤트 이름 등)와 연결됩니다. 

- **모든 Blob 계층 지원:** WORM 정책은 Azure Blob Storage 계층과 별개이며, 모든 계층(핫, 쿨 및 보관)에 적용됩니다. 사용자가 데이터 불변성을 유지하면서 해당 워크로드에 비용이 가장 최적화된 계층으로 데이터를 전환할 수 있습니다.

- **컨테이너 수준 구성:** 사용자가 컨테이너 수준에서 시간 기준 보존 정책 및 법적 보존 태그를 구성할 수 있습니다. 사용자는 간단한 컨테이너 수준 설정을 사용하여 시간 기준 보존 정책을 만들거나 잠그고, 보존 간격을 연장하고, 법적 보존을 설정 및 해제하는 등의 작업을 수행할 수 있습니다. 이러한 정책은 컨테이너의 모든 Blob(기존 및 신규)에 적용됩니다. HNS 사용 계정의 경우 이러한 정책은 컨테이너의 모든 디렉터리에도 적용됩니다.

- **감사 로깅 지원**: 각 컨테이너에는 정책 감사 로그가 포함됩니다. 잠긴 시간 기반 보존 정책에 대한 최대 7개의 시간 기반 보존 명령을 표시하고 사용자 ID, 명령 유형, 타임스탬프 및 보존 간격을 포함합니다. 법적 보존의 경우 로그에 사용자 ID, 명령 유형, 타임스탬프 및 법적 보존 태그가 포함됩니다. 이 로그는 SEC 17a-4(f) 규정 지침에 따라 정책 수명 동안 유지됩니다. [Azure 활동 로그](../../azure-monitor/essentials/platform-logs-overview.md)에는 모든 제어 평면 활동의 포괄적인 로그가 표시됩니다. [Azure 리소스 로그](../../azure-monitor/essentials/platform-logs-overview.md)를 사용하도록 설정하는 동안 데이터 평면 작업이 유지되고 표시됩니다. 이러한 로그는 규정 또는 다른 목적으로 필요할 수 있으므로 사용자가 로그를 지속적으로 저장할 책임이 있습니다.

## <a name="how-it-works"></a>작동 방법

Azure Blob Storage용 변경 불가능한 스토리지는 두 가지 유형의 WORM 또는 변경 불가능한 정책인 시간 기준 보존 정책과 법적 보존 정책을 지원합니다. 컨테이너에 시간 기반 보존 정책 또는 법적 보존이 적용되면 모든 기존 Blob은 30초 이내에 변경할 수 없는 WORM 상태로 전환됩니다. 해당 정책으로 보호된 컨테이너에 업로드된 모든 새 Blob도 변경할 수 없는 상태로 전환됩니다. 모든 Blob이 변경할 수 없는 상태가 되면 변경할 수 없는 정책이 확인되고 변경할 수 없는 컨테이너에서 덮어쓰기 또는 삭제 작업이 허용되지 않습니다. HNS를 사용하는 계정의 경우 Blob의 이름을 바꾸거나 다른 디렉터리로 이동할 수 없습니다.

법적 보존 또는 잠긴 시간 기반 정책으로 보호되는 컨테이너에 Blob이 있는 경우 컨테이너 및 스토리지 계정 삭제도 허용되지 않습니다. 법적 보존 정책은 Blob, 컨테이너 및 스토리지 계정 삭제를 방지합니다. 잠금 해제된 시간 기반 정책 및 잠긴 시간 기반 정책은 모두 지정된 시간 동안 Blob 삭제를 방지합니다. 잠금 해제된 시간 기반 정책과 잠긴 시간 기반 정책은 모두 컨테이너 내에 하나 이상의 Blob이 있는 경우에만 컨테이너 삭제를 방지합니다. *잠긴* 시간 기반 정책이 있는 컨테이너만 스토리지 계정 삭제를 방지합니다. 잠금 해제된 시간 기반 정책이 있는 컨테이너는 스토리지 계정 삭제 보호 또는 규정 준수를 제공하지 않습니다.

다음 다이어그램은 시간 기반 보존 정책 및 법적 보존이 적용되는 동안 쓰기 및 삭제 작업을 방지하는 방법을 보여 줍니다.

:::image type="content" source="media/storage-blob-immutable-storage/worm-diagram.png" alt-text="보존 정책 및 법적 보존이 쓰기 및 삭제 작업을 방지하는 방법을 보여 주는 다이어그램":::

시간 기반 보존 정책을 설정하고 잠그는 방법에 대한 자세한 내용은 [Blob Storage에 대한 불변성 정책 설정 및 관리](storage-blob-immutability-policies-manage.md)를 참조하세요.

## <a name="time-based-retention-policies"></a>시간 기반 보존 정책

> [!IMPORTANT]
> SEC 17a-4(f) 및 기타 규정을 준수하도록 Blob을 규격을 준수하고 변경할 수 없는 상태(쓰기 및 삭제 금지)로 유지하려면 시간 기반 보존 정책을 *잠가야* 합니다. 적절한 시간(일반적으로 24시간 이내)에 정책을 잠그는 것이 좋습니다. 적용된 시간 기준 보존 정책의 초기 상태를 *잠금 해제* 하여 기능을 테스트하고 정책을 잠금 전에 변경할 수 있습니다. *잠금 해제* 된 상태는 불변성 보호를 제공하지만 단기 기능 평가판 이외의 용도로 *잠금 해제* 상태를 사용하지 않는 것이 좋습니다.
>
> 시간 기반 보존 정책이 잠기면 정책을 제거할 수 없으며 유효 보존 기간을 최대 5번까지 늘릴 수 있습니다. 보존 기간을 줄일 수 없습니다.

컨테이너에 시간 기준 보존 정책을 적용하면 컨테이너의 모든 Blob이 *유효* 보존 기간 동안 변경 불가능한 상태로 유지됩니다. Blob의 유효 보존 기간은 Blob **생성 시간** 과 사용자가 지정한 보존 기간의 차와 같습니다. 사용자가 보존 간격을 연장할 수 있으므로 변경 불가능한 스토리지는 사용자 지정 보존 간격의 최근 값을 사용하여 유효 보존 기간을 계산합니다.

예를 들어 사용자가 보존 기간 5년의 시간 기반 보존 정책을 만든다고 가정합니다. 해당 컨테이너의 기존 Blob인 _testBlob1_ 이 1년 전에 만들어졌습니다. 따라서 _testBlob1_ 의 유효 보존 기간은 4년입니다. 새 Blob _testBlob2_ 를 컨테이너에 업로드하는 경우 _testBlob2_ 에 대한 유효 보존 기간은 생성 시점부터 5년입니다.

잠금 해제된 시간 기반 보존 정책은 기능 테스트에만 사용하는 것이 좋으며, 이 경우에는 SEC 17a-4(f) 및 기타 규정 준수를 준수하기 위해 정책을 잠가야 합니다.

보존 정책에는 다음과 같은 제한이 적용됩니다.

- 스토리지 계정의 경우 변경이 불가능한 시간 기반 정책이 잠겨 있는 컨테이너의 최대 수는 10,000개입니다.
- 보존 간격의 최솟값은 1일이고, 최댓값은 146,000일(400년)입니다.
- 컨테이너의 경우 잠긴 시간 기반의 변경할 수 없는 정책의 보존 기간을 연장하는 최대 편집 수는 5번입니다.
- 컨테이너의 경우 잠긴 정책에 대해 최대 7개의 시간 기반 보존 정책 감사 로그가 보존됩니다.

### <a name="allow-protected-append-blobs-writes"></a>보호된 추가 Blob 쓰기 허용

추가 Blob은 데이터 블록으로 구성되며 감사 및 로깅 시나리오에 필요한 데이터 추가 작업에 최적화되어 있습니다. 기본적으로 추가 Blob은 Blob의 끝에 새 블록을 추가할 수 있습니다. 불변성에 관계없이 추가 Blob에서 기존 블록을 수정하거나 삭제하는 작업은 기본적으로 허용되지 않습니다. 추가 Blob에 대한 자세한 내용은 [추가 Blob 정보](/rest/api/storageservices/understanding-block-blobs--append-blobs--and-page-blobs#about-append-blobs)를 참조하세요.

시간 기반 보존 정책에만 불변성 보호 및 규정 준수를 유지하면서 추가 Blob에 새 블록을 쓸 수 있는 `allowProtectedAppendWrites` 설정이 있습니다. 이 설정을 사용하는 경우 정책으로 보호된 컨테이너에서 직접 추가 Blob을 만들고 *Appendblock* API를 사용하여 기존 추가 Blob의 끝에 새 데이터 블록을 계속 추가할 수 있습니다. 새 블록만 추가할 수 있으며 기존 블록은 수정하거나 삭제할 수 없습니다. 시간 보존 불변성 보호는 계속 적용되어 유효 보존 기간이 경과할 때까지 추가 Blob 삭제를 방지합니다. 이 설정을 사용하도록 설정해도 블록 Blob 또는 페이지 Blob의 불변성 동작에 영향을 주지 않습니다.

이 설정이 시간 기반 보존 정책의 일부이기 때문에, 추가 Blob은 *유효* 보존 기간 동안 변경할 수 없는 상태로 유지됩니다. 추가 Blob의 초기 생성 이후에 새 데이터를 추가할 수 있으므로 보존 기간이 결정되는 방식에 약간의 차이가 있습니다. 유효 보존은 추가 Blob의 **마지막 수정 시간** 과 사용자가 지정한 보존 간격 간의 차이입니다. 마찬가지로 보존 간격이 연장되면 변경이 불가능한 스토리지는 사용자가 지정한 보존 간격의 가장 최근 값을 사용하여 유효 보존 기간을 계산합니다.

예를 들어, 사용자가 `allowProtectedAppendWrites`를 사용하고 보존 간격을 90일로 설정하여 시간 기반 보존 정책을 만든다고 가정해보겠습니다. 오늘 컨테이너에 추가 Blob인 _logBlob1_ 이 생성되고, 다음 10일 동안 새 로그가 추가 Blob에 계속 추가됩니다. 따라서 _logBlob1_ 의 유효 보존 기간은 오늘부터 100일(마지막으로 추가한 시간 + 90일)입니다.

잠금 해제된 시간 기반 보존 정책을 사용하면 `allowProtectedAppendWrites` 설정을 언제든지 사용하도록 설정 및 사용하지 않도록 설정할 수 있습니다. 시간 기반 보존 정책이 잠기면 `allowProtectedAppendWrites` 설정을 변경할 수 없습니다.

법적 보존 정책은 `allowProtectedAppendWrites`를 사용하도록 설정할 수 없으며 모든 법적 보존은 'allowProtectedAppendWrites' 속성을 무효화합니다. `allowProtectedAppendWrites`가 사용 설정된 시간 기반 보존 정책에 법적 보존이 적용되면 법적 보존이 해제될 때까지 *AppendBlock* API가 실패합니다.

## <a name="legal-holds"></a>법적 보존

법적 보존은 법적 조사 목적 또는 일반 보호 정책에 사용할 수 있는 임시 보존입니다. 각 법적 보존 정책은 하나 이상의 태그와 연결되어야 합니다. 태그는 보류의 목적을 분류하고 설명하기 위해 케이스 ID 또는 이벤트와 같은 명명된 식별자로 사용됩니다.

컨테이너에는 법적 보존 정책 및 시간 기준 보존 정책이 모두 있을 수 있습니다. 유효 보존 기간이 만료된 경우에도 법적 보존이 해제될 때까지 해당 컨테이너의 모든 Blob은 변경 불가능한 상태로 유지됩니다. 반대로, 모든 법적 보존이 지워진 경우에도 유효 보존 기간이 만료될 때까지 Blob은 변경 불가능한 상태로 유지됩니다.

법적 보존에는 다음 제한이 적용됩니다.

- 스토리지 계정의 경우 법적 보존이 설정된 컨테이너의 최대 수는 10,000개입니다.
- 컨테이너의 경우 법적 보존 태그의 최대 수는 10개입니다.
- 법적 보존 태그의 최소 길이는 세 개의 영숫자입니다. 최대 길이는 23자의 영숫자입니다.
- 컨테이너의 경우 정책 기간 동안 최대 10개의 법적 보존 정책 감사 로그가 보존됩니다.

## <a name="scenarios"></a>시나리오

다음 표에서는 변경이 불가능한 여러 시나리오에 사용할 수 없는 Blob Storage 작업의 유형을 보여 줍니다. 자세한 내용은 [Azure Blob 서비스 REST API](/rest/api/storageservices/blob-service-rest-api) 설명서를 참조하세요.

| 시나리오 | Blob 상태 | Blob 작업이 거부됨 | 컨테이너 및 계정 보호 |
|--|--|--|--|
| BLOB의 유효 보존 기간이 아직 만료되지 않았고/않았거나 법적 보존이 설정되어 있음 | 변경할 수 없음: 삭제 및 쓰기 금지 | Blob<sup>1</sup> 배치, 블록<sup>1</sup> 배치, 블록 목록<sup>1</sup> 배치, 컨테이너 삭제, Blob 삭제, Blob 메타데이터 설정, 페이지 배치, Blob 속성 설정, 스냅샷 Blob, Blob 증분 복사, 블록 추가<sup>2</sup> | 컨테이너 삭제가 거부됨, 스토리지 계정 삭제가 거부됨 |
| Blob의 유효 보존 기간이 만료되었고 법적 보존이 설정되어 있지 않음 | 쓰기만 금지(삭제 작업은 허용) | Blob<sup>1</sup> 배치, 블록<sup>1</sup> 배치, 블록 목록<sup>1</sup> 배치, Blob 메타데이터 설정, 페이지 배치, Blob 속성 설정, 스냅샷 Blob, Blob 증분 복사, 블록 추가<sup>2</sup> | 보호된 컨테이너 내에 Blob이 하나 이상 있는 경우 컨테이너 삭제가 거부됨, *잠긴* 시간 기반 정책에 대해서만 스토리지 계정 삭제가 거부됨 |
| 적용된 WORM 정책 없음(시간 기반 보존 및 법적 보존 태그 없음) | 변경 가능 | 없음 | 없음 |

<sup>1</sup> Blob 서비스를 사용하면 이러한 작업에서 새 Blob을 한 번 만들 수 있습니다. 변경할 수 없는 컨테이너의 기존 Blob 경로에 대한 모든 후속 덮어쓰기 작업은 허용되지 않습니다.

<sup>2</sup> 블록 추가는 `allowProtectedAppendWrites` 속성을 사용하도록 설정된 시간 기반 보존 정책에만 허용됩니다. 자세한 내용은 [보호된 추가 Blob 쓰기 허용](#allow-protected-append-blobs-writes) 섹션을 참조하세요.

> [!IMPORTANT]
> [URL에 SQL 백업](/sql/relational-databases/backup-restore/sql-server-backup-to-url)과 같은 일부 워크로드는 Blob을 만든 다음 추가합니다. 컨테이너에 활성 시간 기반 보존 정책 또는 법적 보존이 있는 경우 이 패턴은 성공하지 못합니다.

## <a name="pricing"></a>가격 책정

이 기능을 사용하는 경우 추가 요금이 부과되지 않습니다. 변경할 수 없는 데이터는 변경할 수 있는 데이터와 동일한 방식으로 가격이 책정됩니다. Azure Blob Storage의 가격 책정에 대한 자세한 내용은 [Azure Storage 가격 책정 페이지](https://azure.microsoft.com/pricing/details/storage/blobs/)를 참조하세요.

## <a name="faq"></a>FAQ

**WORM 준수 문서를 제공할 수 있나요?**

예. Microsoft는 규정 준수를 문서화하기 위해 레코드 관리 및 정보 거버넌스를 전문으로 하는 선도적인 독립 평가 회사인 Cohasset Associates를 유지하여 변경이 불가능한 Blob Storage와 금융 서비스 산업에 특정한 요구 사항을 준수하는지 평가했습니다. Cohasset에서는 WORM 상태에서 시간 기반 Blob을 유지하는 데 사용할 때 변경이 불가능한 Blob Storage가 CFTC Rule 1.31(c)-(d), FINRA Rule 4511 및 SEC Rule 17a-4의 관련 스토리지 요구 사항을 충족하는지 확인했습니다. Microsoft는 금융 기관의 기록 보존에 대해 전 세계적으로 가장 규범적인 지침을 나타내는 이 규칙 집합을 목표로 했습니다. Cohasset 보고서는 [Microsoft 서비스 보안 센터](https://aka.ms/AzureWormStorage)에서 확인할 수 있습니다. WORM 불변성 준수와 관련하여 Microsoft로부터 증명 서신을 요청하려면 Azure 지원에 문의하세요.

**이 기능은 블록 Blob 및 추가 Blob에만 적용되나요? 아니면 페이지에도 적용되나요?**

변경이 불가능한 스토리지는 컨테이너 수준에서 설정된 모든 Blob 유형에 사용될 수 있지만, 주로 블록 Blob 및 추가 Blob을 저장하는 컨테이너에는 WORM을 사용하는 것이 좋습니다. 컨테이너의 기존 Blob은 새로 설정된 WORM 정책에 의해 보호됩니다. 그러나 새 페이지 Blob은 WORM 컨테이너 외부에서 만든 다음에 복사해야 합니다. WORM 컨테이너에 복사된 후에는 페이지 Blob을 더 이상 변경할 수 없습니다. 활성 가상 머신에 대한 VHD(페이지 Blob)를 저장하는 컨테이너에 WORM 정책을 설정하는 것은 VM 디스크를 잠그기 때문에 권장되지 않습니다. 시간 기반 정책을 잠그기 전에 설명서를 철저히 검토하고 시나리오를 테스트하는 것이 좋습니다.

**이 기능을 사용하려면 새 스토리지 계정을 만들어야 하나요?**

아니요, 기존 또는 새로 생성된 범용 v1, 범용 v2, 프리미엄 블록 Blob 및 레거시 Blob 계정에서 변경 불가능한 스토리지를 사용할 수 있습니다. 범용 v1 스토리지 계정도 지원되지만 더 많은 기능을 활용할 수 있도록 범용 v2로 업그레이드하는 것이 좋습니다. 기존 범용 v1 스토리지 계정 업그레이드에 대한 자세한 내용은 [스토리지 계정 업그레이드](../common/storage-account-upgrade.md)를 참조하세요.

**법적 보존 및 시간 기반 보존 정책을 모두 적용할 수 있나요?**

예, 컨테이너에 법적 보존 및 시간 기반 보존 정책이 동시에 있을 수 있습니다. 그러나 'allowProtectedAppendWrites' 설정은 법적 보존이 해제될 때까지 적용되지 않습니다. 유효 보존 기간이 만료된 경우에도 법적 보존이 해제될 때까지 해당 컨테이너의 모든 Blob은 변경 불가능한 상태로 유지됩니다. 반대로, 모든 법적 보존이 지워진 경우에도 유효 보존 기간이 만료될 때까지 Blob은 변경 불가능한 상태로 유지됩니다. 

**법적 보존 정책은 법적 절차에만 적용되나요? 아니면 다른 사용 시나리오가 있나요?**

아니요, 법적 보존은 시간 기반이 아닌 보존 정책에 사용되는 일반적인 용어입니다. 소송 관련 절차에만 사용할 필요는 없습니다. 법적 보존 정책은 보존 기간을 알 수 없는 중요한 엔터프라이즈 WORM 데이터를 보호하기 위해 덮어쓰기 및 삭제를 사용하지 않도록 설정하는 데 유용합니다. 중요 업무용 WORM 워크로드를 보호하기 위한 엔터프라이즈 정책으로 사용하거나 사용자 지정 이벤트 트리거에 시간 기반 보존 정책을 사용하기 전의 준비 정책으로 사용할 수 있습니다. 

**_잠긴_ 시간 기반 보존 정책 또는 법적 보존을 제거할 수 있나요?**

잠금 해제된 시간 기반 보존 정책만 컨테이너에서 제거할 수 있습니다. 시간 기반 보존 정책이 잠긴 후에는 제거할 수 없습니다. 유효 보존 기간 확장만 허용됩니다. 법적 보존 태그를 삭제할 수 있습니다. 모든 법적 태그를 삭제하면 법적 보존이 제거됩니다.

**시간 기반 보존 정책 또는 법적 보존이 있는 컨테이너를 삭제하려고 시도하면 어떻게 되나요?**

컨테이너에 잠긴 시간 기반 보존 정책 또는 잠금 해제된 시간 기반 보존 정책이 있는 Blob이 하나 이상 있거나 컨테이너에 법적 보존이 있는 경우 컨테이너 삭제 작업이 실패합니다. 컨테이너 삭제 작업은 컨테이너에 Blob이 없고 법적 보존이 없는 경우에만 성공합니다. 

**컨테이너에 시간 기반 보존 정책 또는 법적 보존이 있는 스토리지 계정을 삭제하려고 시도하면 어떻게 되나요?**

설정된 법적 보존 또는 **잠긴** 시간 기반 정책이 있는 컨테이너가 하나 이상 있는 경우 스토리지 계정 삭제가 실패합니다. 잠금 해제된 시간 기반 정책의 컨테이너는 스토리지 계정 삭제를 보호하지 않습니다. 스토리지 계정을 삭제하려면 먼저 모든 법적 보존을 제거하고 **잠긴** 모든 컨테이너를 삭제해야 합니다. 컨테이너 삭제에 대한 내용은 앞의 질문을 참조하세요. [Azure Resource Manager 잠금](../../azure-resource-manager/management/lock-resources.md)을 사용하여 스토리지 계정에 대한 추가 삭제 보호를 적용할 수도 있습니다.

**BLOB이 변경할 수 없는 상태인 경우 BLOB 계층(핫, 쿨, 보관) 간에 데이터를 이동할 수 있나요?**

예, Blob 계층 설정 명령을 사용하여 데이터를 변경할 수 없는 준수 상태로 유지하면서 Blob 계층 간에 데이터를 이동할 수 있습니다. 변경 불가능한 스토리지는 핫, 쿨 및 아카이브 Blob 계층에서 지원됩니다.

**보존 기간이 만료되지는 않았지만 요금을 지불하지 않은 경우 어떻게 되나요?**

요금을 지불하지 않으면 Microsoft와 맺은 사용 약관에 명시된 대로 일반 데이터 보존 정책이 적용됩니다. 일반 정보는 [Microsoft의 데이터 관리](https://www.microsoft.com/en-us/trust-center/privacy/data-management)를 참조하세요. 

**기능을 경험해 볼 수 있는 평가판 또는 유예 기간이 제공되나요?**

예. 시간 기반 보존 정책은 처음으로 만들면 *잠금 해제* 상태입니다. 이 상태에서는 필요에 따라 보존 간격을 변경할 수 있습니다. 즉 해당 정책을 늘리거나 줄이고, 심지어 삭제할 수도 있습니다. 정책을 잠근 후에는 보존 간격이 만료될 때까지 잠금 상태가 유지됩니다. 이 잠긴 정책을 사용하면 보존 간격의 삭제 및 수정을 방지할 수 있습니다. *잠금 해제* 상태는 기능 평가 목적으로만 사용하고, 24 시간 내에 해당 정책을 잠그는 것이 좋습니다. 이러한 사례는 SEC 17a-4(f) 및 기타 규정을 준수하는 데 도움이 됩니다.

**변경할 수 없는 Blob 정책과 함께 일시 삭제를 사용할 수 있나요?**

예. 준수 요구 사항에 따라 일시 삭제를 사용하도록 허용할 수 있습니다. [Azure Blob Storage에 대한 일시 삭제](./soft-delete-blob-overview.md)는 법적 보존 또는 시간 기반 보존 정책에 관계없이 스토리지 계정 내의 모든 컨테이너에 적용됩니다. 변경할 수 없는 WORM 정책을 적용하고 확인하기 전에 추가 보호를 위해 일시 삭제를 사용하도록 설정하는 것이 좋습니다.

**HNS를 사용하는 계정의 경우 Blob이 변경할 수 없는 상태일 때 Blob의 이름을 바꾸거나 Blob을 이동할 수 있나요?**
아니요, 이름과 디렉터리 구조는 모두 변경할 수 없는 정책이 적용되면 수정할 수 없는 중요한 컨테이너 수준 데이터로 간주됩니다. 이름 바꾸기 및 이동은 일반적으로 HNS를 사용하는 계정에 대해서만 사용할 수 있습니다.

## <a name="next-steps"></a>다음 단계

- [Blob Storage에 대한 불변성 정책 설정 및 관리](storage-blob-immutability-policies-manage.md)
- [수명 주기 관리로 Blob 데이터를 자동으로 계층화하고 삭제하는 규칙 설정](storage-lifecycle-management-concepts.md)
- [Azure Storage Blob에 대한 일시 삭제](./soft-delete-blob-overview.md)
- [Azure Resource Manager 잠금으로 구독, 리소스 그룹 및 리소스를 보호합니다](../../azure-resource-manager/management/lock-resources.md).
