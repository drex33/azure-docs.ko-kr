---
title: 데이터베이스 디자이너를 사용 하 여 lake 데이터베이스를 수정 합니다.
description: 데이터베이스 디자이너를 사용 하 여 lake 데이터베이스를 보고, 사용자 지정 하 고, 게시 하는 방법에 대해 알아봅니다.
author: aamerril
ms.author: aamerril
ms.service: synapse-analytics
ms.subservice: ''
ms.topic: how-to
ms.date: 11/02/2021
ms.custom: template-how-to, ignite-fall-2021
ms.openlocfilehash: 69bb07492c5c69f569b04246441da0d5b47e67ab
ms.sourcegitcommit: 106f5c9fa5c6d3498dd1cfe63181a7ed4125ae6d
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/02/2021
ms.locfileid: "131053707"
---
# <a name="how-to-modify-a-lake-database"></a>방법: lake 데이터베이스 수정

이 문서에서는 데이터베이스 디자이너를 사용 하 여 Azure Synapse에서 기존 [lake 데이터베이스](./concepts-lake-database.md) 를 수정 하는 방법에 대해 알아봅니다. 데이터베이스 디자이너를 사용 하면 코드를 작성 하지 않고도 데이터베이스를 쉽게 만들고 배포할 수 있습니다. 

## <a name="prerequisites"></a>사전 요구 사항

- Synapse 관리자 또는 Synapse 참여자 권한은 Synapse 작업 영역에서 lake 데이터베이스를 만드는 데 필요 합니다.
- Storage Data lake에는 Blob 데이터 참가자 권한이 필요 합니다.

## <a name="modify-database-properties"></a>데이터베이스 속성 수정
1. Azure Synapse Analytics 작업 영역 **홈** 허브에서 왼쪽의 **데이터** 탭을 선택 합니다. **데이터** 탭이 열리고 작업 영역에 이미 있는 데이터베이스 목록이 표시 됩니다.
2. **데이터베이스** 섹션을 마우스로 가리키고 수정할 데이터베이스 옆에 **있는 줄임표** (...)를 선택한 다음 **열기 (미리 보기)** 를 선택 합니다.

    ![기존 데이터베이스를 여는 방법을 보여 주는 스크린샷](./media/modify-lake-database/open-designer.png)

3. 선택한 데이터베이스를 캔버스에 로드 하 여 데이터베이스 디자이너 탭이 열립니다.
4. 데이터베이스 디자이너에는 탭의 오른쪽 위에 있는 **속성** 아이콘을 선택 하 여 열 수 있는 **속성** 창이 있습니다. ![ 속성 아이콘의 위치를 보여 주는 스크린샷](./media/modify-lake-database/properties-location.png)
    - **이름** 데이터베이스를 게시 한 후에는 이름을 편집할 수 없으므로 선택한 이름이 올바른지 확인 하십시오.
    - **설명** 데이터베이스에 대 한 설명을 제공 하는 것은 선택 사항 이지만 사용자가 데이터베이스의 용도를 이해할 수 있습니다.
    - **데이터베이스에 대 한 Storage 설정은** 데이터베이스의 테이블에 대 한 기본 저장소 정보를 포함 하는 섹션입니다. 기본 설정은 테이블 자체에서 재정의 되지 않는 한 데이터베이스의 각 테이블에 적용 됩니다.
    - **연결 된 서비스** 는 Azure Data Lake Storage 데이터를 저장 하는 데 사용 되는 기본 연결 된 서비스입니다. Synapse 작업 영역과 연결 된 기본 연결 된 서비스가 표시 되지만, **연결 된 서비스** 를 원하는 ADLS 저장소 계정으로 변경할 수 있습니다.  
    - 파일 브라우저를 사용 하 여 연결 된 서비스 내에서 기본 컨테이너 및 폴더 경로를 설정 하는 데 사용 되는 **입력 폴더** 입니다.
    - Azure Synapse의 **data format** lake 데이터베이스는 데이터에 대 한 저장소 형식으로 parquet 및 구분 된 텍스트를 지원 합니다.
5. 데이터베이스에 테이블을 추가 하려면 **+ 테이블** 단추를 선택 합니다. 
    - **사용자 지정** 은 캔버스에 새 테이블을 추가 합니다.
    - **템플릿에서** 갤러리를 열고 새 테이블을 추가할 때 사용할 데이터베이스 템플릿을 선택할 수 있습니다. 자세한 내용은 [데이터베이스 템플릿에서 lake 데이터베이스 만들기](./create-lake-database-from-lake-database-templates.md)를 참조 하세요.
    - **Data Lake에서** 이미 lake에 있는 데이터를 사용 하 여 테이블 스키마를 가져올 수 있습니다.
6. **사용자 지정** 을 선택합니다. Table_1 라는 캔버스에 새 테이블이 표시 됩니다.
7. 그런 다음 테이블 이름, 설명, 저장소 설정, 열, 관계 등을 포함 하 여 Table_1를 사용자 지정할 수 있습니다. 아래의 데이터베이스에서 테이블 사용자 지정 섹션을 참조 하세요.
8. **+ 테이블** 을 선택 하 고 **data lake에서** data lake의 새 테이블을 추가 합니다.
9. **Data lake에서 외부 테이블 만들기** 창이 표시 됩니다. 아래 세부 정보를 사용 하 여 창을 입력 하 고 **계속** 을 선택 합니다.
    - **외부 테이블 이름** 만들려는 테이블에 지정할 이름입니다.
    - **연결 된 서비스** 데이터 파일이 있는 Azure Data Lake Storage 위치를 포함 하는 연결 된 서비스입니다.
    - **입력 파일 또는 폴더** 파일 브라우저를 사용 하 여 lake에서 테이블을 만드는 데 사용할 파일을 찾아 선택 합니다.
![Data lake에서 외부 테이블 만들기 창에 있는 옵션을 보여 주는 스크린샷](./media/modify-lake-database/create-from-lake.png)
    - 다음 화면에서 Azure Synapse는 파일을 미리 보고 스키마를 검색 합니다.
    - 데이터 형식과 관련 된 설정을 업데이트 하 고, Azure Synapse에서 파일을 올바르게 식별 했는지 확인 하기 위해 데이터를 **미리 볼** 수 있는 **새로운 외부 테이블** 페이지로 이동 합니다.
    - 설정에 만족 하는 경우 **만들기** 를 선택 합니다.
    - 선택한 이름을 가진 새 테이블이 캔버스에 추가 되 고 **테이블의 Storage 설정** 섹션에 지정한 파일이 표시 됩니다.
10. 사용자 지정 된 데이터베이스를 사용 하 여 지금 게시할 시간입니다. Synapse 작업 영역에서 Git 통합을 사용 하는 경우 변경 내용을 커밋하고 공동 작업 분기에 병합 해야 합니다. [Azure Synapse의 원본 제어에 대해 자세히 알아보세요](././cicd/../../cicd/source-control.md). Synapse Live 모드를 사용 하는 경우 "게시"를 선택할 수 있습니다.

     - 게시 하기 전에 데이터베이스의 오류에 대 한 유효성을 검사 합니다. 발견 된 모든 오류는 오류를 해결 하는 방법에 대 한 지침이 포함 된 알림 탭에 표시 됩니다.

       ![데이터베이스의 유효성 검사 오류를 보여 주는 유효성 검사 창의 스크린샷](./media/create-lake-database-from-lake-database-template/validation-error.png)
     - 게시 하면 Azure Synapse Metastore에 데이터베이스 스키마가 생성 됩니다.  게시 후 데이터베이스 및 테이블 개체는 다른 Azure 서비스에 표시 되며 데이터베이스의 메타 데이터를 Power BI 또는 부서의 범위와 같은 앱으로 전달할 수 있습니다.


## <a name="customize-tables-within-a-database"></a>데이터베이스 내에서 테이블 사용자 지정
데이터베이스 디자이너를 사용 하 여 데이터베이스의 모든 테이블을 완전히 사용자 지정할 수 있습니다. 테이블을 선택 하면 세 개의 탭을 사용할 수 있으며 각 탭에는 테이블의 스키마 또는 메타 데이터와 관련 된 설정이 포함 됩니다.

### <a name="general"></a>일반
**일반** 탭에는 테이블 자체와 관련 된 정보가 포함 되어 있습니다.
   - **이름** 테이블의 이름입니다. 테이블 이름은 데이터베이스 내에서 고유한 값으로 사용자 지정할 수 있습니다. 이름이 같은 테이블이 여러 개 허용 되지 않습니다.
   - **에서 상속** 됨 (옵션) 데이터베이스 템플릿에서 테이블이 생성 된 경우이 값이 표시 됩니다. 이 파일은 편집할 수 없으며 사용자에 게 파생 된 템플릿 테이블을 알려 줍니다.
   - **설명** 테이블에 대 한 설명입니다. 테이블이 데이터베이스 템플릿에서 생성 된 경우이 테이블에 표시 되는 개념에 대 한 설명이 포함 됩니다. 이 필드는 편집할 수 있으며 비즈니스 요구 사항과 일치 하는 설명과 일치 하도록 변경할 수 있습니다.
   - **표시 폴더** 는이 테이블이 데이터베이스 템플릿의 일부로 그룹화 된 비즈니스 영역 폴더의 이름을 제공 합니다. 사용자 지정 테이블의 경우이 값은 "기타"입니다.

     ![일반 탭의 스크린샷](./media/modify-lake-database/general-tab.png)
   - 또한 테이블에 사용 되는 기본 저장소 정보에 대 한 설정을 제공 하는 **테이블에 대 한 Storage 설정** 이라는 축소할 수 있는 섹션이 있습니다.
   - **데이터베이스에서 상속** -아래 저장소 설정이 데이터베이스 **속성** 탭에 설정 된 값에서 상속 되는지 또는 개별적으로 설정 되는지를 결정 하는 확인란입니다. 저장소 값을 사용자 지정 하려면이 확인란의 선택을 취소 합니다.
      - **연결 된 서비스** 는 Azure Data Lake Storage 데이터를 저장 하는 데 사용 되는 기본 연결 된 서비스입니다. 다른 ADLS 계정을 선택 하려면이를 변경 합니다.     
      - **입력 폴더** 이 테이블에 로드 된 데이터를 ADLS의 폴더입니다. 이는 파일 브라우저를 통해 편집할 수 있습니다.
      - **데이터 형식** Azure Synapse의 **입력 폴더** Lake 데이터베이스에 있는 데이터의 데이터 형식은 데이터의 저장소 형식으로 parquet 및 구분 된 텍스트를 지원 합니다. 데이터 형식이 폴더의 데이터와 일치 하지 않는 경우 테이블에 대 한 쿼리는 실패 합니다.
   - 구분 기호로 분리 된 텍스트의 **데이터 형식** 에는 추가 설정이 있습니다.
        - **행 머리글** 데이터에 행 머리글이 있는 경우이 상자를 선택 합니다.
        - **줄 바꿈** 데이터의 행에 줄 바꿈이 있으면이 확인란을 선택 합니다. 이렇게 하면 서식 지정 문제가 발생 하지 않습니다.
        - **데이터 압축** 데이터에 사용 되는 압축 유형입니다.
        - **구분 기호** 데이터 파일에 사용 되는 필드 구분 기호입니다. 지원 되는 값은 쉼표 (,), 탭 (\t) 및 파이프 (|)입니다. 
   - Parquet 데이터의 경우 다음과 같은 설정이 있습니다.
        - **데이터 압축** 데이터에 사용 되는 압축 유형입니다.

### <a name="columns"></a>열
**열** 탭은 테이블에 대 한 열이 나열 되 고 수정할 수 있는 위치입니다. 이 탭에는 **표준 열** 과 **파티션 열** 이라는 두 개의 열 목록이 있습니다. **표준 열** 은 데이터를 저장 하는 모든 열이 고, 기본 키 이며, 그렇지 않은 경우 데이터 분할에 사용 되지 않습니다. **파티션 열** 에는 데이터도 저장 되지만 열에 포함 된 값에 따라 기본 데이터를 폴더로 분할 하는 데 사용 됩니다. 각 열에는 다음과 같은 속성이 있습니다.
![열 탭의 스크린샷](./media/modify-lake-database/columns-tab.png)
   - **이름** 열의 이름입니다. 테이블 내에서 고유 해야 합니다.
   - **PK** 또는 기본 키입니다. 열이 테이블의 기본 키인지 여부를 나타냅니다. 파티션 열에는 적용 되지 않습니다.
   - **설명** 열에 대 한 설명입니다. 열이 데이터베이스 템플릿에서 생성 된 경우이 열이 나타내는 개념에 대 한 설명이 표시 됩니다. 이 필드는 편집할 수 있으며 비즈니스 요구 사항과 일치 하는 설명과 일치 하도록 변경할 수 있습니다.
   - Null **허용** 여부는이 열에 null 값이 있을 수 있는지 여부를 나타냅니다. 파티션 열에는 적용 되지 않습니다.
   - **데이터 형식** 사용 가능한 Spark 데이터 형식 목록을 기반으로 열에 대 한 데이터 형식을 설정 합니다. 
   - **형식/길이** 를 사용 하면 데이터 형식에 따라 열의 형식이 나 최대 길이를 사용자 지정할 수 있습니다. 날짜 및 타임 스탬프 데이터 형식에는 드롭다운 형식이 있으며 string과 같은 다른 형식에는 최대 길이 필드가 있습니다. 일부 형식의 경우 값이 고정 길이 이므로 일부 데이터 형식에는 값이 없습니다.
**열** 탭의 맨 위에는 열과 상호 작용 하는 데 사용할 수 있는 명령 모음이 있습니다.
   - **키워드로 필터링** 은 지정 된 키워드와 일치 하는 항목에 대 한 열 목록을 필터링 합니다.
   - **+ 열** 을 사용 하면 새 열을 추가할 수 있습니다. 세 가지 옵션을 사용할 수 있습니다.
      - **새 열** 새 사용자 지정 표준 열을 만듭니다.
      - **템플릿에서** 탐색 창이 열리고 테이블에 포함할 데이터베이스 템플릿의 열을 식별할 수 있습니다. 데이터베이스 템플릿을 사용 하 여 데이터베이스를 만들지 않은 경우에는이 옵션이 표시 되지 않습니다.
      - **파티션 열** 새 사용자 지정 파티션 열을 추가 합니다.
   - **복제** 선택한 열을 복제 합니다. 복제 된 열은 항상 선택한 열과 동일한 유형입니다.
   - **Convert 유형은** 선택한 **표준 열** 을 **파티션 열** 로 변경 하 고 다른 방법으로 변경 하는 데 사용 됩니다. 열에 설정 된 **PK** 또는 **null 허용 여부** 플래그 때문에 다른 유형의 열을 여러 개 선택 하거나 선택한 열을 변환할 수 없는 경우이 옵션이 회색으로 표시 됩니다.
   - **Delete** 선택한 열을 테이블에서 삭제 합니다. 이 작업은 되돌릴 수 없습니다. 

#### <a name="partition-columns"></a>파티션 열

파티션 열은 이러한 열의 값을 기준으로 데이터베이스의 물리적 데이터를 분할 하는 데 사용 됩니다. 파티션 열을 사용 하면 디스크의 데이터를 더 높은 성능의 청크로 쉽게 배포할 수 있습니다. Azure Synapse의 파티션 열은 항상 테이블 스키마의 끝에 있습니다. 또한 파티션 폴더를 만들 때 위에서 아래로 사용 됩니다. 예를 들어, 파티션 열이 연도와 월 인 경우 다음과 같이 ADLS의 구조가 표시 됩니다.

![분할에서 폴더의 계층 구조를 보여 주는 스크린샷: 2020-> 1 월, 2 월 > 파일](./media/modify-lake-database/partition-example.png)

여기서 file1 및 file2는 Year 및 Month의 값이 각각 2020 및 Jan 인 모든 행을 포함 합니다. 테이블에 더 많은 파티션 열이 추가 되 면이 계층 구조에 더 많은 파일이 추가 되어 파티션의 전체 파일 크기가 작아집니다.

Azure Synapse는 테이블에 파티션 열을 추가 하 여이 계층을 적용 하거나 만들지 않습니다. 파티션 구조를 만들려면 Synapse Pipelines 또는 Spark 노트북을 사용 하 여 테이블에 데이터를 로드 해야 합니다. 

### <a name="relationships"></a>관계

관계 탭을 사용 하 여 데이터베이스의 테이블 간 관계를 지정할 수 있습니다. 데이터베이스 디자이너의 관계는 정보를 제공 하 고 기본 데이터에 대 한 제약 조건을 적용 하지 않습니다. 다른 Microsoft 응용 프로그램에서 읽고, 변환을 가속화 하거나, 테이블의 연결 방식을 비즈니스 사용자에 게 제공 하는 데 사용할 수 있습니다. 관계 창에는 다음과 같은 정보가 있습니다.
![관계 탭의 스크린샷](./media/modify-lake-database/relationships-tab.png)
   - **(테이블)의 관계** 는 하나 이상의 테이블에이 테이블에 연결 된 외래 키가 있는 경우입니다. 이를 부모 관계 라고도 합니다.
   - **(테이블)에 대 한 관계** 는 외래 키가 있고 다른 테이블에 연결 된 테이블이 있는 경우입니다. 이를 자식 관계 라고도 합니다.
   - 두 관계 유형 모두에는 다음과 같은 속성이 있습니다.
      - **From table** 관계의 부모 테이블 또는 "one" 쪽입니다.
      - **열에서** 관계의 기준이 되는 부모 테이블의 열입니다.
      - 관계의 자식 테이블 또는 "다" 쪽 테이블 **을 테이블에 연결할 수** 있습니다.
      - 관계가 기반으로 하는 자식 테이블의 열 **을 열로** 설정 합니다.
**관계** 탭의 위쪽에서는 관계와 상호 작용 하는 데 사용할 수 있는 명령 모음입니다.
   - **키워드로 필터링** 은 지정 된 키워드와 일치 하는 항목에 대 한 열 목록을 필터링 합니다.
   - **+ 관계** 를 사용 하면 새 관계를 추가할 수 있습니다. 두 가지 옵션 중에서 선택할 수 있습니다.
      - **From table** 은 작업 중인 테이블에서 다른 테이블로 새 관계를 만듭니다.
      - **To table** 은 작업 중인 다른 테이블에서 새 관계를 만듭니다.
      - **템플릿에서** 탐색 창이 열리고 데이터베이스에 포함 시킬 데이터베이스 템플릿의 관계를 선택할 수 있습니다. 데이터베이스 템플릿을 사용 하 여 데이터베이스를 만들지 않은 경우에는이 옵션이 표시 되지 않습니다.

## <a name="next-steps"></a>다음 단계
아래 링크를 사용하여 데이터베이스 디자이너 기능을 계속 탐색합니다. 
- [빈 lake 데이터베이스 만들기](./create-empty-lake-database.md)
- [Lake 데이터베이스에 대 한 자세한 정보](./concepts-lake-database.md)
- [Lake 데이터베이스 템플릿에서 lake 데이터베이스 만들기](./create-lake-database-from-lake-database-templates.md)
