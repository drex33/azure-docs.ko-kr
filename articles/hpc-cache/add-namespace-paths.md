---
title: Azure HPC Cache 집계형 네임스페이스 구성
description: Azure HPC Cache를 사용하여 백 엔드 스토리지에 대한 클라이언트 쪽 경로를 만드는 방법
author: femila
ms.service: hpc-cache
ms.topic: how-to
ms.date: 04/22/2021
ms.author: femila
ms.openlocfilehash: 903ed4b3d17b0fc7290e5ce2755518cf768ac342
ms.sourcegitcommit: 106f5c9fa5c6d3498dd1cfe63181a7ed4125ae6d
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/02/2021
ms.locfileid: "131015374"
---
# <a name="set-up-the-aggregated-namespace"></a>집계형 네임스페이스 설정

스토리지 대상을 만든 후에는 대상에 대한 네임스페이스 경로도 만들어야 합니다. 클라이언트 머신은 백 엔드 스토리지에 직접 연결하는 대신 가상 경로를 사용하여 캐시를 통해 파일에 액세스합니다. 해당 시스템을 통해 캐시 관리자는 클라이언트 지침을 다시 작성할 필요 없이 백 엔드 스토리지 시스템을 변경할 수 있습니다.

이 기능에 대한 자세한 내용은 [집계형 네임스페이스 계획](hpc-cache-namespace.md)을 참조하세요.

Azure Portal의 **네임스페이스** 페이지에는 클라이언트가 캐시를 통해 데이터에 액세스하기 위해 사용하는 경로가 표시됩니다. 해당 페이지를 사용하여 네임스페이스 경로를 만들거나 제거하거나 변경할 수 있습니다. 또한 Azure CLI를 사용하여 네임스페이스 경로를 구성할 수 있습니다.

해당 캐시에 대해 정의된 모든 클라이언트 쪽 경로는 **네임스페이스** 페이지에 나열됩니다. 아직 정의된 네임스페이스 경로가 없는 스토리지 대상은 테이블에 표시되지 않습니다.

테이블 열을 정렬하여 캐시의 집계형 네임스페이스를 보다 잘 이해할 수 있습니다. 열 머리글의 화살표를 클릭하여 경로를 정렬합니다.

[![테이블에 두 개의 경로가 있는 포털 네임스페이스 페이지의 스크린샷입니다. 열 머리글은 네임스페이스 경로, 스토리지 대상, 내보내기 경로, 내보내기 하위 디렉터리 및 클라이언트 액세스 정책입니다. 첫 번째 열의 경로 이름은 클릭 가능한 링크입니다. 상단의 단추는 네임스페이스 경로 추가, 새로 고침, 삭제입니다.](media/namespace-page.png) ](media/namespace-page.png#lightbox)

## <a name="add-or-edit-namespace-paths"></a>네임스페이스 경로 추가 또는 편집

클라이언트에서 스토리지 대상에 액세스하려면 먼저 네임스페이스 경로를 하나 이상 만들어야 합니다. (클라이언트 액세스에 대한 자세한 내용은 [Azure HPC Cache 탑재](hpc-cache-mount.md)를 참조하세요.)

최근에 스토리지 대상을 추가했거나 액세스 정책을 사용자 지정한 경우 네임스페이스 경로를 만들기 전에 1~2분가량이 걸릴 수 있습니다.

### <a name="blob-namespace-paths"></a>Blob 네임스페이스 경로

Azure Blob 스토리지 대상에는 네임스페이스 경로가 하나만 있을 수 있습니다.

아래 지침에 따라 Azure Portal 또는 Azure CLI를 사용하여 경로를 설정하거나 변경합니다.

### <a name="portal"></a>[포털](#tab/azure-portal)

Azure Portal에서 **네임스페이스** 설정 페이지를 로드합니다. 이 페이지에서 네임스페이스 경로를 추가, 변경 또는 삭제할 수 있습니다.

* **새 경로 추가:** 위쪽에서 **+ 추가** 단추를 클릭하고 편집 패널에 정보를 입력합니다.

  ![선택한 Blog 스토리지 대상이 있는 네임스페이스 추가 편집 필드의 스크린샷 내보내기 및 하위 디렉터리 경로는 /로 설정되며 편집할 수 없습니다.](media/namespace-add-blob.png)

  * 클라이언트에서 이 스토리지 대상에 액세스하는 데 사용할 경로를 입력합니다.

  * 이 경로에 사용할 액세스 정책을 선택합니다. [클라이언트 액세스 정책 사용](access-policies.md)에서 클라이언트 액세스를 사용자 지정하는 방법에 대해 자세히 알아보세요.

  * 드롭다운 목록에서 스토리지 대상을 선택합니다. Blob 스토리지 대상에 이미 네임스페이스 경로가 있는 경우 이를 선택할 수 없습니다.

  * Azure Blob 스토리지 대상의 경우 내보내기 및 하위 디렉터리 경로는 자동으로 ``/``로 설정됩니다.

* **기존 경로 변경:** 네임스페이스 경로를 클릭합니다. 편집 창이 열립니다. 경로와 액세스 정책을 수정할 수 있지만 다른 스토리지 대상으로 변경할 수는 없습니다.

* **네임스페이스 경로 삭제:** 경로의 왼쪽에 있는 확인란을 선택하고 **삭제** 단추를 클릭합니다.

### <a name="azure-cli"></a>[Azure CLI](#tab/azure-cli)

[Azure HPC Cache용 Azure CLI 설정](./az-cli-prerequisites.md)

Azure CLI를 사용하는 경우 스토리지 대상을 만들 때 네임스페이스 경로를 추가해야 합니다. 자세한 내용은 [새 Azure Blob 스토리지 대상 추가](hpc-cache-add-storage.md?tabs=azure-cli#add-a-new-azure-blob-storage-target)를 참조하세요.

대상의 네임스페이스 경로를 업데이트하려면 [hpc-cache blob-storage-target update](/cli/azure/hpc-cache/blob-storage-target#az_hpc_cache_blob_storage_target_update) 명령을 사용합니다. update 명령에 대한 인수는 컨테이너 이름이나 스토리지 계정을 전달하지 않는다는 점을 제외하고는 create 명령의 인수와 유사합니다.

Azure CLI를 사용하여 Blob 스토리지 대상에서 네임스페이스 경로를 삭제할 수는 없지만 경로를 다른 값으로 덮어쓸 수 있습니다.

---

### <a name="nfs-namespace-paths"></a>NFS 네임스페이스 경로

각 경로가 동일한 스토리지 시스템의 다른 내보내기 또는 하위 디렉터리를 나타내는 한 NFS 스토리지 대상에는 여러 개의 가상 경로가 있을 수 있습니다.

NFS 스토리지 대상에 대한 네임스페이스를 계획할 때 각 경로가 고유해야 하며 다른 네임스페이스 경로의 하위 디렉터리가 될 수 없다는 점을 유의하세요. 예를 들어 ``/parent-a``라는 이름의 네임스페이스 경로가 있는 경우 ``/parent-a/user1`` 또는 ``/parent-a/user2`` 같은 네임스페이스 경로를 생성할 수 없습니다. 해당 디렉터리 경로는 네임스페이스에서 ``/parent-a``의 하위 디렉터리로 이미 액세스할 수 있습니다.

NFS 스토리지 시스템의 모든 네임스페이스 경로는 하나의 스토리지 대상에 생성됩니다.

각 NFS 네임스페이스 경로에 대해 클라이언트 쪽 경로, 스토리지 시스템 내보내기, 그리고 필요에 따라 내보내기 하위 디렉터리를 제공합니다.

### <a name="portal"></a>[포털](#tab/azure-portal)

Azure Portal에서 **네임스페이스** 설정 페이지를 로드합니다. 이 페이지에서 네임스페이스 경로를 추가, 편집 또는 삭제할 수 있습니다.

* **새 경로 추가:** 위쪽에서 **+ 추가** 단추를 클릭하고 편집 패널에 정보를 입력합니다.
* **기존 경로 변경:** 네임스페이스 경로를 클릭합니다. 편집 패널이 열리고 경로를 수정할 수 있습니다.
* **네임스페이스 경로 삭제:** 경로의 왼쪽에 있는 확인란을 선택하고 **삭제** 단추를 클릭합니다.

각 네임스페이스 경로에 대해 다음 값을 입력합니다.

* **네임스페이스 경로** - 클라이언트 쪽 파일 경로입니다.

* **클라이언트 액세스 정책** - 이 경로에 사용할 액세스 정책을 선택합니다. [클라이언트 액세스 정책 사용](access-policies.md)에서 클라이언트 액세스를 사용자 지정하는 방법에 대해 자세히 알아보세요.

* **스토리지 대상** - 새 네임스페이스 경로를 만드는 경우 드롭다운 메뉴에서 스토리지 대상을 선택합니다.

* **내보내기 경로** - NFS 내보내기의 경로를 입력합니다. 내보내기 이름을 올바르게 입력해야 합니다. 포털에서는 이 필드의 구문에 대한 유효성을 검사하지만 변경 내용을 제출할 때까지 내보내기를 검사하지 않습니다.

* **내보내기 하위 디렉터리** - 이 경로를 통해 내보내기의 특정 하위 디렉터리를 탑재하려면 여기에 입력합니다. 그렇지 않으면 이 필드를 비워 둡니다.

![편집 페이지가 오른쪽에 열려 있는 포털 네임 스페이스 페이지의 스크린샷 편집 폼은 N F S 저장소 대상 네임 스페이스 경로에 대 한 설정을 표시 합니다.](media/namespace-edit-nfs.png)

### <a name="azure-cli"></a>[Azure CLI](#tab/azure-cli)

[Azure HPC Cache용 Azure CLI 설정](./az-cli-prerequisites.md)

Azure CLI를 사용하는 경우 스토리지 대상을 만들 때 네임스페이스 경로를 한 개 이상 추가해야 합니다. 자세한 내용은 [새 NFS 스토리지 대상 추가](hpc-cache-add-storage.md?tabs=azure-cli#add-a-new-nfs-storage-target)를 참조하세요.

대상의 네임스페이스 경로를 업데이트하거나 경로를 추가하려면 [az hpc-cache nfs-storage-target update](/cli/azure/hpc-cache/nfs-storage-target#az_hpc_cache_nfs_storage_target_update) 명령을 사용합니다. ``--junction`` 옵션을 사용하여 원하는 모든 네임스페이스 경로를 지정합니다.

update 명령에 사용되는 옵션은 스토리지 시스템 정보(IP 주소 또는 호스트 이름)을 전달하지 않는다는 점을 제외하고는 “create” 명령과 유사하며, 사용량 모델은 선택 사항입니다. ``--junction`` 옵션의 구문에 대한 자세한 내용은 [새 NFS 스토리지 대상 추가](hpc-cache-add-storage.md?tabs=azure-cli#add-a-new-nfs-storage-target)를 참조하세요.

---

### <a name="adls-nfs-namespace-paths"></a>ADLS-NFS 네임스페이스 경로

일반적인 Blob Storage 대상과 마찬가지로 ADLS-NFS 스토리지 대상에는 하나의 내보내기만 있으므로 하나의 네임스페이스 경로만 보유할 수 있습니다.

Azure Portal을 사용하여 경로를 설정하거나 변경하려면 아래 지침을 따르세요.

**네임스페이스** 설정 페이지를 로드합니다.

* **새 경로 추가:** 위쪽에서 **+ 추가** 단추를 클릭하고 편집 패널에 정보를 입력합니다.

  ![선택한 ADLS-NFS 스토리지 대상이 있는 네임스페이스 추가 편집 필드의 스크린샷 내보내기 및 하위 디렉터리 경로는 /로 설정되며 편집할 수 없습니다.](media/namespace-add-adls.png)

  * 클라이언트에서 이 스토리지 대상에 액세스하는 데 사용할 경로를 입력합니다.

  * 이 경로에 사용할 액세스 정책을 선택합니다. [클라이언트 액세스 정책 사용](access-policies.md)에서 클라이언트 액세스를 사용자 지정하는 방법에 대해 자세히 알아보세요.

  * 드롭다운 목록에서 스토리지 대상을 선택합니다. ADLS-NFS 스토리지 대상에 이미 네임스페이스 경로가 있는 경우 이를 선택할 수 없습니다.

  * ADLS-NFS 스토리지 대상의 경우 내보내기 및 하위 디렉터리 경로는 자동으로 ``/``로 설정됩니다.

* **기존 경로 변경:** 네임스페이스 경로를 클릭합니다. 편집 창이 열립니다. 경로와 액세스 정책을 수정할 수 있지만 다른 스토리지 대상으로 변경할 수는 없습니다.

* **네임스페이스 경로 삭제:** 경로의 왼쪽에 있는 확인란을 선택하고 **삭제** 단추를 클릭합니다.

## <a name="next-steps"></a>다음 단계

스토리지 대상에 대한 집계형 네임스페이스를 생성하면 캐시에 클라이언트를 탑재할 수 있습니다. 자세한 내용은 다음 문서를 참조하세요.

* [Azure HPC Cache 마운트](hpc-cache-mount.md)
* [Azure Blob Storage로 데이터 이동](hpc-cache-ingest.md)
