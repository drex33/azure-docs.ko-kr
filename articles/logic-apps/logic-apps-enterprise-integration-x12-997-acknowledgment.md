---
title: X12 997 승인 및 오류 코드
description: Azure Logic Apps의 X12 메시지에 대한 997 기능 승인 및 오류 코드에 대해 알아봅니다.
services: logic-apps
ms.suite: integration
author: praveensri
ms.author: psrivas
ms.reviewer: estfan, divswa, azla
ms.topic: reference
ms.date: 07/15/2021
ms.openlocfilehash: ec727997663286b732fe7bf1d00a50da2f706a0a
ms.sourcegitcommit: 7d63ce88bfe8188b1ae70c3d006a29068d066287
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/22/2021
ms.locfileid: "114481697"
---
# <a name="997-functional-acknowledgments-and-error-codes-for-x12-messages-in-azure-logic-apps"></a>Azure Logic Apps의 X12 메시지에 대한 997 기능 승인 및 오류 코드

Azure Logic Apps에서는 **X12** 작업을 사용하는 경우 EDI(전자 데이터 교환) 통신용 X12 메시지를 처리하는 워크플로를 만들 수 있습니다. EDI 메시징에서 승인은 EDI 교환 처리의 상태를 제공합니다. 교환을 받을 때 [**X12 디코딩** 작업](logic-apps-enterprise-integration-x12-decode.md)은 사용하도록 설정된 승인 유형과 지정된 수준의 유효성을 기준으로 보낸 사람에게 하나 이상의 승인 유형을 반환할 수 있습니다.

예를 들어 받는 사람은 처리 중에 발생하는 각 오류와 함께 *997 기능 승인(ACK)* 을 전송하여 수신된 X12 인코딩된 메시지의 기능 GS(그룹 헤더) 및 기능 GE(그룹 트레일러)의 유효성을 검사하는 상태를 보고합니다. **X12 디코딩** 작업은 항상 4010 규격 997 ACK를 생성하는 반면, [**X12 인코딩** 작업](logic-apps-enterprise-integration-x12-encode.md) 및 **X12 디코딩** 작업은 모두 5010 규격 997 ACK의 유효성을 검사할 수 있습니다.

받는 사람은 기능 GS(그룹 헤더) 및 기능 GE(그룹 트레일러) 봉투(envelope) 내에서 997 ACK를 보냅니다. 그러나 이 GS 및 GE 봉투는 다른 트랜잭션 집합의 경우와 다르지 않습니다.

이 항목에서는 교환에서 997 ACK 세그먼트 및 해당 세그먼트에서 사용되는 오류 코드를 포함하여 X12 997 ACK에 대한 간략한 개요를 제공합니다. 기타 관련된 정보는 다음 설명서를 검토하세요.

* [X12 TA1 기술 승인 및 오류 코드](logic-apps-enterprise-integration-x12-ta1-acknowledgment.md)
* [B2B 엔터프라이즈 통합을 위한 X12 메시지 교환](logic-apps-enterprise-integration-x12.md)
* [B2B 엔터프라이즈 통합을 위한 EDIFACT 메시지 교환](logic-apps-enterprise-integration-edifact.md)
* [Azure Logic Apps란?](logic-apps-overview.md)
* [Azure Logic Apps 및 엔터프라이즈 통합 팩이 포함된 B2B 엔터프라이즈 통합 솔루션](logic-apps-enterprise-integration-overview.md)

<a name="997-ack-segments"></a>

## <a name="997-ack-segments"></a>997 ACK 세그먼트

다음 표에서는 교환의 997 ACK 세그먼트에 대해 설명하고 다음과 같은 정의를 사용합니다.

* M = 필수
* O = 선택

| 위치 | 세그먼트 ID | Name | 필수 지정 <br>(Req. Des.) | 최대 사용 | 루프 반복 |
|----------|------------|------|--------------------------------------|-------------|-------------|
| 010 | ST | 트랜잭션 집합 헤더(승인) | M | 1 | - |
| 020 | AK1 | 기능 그룹 응답 헤더 | M | 1 | - |
| 030 | AK2 | 트랜잭션 집합 응답 헤더 | O | 1 | 999999 <br>(루프 ID = AK2) |
| 040 | AK3 | 데이터 세그먼트 메모 | O | 1 | 999999 <br>(루프 ID = AK2 또는 AK3) |
| 050 | AK4 | 데이터 요소 메모| O | 9 9 | - |
| 060 | AK5 | 트랜잭션 집합 응답 트레일러 | M | 1 | - |
| 070 | AK9 | 기능 그룹 응답 트레일러 | M | 1 | - |
| 080 | SE | 트랜잭션 집합 트레일러(승인) | M | 1 | - |
|||||||

다음 섹션에서는 각 AK 세그먼트에 대해 자세히 설명합니다. AK2에서 AK5 루프에 있는 세그먼트는 트랜잭션 집합의 오류에 대한 정보를 제공합니다.

### <a name="ak1"></a>AK1

필수 AK1 세그먼트는 다음 데이터 요소를 사용하여 승인되는 기능 그룹을 식별합니다.

| 요소 | 설명 |
|---------|-------------|
| AK101 | 필수, 기능 그룹에서 승인할 기능 그룹 ID(GS01)를 식별합니다. |
| AK102 | 필수, 기능 그룹에서 승인할 그룹 컨트롤 번호(GS06 및 GE02)를 식별합니다. |
| AK103 | 선택 사항, 원래 트랜잭션의 GS08을 통해 전송된 EDI 구현 버전을 식별합니다. AK103은 인바운드 5010 규격 997 ACK를 지원합니다. |
|||

### <a name="ak2"></a>AK2

선택적인 AK2 세그먼트에는 수신된 기능 그룹 안의 트랜잭션 집합에 대한 승인이 포함되어 있습니다. 여러 AK2 세그먼트가 있는 경우 일련의 루프로 전송됩니다. 각 AK2 루프는 받은 순서를 사용하여 트랜잭션 집합을 식별합니다. 트랜잭션 집합에 오류가 있는 경우에는 AK2 루프에 AK3, AK4 및 AK5 세그먼트가 포함됩니다. 자세한 내용은 이 항목의 뒷부분에 있는 세그먼트 설명을 검토하세요.

AK2 세그먼트는 다음 데이터 요소를 사용하여 트랜잭션 집합을 식별합니다.

| 요소 | 설명 |
|---------|-------------|
| AK201 | 필수, 승인할 트랜잭션 집합의 트랜잭션 집합 ID(ST01)를 식별합니다. |
| AK202 | 필수, 승인할 트랜잭션 집합의 트랜잭션 집합 컨트롤 번호(ST02 및 SE02)를 식별합니다. |
| AK203 | 선택 사항, 원래 트랜잭션의 ST03을 통해 전송된 EDI 구현 버전을 식별합니다. AK203은 인바운드 5010 규격 997을 지원합니다. |
|||

#### <a name="generate-ak2-segments"></a>AK2 세그먼트 생성

*모든* 수락 및 거부된 트랜잭션 집합에 대해 AK2 세그먼트를 생성하거나 거부된 트랜잭션 집합에 *대해서만* 생성하도록 지정할 수 있습니다. 그 외의 경우에는 거부된 트랜잭션 집합에 *대해서만* Azure Logic Apps가 AK2 루프를 생성합니다. 응답 중인 교환에 대해 규약이 확인되지 않은 경우 997 생성 설정의 기본값이 대체 규약 설정으로 지정되며 승인된 트랜잭션 집합에 대해 AK2 세그먼트가 생성되지 않습니다.

Azure Logic Apps가 AK501 == A인 허용되는 트랜잭션 집합에 대해 AK2 세그먼트를 생성하도록 하려면 다음 단계를 수행합니다.

1. Azure Portal에서 통합 계정을 연 다음, X12 거래 파트너 간의 X12 규약 아티팩트를 엽니다.

1. **수신 설정** 창을 열고 **예상되는 FA** 가 선택되어 있는지 확인합니다. **AK2/IK2 루프 포함** 을 선택할 수 있습니다.

### <a name="ak3"></a>AK3

선택적인 AK3 세그먼트는 데이터 세그먼트에 있는 오류를 보고하고 데이터 세그먼트의 위치를 식별합니다. AK3 세그먼트는 오류가 하나 이상 있는 트랜잭션 집합의 각 세그먼트에 대해 생성됩니다. 여러 AK3 세그먼트가 있는 경우 루프당 하나의 세그먼트로 이루어진 일련의 루프로 전송됩니다. AK3 세그먼트는 다음 데이터 요소를 사용하여 오류가 발생한 각 세그먼트의 위치를 지정하고 해당 위치에서 발견된 구문 오류 유형을 보고합니다.

| 요소 | 설명 |
|---------|-------------|
| AK301 | 필수, X12 세그먼트 ID(예: NM1)를 통해 오류가 발생한 세그먼트를 식별합니다. |
| AK302 | 필수, 오류가 발생한 세그먼트의 세그먼트 수를 식별합니다. ST 세그먼트는 `1`이고 세그먼트가 하나씩 늘어날 때마다 세그먼트 개수가 1씩 증가합니다. |
| AK303 | 필수, LS(루프 시작) 세그먼트 및 LE(루프 종료) 세그먼트로 둘러싸인 루프인 제약된 루프를 식별합니다. AK303에는 오류가 발생한 세그먼트를 바인딩하는 LS 및 LE 세그먼트 값이 포함되어 있습니다. |
| AK304 | 선택 사항, 데이터 세그먼트의 오류에 대한 코드를 지정합니다. AK304는 선택 사항이지만 식별된 세그먼트에 대한 오류가 있으면 요소가 필요합니다. AK304 오류 코드의 경우 [997 ACK 오류 코드 - 데이터 세그먼트 메모](#997-ack-error-codes)를 검토하세요. |
|||

### <a name="ak4"></a>AK4

선택적인 AK4 세그먼트는 데이터 요소 또는 복합 데이터 구조에 있는 오류를 보고하고 데이터 요소의 위치를 식별합니다. AK4 세그먼트는 AK304 데이터 요소가 `"8", "Segment has data element errors"`이고 각 AK3 세그먼트 내에서 최대 99회까지 반복될 수 있을 때 전송됩니다. AK4 세그먼트는 다음 데이터 요소를 사용하여 오류가 발생한 각 데이터 요소 또는 복합 데이터 구조의 위치를 지정하고, 해당 위치에서 발견된 구문 오류 유형을 보고합니다.

| 요소 | 설명 |
|---------|-------------|
| AK401 | 필수, AK41.1, AK41.2 및 AK41.3 필드를 사용하는 복합 데이터 요소입니다. <p><p>- AK401.1: 해당 숫자 수를 사용하여 오류에서 데이터 요소 또는 복합 데이터 구조를 식별합니다. 예를 들어 세그먼트에 있는 두 번째 데이터 요소에 오류가 발생한 경우 AK401은 `2`와 같습니다. <br>AK401.2: 오류가 발생한 복합 데이터 구조에서 구성 요소 데이터 요소의 숫자 개수를 식별합니다. AK401이 복합이 아닌 데이터 구조의 오류를 보고하는 경우에는 AK401.2 값이 지정되지 않습니다. <br>- AK41.3: 선택 사항으로, 이 필드는 반복되는 데이터 요소 위치입니다. AK41.3은 인바운드 5010 규격의 997을 지원합니다. |
| AK402 | 선택 사항으로, 오류가 발생한 요소의 단순 X12 데이터 요소 번호를 식별합니다. 예를 들어 NM101은 단순 X12 데이터 요소 번호 98입니다. |
| AK403 | 필수, 식별된 요소의 오류를 보고합니다. AK403 오류 코드의 경우 [997 ACK 오류 코드 - 데이터 세그먼트 메모](#997-ack-error-codes)를 검토하세요. |
| AK404 | 선택 사항, 오류가 발생한 식별된 데이터 요소의 복사본을 포함합니다. 오류가 잘못된 문자를 나타내는 경우에는 AK404가 사용되지 않습니다. |
|||

### <a name="ak5"></a>AK5

AK5 세그먼트는 AK2 세그먼트에 식별된 트랜잭션 집합이 승인 또는 거부되었는지 여부와 그 이유를 보고합니다. 승인에 선택적인 AK2 루프가 포함되어 있는 경우에는 AK5 세그먼트가 필수입니다. AK4 세그먼트는 단일 필수 데이터 요소를 사용하여 트랜잭션 집합의 상태를 지정하고, 트랜잭션 집합의 구문 편집에 따라 1 ~ 5개의 선택적 데이터 요소를 사용하는 오류 코드를 제공합니다.

| 요소 | 설명 |
|---------|-------------|
| AK501 | 필수, 식별된 트랜잭션 집합이 승인 또는 거부되었는지 여부를 지정합니다. AK501 오류 코드의 경우 [997 ACK 오류 코드 - 트랜잭션 응답 트레일러](#997-ack-error-codes)를 검토하세요. |
| AK502 - AK506 | 선택 사항, 오류의 특성을 표시합니다. AK502 오류 코드의 경우 [997 ACK 오류 코드 - 트랜잭션 집합 응답 트레일러](#997-ack-error-codes)를 검토하세요. |
|||

### <a name="ak9"></a>AK9

필수 AK9 세그먼트는 AK1 세그먼트에 식별된 기능 그룹이 승인 또는 거부되었는지 여부와 그 이유를 나타냅니다. AK9 세그먼트는 네 개의 필수 데이터 요소를 사용하여 트랜잭션 집합의 상태와 모든 오류 특성을 지정합니다. 세그먼트는 1 ~ 5개의 선택적 요소를 사용하여 주의할 모든 오류를 지정합니다.

| 요소 | 설명 |
|---------|-------------|
| AK901 | 필수, AK1에서 식별된 기능 그룹이 승인 또는 거부되었는지 여부를 지정합니다. AK901 오류 코드의 경우 [997 ACK 오류 코드 - 기능 그룹 응답 트레일러](#997-ack-error-codes)를 검토하세요. |
| AK902 | 필수, 식별된 기능 그룹 트레일러(GE01)에 포함된 트랜잭션 집합의 수를 지정합니다. |
| AK903 | 필수, 수신된 트랜잭션 집합의 수를 지정합니다. |
| AK904 | 필수, 식별된 기능 그룹에서 승인된 트랜잭션 집합의 수를 지정합니다. |
| AK905 - AK909 | 선택 사항, 식별된 기능 그룹에서 1 ~ 5개의 오류를 나타냅니다. AK905 ~ AK909 오류 코드의 경우 [997 ACK 오류 코드 - 기능 그룹 응답 트레일러](#997-ack-error-codes)를 검토하세요. |
|||

<a name="997-ack-error-codes"></a>

## <a name="997-ack-error-codes"></a>997 ACK 오류 코드

이 섹션에서는 [997 ACK 세그먼트](#997-ack-segments)에서 사용되는 오류 코드에 대해 설명합니다.  각 표에는 X12 사양에 정의된 대로 Azure Logic Apps의 X12 메시지 처리에 대해 지원되거나 지원되지 않는 오류 코드가 나열되어 있습니다.

### <a name="ak304-error-codes---data-segment-note"></a>AK304 오류 코드 - 데이터 세그먼트 메모

다음 표에는 AK3 세그먼트의 AK304 데이터 요소에서 사용되는 오류 코드가 나열되어 있습니다(데이터 세그먼트 메모).

| 오류 코드 | 조건 | 지원 여부 |
|------------|-----------|------------|
| 1 | 인식할 수 없는 세그먼트 ID입니다. | 예 |
| 2 | 예기치 않은 세그먼트입니다. | 예 |
| 3 | 필수 세그먼트가 누락되었습니다. | 예 |
| 4 | 루프가 최대 횟수를 초과하여 발생합니다. | Yes |
| 5 | 세그먼트가 최대 사용을 초과합니다. | 예 |
| 6 | 정의된 트랜잭션 집합에 세그먼트가 없습니다. | 예 |
| 7 | 세그먼트 시퀀스가 잘못되었습니다. | Yes |
| 8 | 세그먼트에 데이터 요소 오류가 있습니다. | Yes |
| 511 | 후행 구분 기호가 발생했습니다(사용자 지정 코드). | Yes |
||||

### <a name="ak403-error-codes----data-element-note"></a>AK403 오류 코드 - 데이터 요소 메모

다음 표에는 AK4 세그먼트의 AK403 데이터 요소에서 사용되는 오류 코드가 나열되어 있습니다(데이터 요소 메모).

| 오류 코드 | 조건 | 지원 여부 |
|------------|-----------|------------|
| 1 | 필수 데이터 요소가 누락되었습니다. | 예 |
| 2 | 조건부 필수 데이터 요소가 누락되었습니다. | 예 |
| 3 | 데이터 요소가 너무 많습니다. | 예 |
| 4 | 데이터 요소가 너무 짧습니다. | Yes |
| 5 | 데이터 요소가 너무 깁니다. | 예 |
| 6 | 데이터 요소에 잘못된 문자가 있습니다. | 예 |
| 7 | 코드 값이 잘못되었습니다. | Yes |
| 8 | 날짜가 잘못되었습니다. | Yes |
| 9 | 잘못된 형식 | 예 |
| 10 | 제외 조건을 위반했습니다. | Yes |
||||

### <a name="ak501-error-codes---transaction-set-response-trailer"></a>AK501 오류 코드 - 트랜잭션 집합 응답 트레일러

다음 표에는 AK5 세그먼트의 AK501 데이터 요소에서 사용되는 오류 코드가 나열되어 있습니다(트랜잭션 집합 응답 트레일러).

| 오류 코드 | 조건 | 지원 여부 |
|------------|-----------|------------|
| A | 수락됨 | Yes |
| E | 수락되었지만 오류가 보고되었습니다. | Yes <p><p>**참고**: `E` 상태를 유발하는 오류 코드는 없습니다. |
| M | 거부되었습니다. MAC(메시지 인증 코드)가 실패했습니다. | No |
| P | 부분적으로 수락되었습니다. 하나 이상의 트랜잭션 집합이 거부되었습니다. | Yes |
| R | 거부됨 | Yes |
| W | 거부되었습니다. 보증에서 유효성 테스트를 통과하지 못했습니다. | No |
| X | 거부되었습니다. 암호 해독 후의 콘텐츠를 분석할 수 없습니다. | No |
||||

### <a name="ak502-to-ak506-error-codes---transaction-set-response-trailer"></a>AK502 ~ AK506 오류 코드 - 트랜잭션 집합 응답 트레일러

다음 표에는 AK5 세그먼트의 AK502 ~ AK506 데이터 요소에서 사용되는 오류 코드가 나열되어 있습니다(트랜잭션 집합 응답 트레일러).

| 오류 코드 | 조건 | AK501이 지원되거나 <br>상관 관계가 있나요? |
|------------|-----------|-----------------------------------------|
| 1 | 트랜잭션 집합이 지원되지 않습니다. | 예, R |
| 2 | 트랜잭션 집합 트레일러가 누락되었습니다. | 예, R |
| 3 | 헤더 및 트레일러의 트랜잭션 집합 컨트롤 번호가 일치하지 않습니다. | 예, R |
| 4 | 포함된 세그먼트 수가 실제 수와 일치하지 않습니다. | 예, R |
| 5 | 하나 이상의 세그먼트에서 오류가 발생했습니다. | 예, R |
| 6 | 트랜잭션 집합 식별자가 누락되었거나 잘못되었습니다. | 예, R |
| 7 | 트랜잭션 집합 컨트롤 번호가 누락되었거나 잘못되었습니다(중복 트랜잭션 번호가 발생했을 수 있음). | 예, R |
| 8~27 | - | No |
||||

### <a name="ak901-error-codes---functional-group-response-trailer"></a>AK901 오류 코드 - 기능 그룹 응답 트레일러

다음 표에는 AK9 세그먼트의 AK901 데이터 요소에서 사용되는 오류 코드가 나열되어 있습니다(기능 그룹 응답 트레일러).

| 오류 코드 | 조건 | AK501이 지원되거나 <br>상관 관계가 있나요? |
|------------|-----------|-----------------------------------------|
| A | 수락됨 | Yes |
| E | 수락되었지만 오류가 보고되었습니다. | Yes |
| M | 거부되었습니다. MAC(메시지 인증 코드)가 실패했습니다. | No |
| P | 부분적으로 수락되었습니다. 하나 이상의 트랜잭션 집합이 거부되었습니다. | Yes |
| R | 거부됨 | Yes |
| W | 거부되었습니다. 보증에서 유효성 테스트를 통과하지 못했습니다. | No |
| X | 거부되었습니다. 암호 해독 후의 콘텐츠를 분석할 수 없습니다. | No |
||||

### <a name="ak905-to-ak909-error-codes---functional-group-response-trailer"></a>AK905 ~ AK909 오류 코드 - 기능 그룹 응답 트레일러

다음 표에는 AK9 세그먼트의 AK905 ~ AK909 데이터 요소에서 사용되는 오류 코드가 나열되어 있습니다(기능 그룹 응답 트레일러).

| 오류 코드 | 조건 | AK501이 지원되거나 <br>상관 관계가 있나요? |
|------------|-----------|-----------------------------------------|
| 1 | 기능 그룹이 지원되지 않습니다. | 예 |
| 2 | 기능 그룹 버전이 지원되지 않습니다. | 예 |
| 3 | 기능 그룹 트레일러가 누락되었습니다. | 예 |
| 4 | 기능 그룹 헤더 및 트레일러의 그룹 컨트롤 번호가 일치하지 않습니다. | Yes |
| 5 | 포함된 트랜잭션 집합 수가 실제 수와 일치하지 않습니다. | 예 |
| 6 | 그룹 컨트롤 번호가 구문을 위반합니다(중복 그룹 컨트롤 번호가 발생했을 수 있음). | Yes |
| 7 ~ 26 | - | 아니요 |
||||

## <a name="next-steps"></a>다음 단계

* [B2B 엔터프라이즈 통합을 위한 X12 메시지 교환](logic-apps-enterprise-integration-x12.md)