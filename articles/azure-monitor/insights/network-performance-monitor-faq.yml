### YamlMime:FAQ
metadata:
  title: FAQ - Azure의 네트워크 성능 모니터 솔루션 | Microsoft Docs
  description: 이 문서에서는 Azure에서 네트워크 성능 모니터에 대한 질문과 대답을 캡처합니다. NPM(네트워크 성능 모니터)을 사용하면 네트워크 성능을 거의 실시간으로 모니터링하고 네트워크 성능 병목을 감지하고 찾을 수 있습니다.
  ms.topic: article
  ms.service: azure-monitor
  author: vinynigam
  ms.author: vinigam
  ms.date: 10/12/2018
  ms.openlocfilehash: dcf032b47396f8e952d38ab9e2c82c8552952da6
  ms.sourcegitcommit: 05dd6452632e00645ec0716a5943c7ac6c9bec7c
  ms.translationtype: HT
  ms.contentlocale: ko-KR
  ms.lasthandoff: 08/17/2021
  ms.locfileid: "122253840"
title: 네트워크 성능 모니터 솔루션 FAQ
summary: "\n![네트워크 성능 모니터 기호](media/network-performance-monitor-faq/npm-symbol.png)\n\n> [!IMPORTANT]\n> 2021년 7월 1일부터 기존 작업 영역에 새 테스트를 추가하거나 네트워크 성능 모니터에서 새 작업 영역을 사용하도록 설정할 수 없습니다. 2021년 7월 1일 이전에 만든 테스트는 계속 사용할 수 있습니다. 현재 워크로드에 대한 서비스 중단의 영향을 최소화하려면 2024년 2월 29일 이전에 [테스트를 네트워크 성능 모니터에서 Azure Network Watcher의 새로운 연결 모니터로 마이그레이션](../../network-watcher/migrate-to-connection-monitor-from-network-performance-monitor.md)합니다.\n\n이 문서에서는 NPM(네트워크 성능 모니터)에 대한 FAQ(질문과 대답)를 캡처합니다.\n\n[네트워크 성능 모니터](../../networking/network-monitoring-overview.md)는 네트워크 인프라의 다양한 지점 간 네트워크 성능을 모니터링하는 데 도움이 되는 클라우드 기반 [하이브리드 네트워크 모니터링](./network-performance-monitor-performance-monitor.md) 솔루션입니다. 또한 [서비스 및 애플리케이션 엔드포인트](./network-performance-monitor-service-connectivity.md)에 대한 네트워크 연결을 모니터링하고 [Azure ExpressRoute의 성능을 모니터링하는](./network-performance-monitor-expressroute.md) 데 도움이 됩니다. \n\n네트워크 성능 모니터는 트래픽 블랙홀링, 라우팅 오류와 같은 네트워크 문제와 기존 네트워크 모니터링 방법으로 감지할 수 없는 문제를 감지합니다. 이 솔루션은 네트워크 링크에 임계값이 위반되면 경고를 생성하고 사용자에게 알립니다. 또한 네트워크 성능 문제를 적시에 감지하고 문제의 원인을 특정 네트워크 세그먼트 또는 디바이스로 국한시킵니다. \n\n[네트워크 성능 모니터](../../networking/network-monitoring-overview.md)에서 지원하는 다양한 기능에 대한 자세한 내용은 온라인으로 제공됩니다.\n"
sections:
- name: 에이전트 설정 및 구성
  questions:
  - question: >
      NPM에서 모니터링에 사용할 노드에 대한 플랫폼 요구 사항은 무엇입니까?
    answer: "NPM의 다양한 기능에 대한 플랫폼 요구 사항은 아래와 같습니다.\n\n- NPM의 성능 모니터 및 서비스 연결 모니터 기능은 Windows 서버 및 Windows 데스크톱/클라이언트 운영 체제를 지원합니다. 지원되는 Windows 서버 OS 버전은 2008 SP1 이상입니다. 지원되는 Windows 데스크톱/클라이언트 버전은 Windows 10, Windows 8.1, Windows 8 및 Windows 7입니다. \n- NPM의 ExpressRoute 모니터 기능은 Windows 서버(2008 SP1 이상) 운영 체제만 지원합니다.\n"
  - question: >
      NPM에서 컴퓨터를 모니터링 노드로 사용할 수 있나요?
    answer: "Linux 기반 노드를 사용하여 네트워크를 모니터링하는 기능이 이제 일반 공급됩니다. [여기](../../virtual-machines/extensions/oms-linux.md)에서 에이전트에 액세스합니다. \n"
  - question: >
      NPM에서 모니터링에 사용할 노드에 대한 크기 요구 사항은 얼마인가요?
    answer: >
      네트워크를 모니터링하기 위해 노드 VM에서 NPM 솔루션을 실행하려면 노드에 최소 메모리 500MB 및 코어 한 개가 있어야 합니다. NPM을 실행하기 위해 별도 노드를 사용할 필요는 없습니다. 다른 워크로드가 실행 중인 노드에서 이 솔루션을 실행할 수 있습니다. 이 솔루션에는 CPU를 5%를 초과하여 이용하는 경우 모니터링 프로세스를 중지하는 기능이 있습니다.
  - question: >
      NPM을 사용하려면 내 노드를 직접 에이전트로 또는 System Center Operations Manager를 통해 연결해야 하나요?
    answer: >
      성능 모니터 및 서비스 연결 모니터 기능 모두 [직접 에이전트로 연결된](../agents/agent-windows.md) 노드 및 [Operations Manager를 통해 연결된](../agents/om-agents.md) 노드도 지원합니다.


      ExpressRoute 모니터 기능의 경우 Azure 노드를 직접 에이전트로만 연결해야 합니다. Operations Manager를 통해 연결된 Azure 노드는 지원되지 않습니다. 온-프레미스 노드의 경우 직접 에이전트로 연결된 노드 및 Operations Manager를 통해 연결된 노드도 ExpressRoute 회로 모니터링에 대해 지원됩니다.
  - question: >
      모니터링을 위해 TCP와 ICMP 중 어느 프로토콜을 선택해야 하나요?
    answer: "Windows 서버 기반 노드를 사용하여 네트워크를 모니터링하는 경우 더 나은 정확도 제공하는 TCP를 모니터링 프로토콜로 사용하는 것이 좋습니다. \n\nWindows 데스크톱/클라이언트 운영 체제 기반 노드에 ICMP를 사용하는 것이 좋습니다. 이 플랫폼은 NPM이 네트워크 토폴로지를 검색할 때 사용하는 원시 소켓을 통해 TCP 데이터를 전송하는 것을 허용하지 않습니다.\n\n각 프로토콜의 상대적 이점에 대한 세부 정보는 [여기](./network-performance-monitor-performance-monitor.md#choose-the-protocol)에서 얻을 수 있습니다.\n"
  - question: >
      TCP 프로토콜을 사용하여 모니터링을 지원하려면 노드를 어떻게 구성할 수 있나요?
    answer: "노드가 TCP 프로토콜을 사용하여 모니터링을 지원하려면: \n* 노드 플랫폼이 Windows 서버(2008 SP1 이상)인지 확인합니다.\n* 노드에서 [EnableRules.ps1](https://aka.ms/npmpowershellscript) PowerShell 스크립트를 실행합니다. 자세한 내용은 [지침](./network-performance-monitor.md#configure-log-analytics-agents-for-monitoring)을 참조하세요.\n"
  - question: >
      NPM에서 모니터링을 위해 사용 중인 TCP 포트를 어떻게 변경할 수 있나요?
    answer: >
      NPM에서 모니터링을 위해 사용하는 TCP 포트는 [EnableRules.ps1](https://aka.ms/npmpowershellscript) 스크립트를 실행하여 변경할 수 있습니다. 사용하려는 포트 번호를 매개 변수로 입력해야 합니다. 예를 들어 포트 8060에서 TCP를 사용하려면 `EnableRules.ps1 8060`을 실행합니다. 모니터링에 사용 중인 모든 노드에서 동일한 TCP 포트를 사용하는지 확인합니다.


      스크립트는 Windows 방화벽만 로컬로 구성합니다. 네트워크 방화벽 또는 NSG(네트워크 보안 그룹) 규칙이 있는 경우, 해당 규칙이 NPM에서 사용하는 TCP 포트를 대상으로 하는 트래픽을 허용하는지 확인합니다.
  - question: >
      에이전트를 얼마나 많이 사용해야 하나요?
    answer: >
      모니터링하려는 각 서브넷에 대해 최소 한 개의 에이전트를 사용해야 합니다.
  - question: >
      사용할 수 있거나 ".... 구성 한도에 도달했습니다"라는 오류가 표시되는 최대 에이전트 수는 몇 개인가요?
    answer: >
      NPM은 작업 영역당 IP 수를 5000개로 제한합니다. 노드에 IPv4 및 IPv6 주소가 모두 있는 경우 이 값은 해당 노드의 2개 IP로 계산됩니다. 또한 이 5000개 한도에 따라 에이전트 수의 상한이 결정됩니다. NPM >> [구성]의 [노드] 탭에서 비활성 에이전트를 삭제할 수 있습니다. 또한 NPM은 에이전트를 호스트하는 VM에 할당된 적이 있는 모든 IP의 기록을 유지 관리합니다. 각각은 5000개 IP 상한 제한에 영향을 주는 개별 IP로 합산됩니다. 작업 영역의 IP를 해제하기 위해 노드 페이지를 사용하여 사용 중이 아닌 IP를 삭제할 수 있습니다.
- name: 모니터링
  questions:
  - question: >
      손실 및 대기 시간 계산 방법
    answer: >
      원본 에이전트는 원본과 대상 IP 조합 간의 모든 경로가 확실히 포함되도록 TCP SYN 요청(TCP를 모니터링 프로토콜로 선택한 경우) 또는 ICMP ECHO 요청(ICMP를 모니터링 프로토콜로 선택한 경우)을 정기적인 간격으로 대상 IP에 보냅니다. 각 경로의 손실 및 대기 시간을 계산하기 위해 수신된 패킷의 비율과 패킷 왕복 시간을 측정합니다. 이 데이터는 특정 폴링 간격의 IP 조합에 대한 손실 및 대기 시간의 집계된 값을 얻기 위해 폴링 간격 및 모든 경로에 대해 집계됩니다.
  - question: >
      원본 에이전트가 패킷을 모니터링 대상에 보내는 빈도는 어느 정도입니까?
    answer: >
      성능 모니터 및 ExpressRoute 모니터 기능의 경우 원본은 매 5초마다 패킷을 보내고 네트워크 측정값을 기록합니다. 이 데이터는 손실 및 대기 시간의 평균 및 최고 값을 계산하기 위해 3분의 폴링 간격에 대해 집계됩니다. 서비스 연결 모니터 기능의 경우 네트워크 측정을 위해 패킷을 보내는 빈도는 테스트를 구성하는 동안 특정 테스트에 대해 사용자가 입력하는 빈도에 의해 결정됩니다.
  - question: >
      모니터링을 위해 보내는 패킷 수는 얼마인가요?
    answer: >
      원본 에이전트가 폴링 시 대상에 보내는 패킷 수는 적응형이며 네트워크 토폴로지마다 다를 수 있는 당사의 독자적인 알고리즘에 의해 결정됩니다. 원본과 대상 IP 조합 간의 네트워크 경로 수가 많을수록 보내는 패킷 수가 더 많습니다. 시스템은 원본과 대상 IP 조합 간의 모든 경로가 포함되었는지 확인합니다.
  - question: >
      NPM은 원본과 대상 간의 네트워크 토폴로지를 어떻게 검색하나요?
    answer: >
      NPM은 경로 추적을 기반으로 하는 독자적인 알고리즘을 사용하여 원본과 대상 간의 모든 경로와 홉을 검색합니다.
  - question: "NPM은 라우팅 및 전환 수준 정보를 제공하나요 \n"
    answer: >
      NPM은 원본 에이전트와 대상 간의 모든 가능한 경로 검색할 수 있지만 특정 워크로드에서 보내는 패킷이 선택하는 경로에 대한 가시성을 제공하지 않습니다. 이 솔루션은 예상보다 더 많은 대기 시간을 추가하는 경로 및 기본 네트워크 홉을 식별하도록 도와 줄 수 있습니다.
  - question: >
      경로 중 일부의 상태가 비정상인 이유는 무엇인가요?
    answer: >
      원본 IP와 대상 IP 간에 서로 다른 네트워크 경로가 존재할 수 있으며 각 경로의 손실 및 대기 시간 값이 다를 수 있습니다. NPM은 손실 및/또는 대기 시간의 값이 모니터링 구성에 설정된 해당 임계값보다 큰 경로를 비정상으로 표시합니다(빨간색으로 표시).
  - question: >
      네트워크 토폴로지 맵에서 빨간색의 홉이 나타내는 것은 무엇인가요?
    answer: >
      홉이 빨간색이면 적어도 한 개의 비정상 경로의 일부임을 나타냅니다. NPM은 경로를 비정상으로 표시할 뿐, 각 경로의 정상/비정상 상태를 분리하지 않습니다. 문제가 있는 홉을 식별하려면 홉별 대기 시간을 보고 예상하는 대기 시간보다 더 많이 추가하는 홉을 분리할 수 있습니다.
  - question: >
      성능 모니터링의 고장 지역화는 어떻게 작동하나요?
    answer: >
      NPM은 확률적 메커니즘을 사용하여 홉이 속한 비정상 경로 수를 기반으로 각 네트워크 경로, 네트워크 세그먼트 및 구성 요소 네트워크 홉에 고장 확률을 할당합니다. 네트워크 세그먼트와 홉이 더 많은 비정상 경로의 일부가 됨에 따라 그와 연결된 고장 확률도 높아집니다. 서로 연결된 NPM 에이전트가 있는 노드 수가 많은 경우 고장 확률 계산을 위한 데이터 요소가 증가하므로 이 알고리즘이 가장 적합합니다.
  - question: >
      경고에 대한 기본 Log Analytics 쿼리란?
    answer: "성능 모니터 쿼리\n\n```kusto\nNetworkMonitoring\n | where (SubType == \"SubNetwork\" or SubType == \"NetworkPath\") \n | where (LossHealthState == \"Unhealthy\" or LatencyHealthState == \"Unhealthy\") and RuleName == \"<<your rule name>>\"\n```\n\n서비스 연결 모니터 쿼리\n\n```kusto\nNetworkMonitoring\n | where (SubType == \"EndpointHealth\" or SubType == \"EndpointPath\")\n | where (LossHealthState == \"Unhealthy\" or LatencyHealthState == \"Unhealthy\" or ServiceResponseHealthState == \"Unhealthy\" or LatencyHealthState == \"Unhealthy\") and TestName == \"<<your test name>>\"\n```\n\nExpressRoute 모니터 쿼리: 회로 쿼리\n\n```kusto\nNetworkMonitoring\n | where (SubType == \"ERCircuitTotalUtilization\") and (UtilizationHealthState == \"Unhealthy\") and CircuitResourceId == \"<<your circuit resource ID>>\"\n```\n\n프라이빗 피어링\n\n```kusto\nNetworkMonitoring\n | where (SubType == \"ExpressRoutePeering\" or SubType == \"ERVNetConnectionUtilization\" or SubType == \"ExpressRoutePath\")   \n | where (LossHealthState == \"Unhealthy\" or LatencyHealthState == \"Unhealthy\" or UtilizationHealthState == \"Unhealthy\") and CircuitName == \"<<your circuit name>>\" and VirtualNetwork == \"<<vnet name>>\"\n```\n\nMicrosoft 피어링\n\n```kusto\nNetworkMonitoring\n | where (SubType == \"ExpressRoutePeering\" or SubType == \"ERMSPeeringUtilization\" or SubType == \"ExpressRoutePath\")\n | where (LossHealthState == \"Unhealthy\" or LatencyHealthState == \"Unhealthy\" or UtilizationHealthState == \"Unhealthy\") and CircuitName == \"\"<<your circuit name>>\" and PeeringType == \"MicrosoftPeering\"\n```\n\n일반 쿼리\n\n```kusto\nNetworkMonitoring\n | where (SubType == \"ExpressRoutePeering\" or SubType == \"ERVNetConnectionUtilization\" or SubType == \"ERMSPeeringUtilization\" or SubType == \"ExpressRoutePath\")\n | where (LossHealthState == \"Unhealthy\" or LatencyHealthState == \"Unhealthy\" or UtilizationHealthState == \"Unhealthy\")\n```\n"
  - question: >
      NPM은 라우터 및 서버를 개별 디바이스로 모니터링할 수 있나요?
    answer: >
      NPM은 원본 IP와 대상 IP 간의 기본 네트워크 홉(스위치, 라우터, 서버 등)의 IP와 호스트 이름만 식별합니다. 또한 이렇게 식별된 홉 간의 대기 시간도 식별합니다. 이러한 기본 홉을 개별적으로 모니터링하지 않습니다.
  - question: >
      NPM을 사용하여 Azure와 AWS 간의 네트워크 연결을 모니터링할 수 있나요?
    answer: >
      예. 자세한 내용은 [NPM을 사용하여 Azure, AWS 및 온-프레미스 네트워크 모니터링](/archive/blogs/msoms/monitor-on-premises-cloud-iaas-and-hybrid-networks-using-oms-network-performance-monitor) 문서를 참조하세요.
  - question: >
      ExpressRoute 대역폭 사용량은 들어오거나 나가는 사용량인가요?
    answer: >
      대역폭 사용량은 들어오고 나가는 대역폭의 합계이며, 비트/초 단위로 표시됩니다.
  - question: >
      ExpressRoute에 대해 들어오고 나가는 대역폭 정보를 얻을 수 있나요?
    answer: "주 및 보조 대역폭 둘 다에 대해 들어오고 나가는 값을 캡처할 수 있습니다.\n\nMS 피어링 수준 정보는 로그 검색에서 아래와 같은 쿼리를 사용합니다.\n\n```kusto\nNetworkMonitoring\n | where SubType == \"ERMSPeeringUtilization\"\n | project CircuitName,PeeringName,BitsInPerSecond,BitsOutPerSecond \n```\n\n개인 피어링 수준 정보는 로그 검색에서 아래와 같은 쿼리를 사용합니다.\n\n```kusto\nNetworkMonitoring\n | where SubType == \"ERVNetConnectionUtilization\"\n | project CircuitName,PeeringName,BitsInPerSecond,BitsOutPerSecond\n```\n\n회로 수준 정보는 로그 검색에서 아래와 같은 쿼리를 사용합니다.\n\n```kusto\nNetworkMonitoring\n | where SubType == \"ERCircuitTotalUtilization\"\n | project CircuitName, BitsInPerSecond, BitsOutPerSecond\n```\n"
  - question: >
      NPM의 성능 모니터에 대해 지원되는 하위 지역은 어느 지역인가요?
    answer: >
      NPM은 [지원되는 하위 지역](./network-performance-monitor.md#supported-regions) 중 하나에서 호스팅되는 작업 영역에서 세계 어느 부분에 있는 네트워크 사이의 연결도 모니터링할 수 있습니다.
  - question: >
      NPM의 서비스 연결 모니터에 대한 지원되는 하위 지역은 어느 지역인가요?
    answer: >
      NPM은 [지원되는 하위 지역](./network-performance-monitor.md#supported-regions) 중 하나에서 호스팅되는 작업 영역에서 세계 어느 부분에 있는 네트워크 사이의 연결도 모니터링할 수 있습니다.
  - question: >
      NPM의 ExpressRoute 모니터에 대해 지원되는 하위 지역은 어느 하위 지역인가요?
    answer: >
      NPM은 어떤 Azure 하위 지역에 위치한 ExpressRoute 회로도 모니터링할 수 있습니다. NPM에 합류하려면 Log Analytics 작업 영역을 [지원되는 하위 지역](../../expressroute/how-to-npm.md) 중 하나에서 호스팅해야 합니다.
- name: 문제 해결
  questions:
  - question: >
      홉의 일부가 네트워크 토폴로지 보기에서 식별되지 않은 것으로 표시되는 이유는 무엇입니까?
    answer: "NPM은 경로 추적의 수정된 버전을 사용하여 원본 에이전트에서 대상까지 토폴로지를 검색합니다. 식별되지 않은 홉은 네트워크 홉이 원본 에이전트의 경로 추적 요청에 응답하지 않았음을 나타냅니다. 연속 3개의 네트워크 홉이 에이전트의 경로 추적에 응답하지 않는 경우 솔루션은 반응하지 않는 홉을 식별되지 않은 것으로 표시하고 더 이상 홉의 검색을 시도하지 않습니다.\n\n홉은 아래 시나리오 중 하나 이상에서 경로 추적에 응답하지 않을 수 있습니다.\n\n* 라우터가 자신의 ID를 찾을 수 없도록 구성되었습니다.\n* 네트워크 디바이스가 ICMP_TTL_EXCEEDED 트래픽을 허용하지 않습니다.\n* 방화벽이 네트워크 디바이스에서 ICMP_TTL_EXCEEDED 응답을 차단합니다.\n\n엔드포인트 중 하나가 Azure에 있는 경우 Azure 인프라에서 ID를 경로 추적으로 표시하지 않으므로 경로 추적은 식별되지 않은 홉을 표시합니다. \n"
  - question: >
      비정상 테스트에 대한 경고를 가져오지만 NPM의 손실 및 대기 시간 그래프에 높은 값이 표시되지 않습니다. 비정상 상태를 어떻게 확인하나요?
    answer: "NPM은 원본과 대상 사이의 엔드투엔드 대기 시간이 이들 사이의 경로에 대한 임계값을 초과하는 경우 경고를 발생시킵니다. 일부 네트워크에는 동일한 원본 및 대상을 연결하는 경로가 여러 개 있습니다. NPM은 경로가 비정상인 경우 경고를 발생시킵니다. 그래프에 표시되는 손실 및 대기 시간은 모든 경로의 평균값이므로 단일 경로의 정확한 값을 표시하지 않을 수 있습니다. 임계값이 위반된 위치를 이해하려면 경고의 \"하위 유형\" 열을 찾습니다. 경로 때문에 문제가 발생하는 경우 하위 유형 값은 NetworkPath(성능 모니터 테스트의 경우), EndpointPath(서비스 연결 모니터 테스트의 경우) 및 ExpressRoutePath(ExpressRotue 모니터 테스트의 경우)입니다. \n\n찾을 샘플 쿼리의 경로가 비정상입니다.\n\n```kusto\nNetworkMonitoring\n | where ( SubType == \"ExpressRoutePath\")\n | where (LossHealthState == \"Unhealthy\" or LatencyHealthState == \"Unhealthy\" or UtilizationHealthState == \"Unhealthy\") and CircuitResourceID ==\"<your ER circuit ID>\" and ConnectionResourceId == \"<your ER connection resource id>\"\n | project SubType, LossHealthState, LatencyHealthState, MedianLatency\n```\n"
  - question: "내 테스트가 비정상으로 표시되지만 토폴로지에서 표시되지 않는 이유는 무엇인가요? \n"
    answer: "NPM은 엔드투엔드 손실, 대기 시간 및 토폴로지를 서로 다른 간격에서 모니터링합니다. 손실 및 대기 시간이 5초마다 한 번씩 측정되고 3분마다 집계되는 반면(성능 모니터 및 Express 경로 모니터의 경우) 토폴로지는 10분마다 한 번씩 경로 추적을 사용하여 계산됩니다. 예를 들면 다음과 같습니다. 3:44와 4:04 사이에 토폴로지는 세 번 업데이트될 수 있지만(3:44, 3:54, 4:04), 손실 및 대기 시간은 약 7번 업데이트됩니다(3:44, 3:47, 3:50, 3:53, 3:56, 3:59, 4:02). 3:54에 생성된 토폴로지는 3:56, 3:59 및 4:02에 계산되는 손실 및 대기 시간에 대해 렌더링됩니다. ER 회로가 3시 59분에 비정상이라는 경고가 있다고 가정합니다. NPM에 로그온하고 토폴로지 시간을 3:59로 설정하려고 합니다. NPM은 3시 54분에 생성된 토폴로지를 렌더링합니다. 네트워크의 마지막으로 알려진 토폴로지를 이해하려면 TimeProcessed(손실 및 대기 시간이 계산된 시간) 및 TracerouteCompletedTime(토폴로지를 계산한 시간) 필드를 비교합니다. \n"
  - question: >
      NetworkMonitoring 테이블의 E2EMedianLatency 및 AvgHopLatencyList 필드 간의 차이점은 무엇인가요?
    answer: >
      E2EMedianLatency는 tcp ping 테스트의 결과를 집계한 후 3분마다 업데이트되는 대기 시간인 반면 AvgHopLatencyList는 추적 경로에 따라 10분마다 업데이트됩니다. E2EMedianLatency가 계산된 정확한 시간을 이해하려면 TimeProcessed 필드를 사용합니다. 추적 경로가 완료되고 AvgHopLatencyList가 업데이트된 정확한 시간을 이해하려면 TracerouteCompletedTime 필드를 사용합니다.
  - question: "홉별 대기 시간 수가 HopLatencyValues와 다른 이유는 무엇인가요? \n"
    answer: >
      HopLatencyValues는 엔드포인트에 대한 원본입니다.

      예: 홉 - A,B,C AvgHopLatency - 10,15,20 즉, 원본에서 대기 시간 = 10, 원본에서 B 대기 시간 = 15, 원본에서 C 대기 시간은 20입니다. UI는 토폴로지에서 A-B 홉 대기 시간을 5로 계산합니다.
  - question: >
      솔루션은 100% 손실을 보여 주지만 원본과 대상 사이에 연결이 있습니다.
    answer: "이 상황은 호스트 방화벽 또는 중간 방화벽(네트워크 방화벽 또는 Azure NSG)이 NPM에서 모니터링하는 데 사용 중인 포트(고객이 변경하지 않았다면 기본적으로 포트 8084) 상에서 원본 에이전트와 대상 간의 통신을 차단합니다.\n\n* 호스트 방화벽이 필요한 포트에서 통신을 차단하지 않는지 확인하려면 네트워크 성능 모니터 -> 구성 -> 노드 보기에서 원본 및 대상 노드의 정상/비정상 상태를 봅니다. \n  비정상 상태인 경우 지침을 보고 정정 작업을 실행합니다. 노드가 정상인 경우 b 단계로 이동합니다. 알아봅니다.\n* 중간 네트워크 방화벽 또는 Azure NSG가 필요한 포트에서 통신을 차단하지 않는지 확인하려면 아래 지침을 통해 제3자 PsPing 유틸리티를 사용합니다.\n  * PsPing 유틸리티는 [여기](/sysinternals/downloads/psping)에서 다운로드할 수 있습니다. \n  * 원본 노드에서 다음 명령을 실행합니다.\n    * psping -n 15 \\<destination node IPAddress\\>:portNumber 기본적으로 NPM은 8084 포트를 사용합니다. EnableRules.ps1 스크립트를 사용하여 이 명령을 명시적으로 변경한 경우 사용하는 사용자 지정 포트 번호를 입력합니다. 이는 Azure 머신에서 온-프레미스로의 ping입니다.\n* ping이 성공적인지 확인합니다. 그렇지 않은 경우 중간 네트워크 방화벽 또는 Azure NSG가 이 포트에서 트래픽을 차단함을 나타냅니다.\n* 이제 대상 노드에서 원본 노드 IP로 명령을 실행합니다.\n"
  - question: >
      노드 A에서 B로는 손실이 있지만 노드 B에서 A로는 손실이 없는 이유가 무엇인가요?
    answer: >
      A에서 B로의 네트워크 경로는 B에서 A로의 네트워크 경로와 다를 수 있으므로 손실 및 대기 시간에 대해 서로 다른 값이 관찰될 수 있습니다.
  - question: >
      나의 ExpressRoute 회로 및 피어링 연결 중 일부가 검색되지 않는 이유는 무엇인가요?
    answer: >
      NPM은 이제 사용자가 액세스할 수 있는 모든 구독에서 ExpressRoute 회로와 피어링 연결을 검색합니다. Express Route 리소스가 연결된 모든 구독을 선택하고 검색된 각 리소스에 대한 모니터링을 사용하도록 설정합니다. 프라이빗 피어링을 검색하는 경우 NPM에서 연결 개체를 찾으므로 VNET이 피어링과 연결되어 있는지 확인합니다. NPM은 Log Analytics 작업 영역과 다른 테넌트에 있는 회로 및 피어링을 검색하지 않습니다.
  - question: >
      ER 모니터 기능에는 "트래픽이 어떤 회로도 통과하지 않습니다" 진단 메시지가 있습니다. 어떤 의미인가요?
    answer: "온-프레미스 노드와 Azure 노드 간에 정상 연결이 있지만 트래픽이 NPM에서 모니터링하도록 구성된 ExpressRoute 회로를 통해 이동하지 않는 시나리오가 있을 수 있습니다. \n\n이 상황은 다음과 같은 경우에 발생할 수 있습니다.\n\n* ER 회로가 다운되었습니다.\n* 경로 필터가 의도한 ExpressRoute 회로보다 다른 경로(예: VPN 연결 또는 다른 ExpressRoute 회로)에 우선권을 부여하는 방법으로 구성되었습니다. \n* 모니터링 구성에서 ExpressRoute 회로를 모니터링하기 위해 선택한 온-프레미스 및 Azure 노드에, 의도한 ExpressRoute 회로를 통한 상호 연결이 없습니다. 모니터링하려는 ExpressRoute 회로를 통한 상호 연결이 있는 올바른 노드를 선택했는지 확인합니다.\n"
  - question: >
      ExpressRoute 모니터가 사용 가능하고 데이터를 전달할 때 내 회로/피어링을 비정상으로 보고하는 이유는 무엇인가요?
    answer: >
      ExpressRoute 모니터는 구성 중에 설정된 임계값을 사용하여 에이전트/서비스에서 보고한 네트워크 성능 값(손실, 대기 시간 및 대역폭 사용률)을 비교합니다. 회로의 경우 보고된 대역폭 사용률이 구성에서 설정된 임계값보다 크면 회로가 비정상으로 표시됩니다. 피어링의 경우 보고된 손실, 대기 시간 또는 대역폭 사용률이 구성에서 설정된 임계값보다 크면 피어링이 비정상으로 표시됩니다. NPM은 메트릭 또는 다른 형태의 데이터를 활용하여 상태를 결정하지 않습니다.
  - question: >
      ExpressRoute 모니터의 대역폭 사용률에서 메트릭 비트 입력/출력과 다른 값을 보고하는 이유는 무엇인가요?
    answer: >
      ExpressRoute 모니터의 경우 대역폭 사용률은 지난 20분 동안 들어오고 나가는 대역폭의 평균이며 비트/초로 표시됩니다. Express 경로 메트릭의 경우 비트 입력/출력은 분당 데이터 요소입니다. 내부적으로 사용되는 데이터 세트는 동일하지만 집계는 NPM 및 ER 메트릭에 따라 다릅니다. 분 단위로 세분화된 모니터링 및 빠른 경고의 경우 ER 메트릭에 경고를 직접 설정하는 것이 좋습니다.
  - question: >
      내 ExpressRoute 회로의 모니터링을 구성하는 동안 Azure 노드가 감지되지 않습니다.
    answer: >
      이 상황은 Azure 노드가 Operations Manager를 통해 연결된 경우 발생할 수 있습니다. ExpressRoute 모니터 기능은 직접 에이전트로 연결된 Azure 노드만 지원합니다.
  - question: >
      OMS 포털에서 ExpressRoute 회로에 의해 검색할 수 없습니다.
    answer: "NPM은 Azure Portal뿐만 아니라 OMS 포털에서도 사용할 수 있지만 ExpressRoute 모니터 기능의 회로 검색은 Azure Portal을 통해서만 작동합니다. 회로가 Azure Portal을 통해 검색된 후 두 포털 중 하나에서 이 기능을 사용할 수 있습니다. \n"
  - question: >
      서비스 연결 모니터 기능에서 서비스 응답 시간, 네트워크 연결 끊김뿐만 아니라 대기 시간도 NA로 표시됩니다.
    answer: >
      이 상황은 다음 중 하나 이상이 해당하는 경우에 발생할 수 있습니다.


      * 서비스가 다운되었습니다.

      * 서비스에 대한 네트워크 연결을 확인하는 데 사용되는 노드가 중단되었습니다.

      * 테스트 구성에 입력한 대상이 올바르지 않습니다.

      * 노드는 네트워크에 연결되지 않습니다.
  - question: >
      서비스 연결 모니터 기능에서 유효한 서비스 응답 시간이 표시되지만 네트워크 연결 끊김뿐만 아니라 대기 시간도 NA로 표시됩니다.
    answer: >
      이 상황은 다음 중 하나 이상이 해당하는 경우에 발생할 수 있습니다.


      * 서비스에 대한 네트워크 연결을 확인하는 데 사용되는 노드가 Windows 클라이언트 컴퓨터인 경우 대상 서비스가 ICMP 요청을 차단하거나 네트워크 방화벽이 노드에서 시작되는 ICMP 요청을 차단하게 됩니다.

      * 네트워크 측정 수행 확인란이 테스트 구성에서 비어 있습니다.
  - question: >
      서비스 연결 모니터 기능에서 서비스 응답 시간이 NA이지만 네트워크 연결 끊김뿐만 아니라 대기 시간도 유효합니다.
    answer: >
      이 상황은 대상 서비스가 웹 애플리케이션이 아니지만 테스트가 웹 테스트로 구성된 경우에 발생할 수 있습니다. 테스트 구성을 편집하고, 테스트 형식을 웹이 아닌 네트워크로 선택합니다.
- name: 기타
  questions:
  - question: >
      모니터링에 사용하는 노드의 성능에 영향이 있나요?
    answer: >
      NPM 프로세스는 호스트 CPU 리소스의 5%를 초과하여 이용하는 경우 중지하도록 구성됩니다. 이는 성능에 영향을 주지 않고 노드를 일상적인 워크로드에 계속 사용할 수 있도록 하기 위한 것입니다.
  - question: >
      NPM은 방화벽 모니터링 규칙을 편집하나요?
    answer: >
      NPM은 에이전트들이 지정된 포트에서 서로 TCP 연결을 만들 수 있도록 EnableRules.ps1 PowerShell 스크립트를 실행하는 노드에 대해서만 로컬 Windows 방화벽 규칙을 만듭니다. 솔루션은 네트워크 방화벽 규칙 또는 NSG(네트워크 보안 그룹) 규칙을 수정하지 않습니다.
  - question: >
      모니터링에 사용하는 노드의 상태를 어떻게 확인할 수 있나요?
    answer: >
      다음 보기에서 모니터링에 사용하는 노드의 정상/비정상 상태를 볼 수 있습니다. 네트워크 성능 모니터 -> 구성 -> 노드. 노드가 비정상인 경우 오류 세부 정보를 보고 권장 작업을 실행할 수 있습니다.
  - question: >
      NPM은 대기 시간 숫자를 마이크로초 단위로 보고할 수 있습니까?
    answer: >
      NPM은 UI 및 밀리초 단위의 대기 시간 숫자를 반올림합니다. 동일한 데이터를 더 높은 세분성(가끔 최대 소수 네 자리)으로 저장됩니다.
  - question: "NPM은 다중 홈 노드를 지원하나요? \n"
    answer: "아니요. 각 NPM 노드에는 전용 로그 분석 작업 영역이 필요합니다. \n"
  - question: >
      Linux용 NPM에는 어떤 추가 요구 사항이 있나요?
    answer: "Linux용 OMS 에이전트도 GLIBC 2.14 이상을 사용해야 합니다. \n"
additionalContent: "\n## <a name=\"next-steps\"></a>다음 단계\n\n- [Azure의 네트워크 성능 모니터 솔루션](./network-performance-monitor.md)을 참조하여 네트워크 성능 모니터에 대해 알아봅니다."
