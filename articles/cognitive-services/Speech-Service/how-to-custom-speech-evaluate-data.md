---
title: Custom Speech 정확도 평가 및 개선 - Speech Service
titleSuffix: Azure Cognitive Services
description: 이 문서에서는 음성-텍스트 모델 또는 사용자 지정 모델의 품질을 양적으로 측정하고 개선하는 방법에 대해 알아봅니다. 정확도를 테스트하려면 오디오 + 휴먼 레이블 대화 기록 데이터가 필요하며, 30분 ~ 5시간의 대표 오디오가 제공되어야 합니다.
services: cognitive-services
author: PatrickFarley
manager: nitinme
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 02/12/2021
ms.author: pafarley
ms.custom: ignite-fall-2021
ms.openlocfilehash: 9dd957ccc877e09020a9f50b927ff5c2aafec7cd
ms.sourcegitcommit: 106f5c9fa5c6d3498dd1cfe63181a7ed4125ae6d
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/02/2021
ms.locfileid: "131080596"
---
# <a name="evaluate-and-improve-custom-speech-accuracy"></a>Custom Speech 정확도 평가 및 개선

이 문서에서는 Microsoft의 음성-텍스트 모델 또는 사용자 고유의 사용자 지정 모델의 정확도를 양적으로 측정하고 개선하는 방법에 대해 알아봅니다. 정확도를 테스트하려면 오디오 + 휴먼 레이블 대화 기록 데이터가 필요하며, 30분 ~ 5시간의 대표 오디오가 제공되어야 합니다.

## <a name="evaluate-custom-speech-accuracy"></a>Custom Speech 정확도 평가

모델 정확도를 측정하는 산업 표준은 WER([Word Error Rate, 단어 오류율](https://en.wikipedia.org/wiki/Word_error_rate))입니다. WER은 인식 도중 식별된 잘못된 단어 수를 센 다음, 사람이 레이블을 지정한 대본에 제공된 총 단어 수로 나눕니다(아래에 N으로 표시). 마지막으로, 이 숫자에 100%를 곱하여 WER을 계산합니다.

![WER 수식](./media/custom-speech/custom-speech-wer-formula.png)

잘못 식별된 단어는 다음과 같은 세 가지 범주로 분류됩니다.

* 삽입(I): 가설 대본에 잘못 추가된 단어
* 삭제(D): 가설 대본에서 발견되지 않은 단어
* 대체(S): 참조와 가설 사이에서 대체된 단어

예를 들면 다음과 같습니다.

![잘못 식별된 단어의 예제](./media/custom-speech/custom-speech-dis-words.png)

로컬에서 WER 측정을 복제하려면 [SCTK](https://github.com/usnistgov/SCTK)의 sclite를 사용할 수 있습니다.

## <a name="resolve-errors-and-improve-wer"></a>오류 해결 및 WER 향상

머신 인식 결과에서 WER을 사용하여 앱, 도구 또는 제품에서 사용하는 모델의 품질을 평가할 수 있습니다. 5% - 10%의 WER은 좋은 품질이고 사용할 준비가 된 것으로 간주됩니다. 20% WER은 허용 가능하지만 추가 학습을 고려해야 할 수 있습니다. WER이 30% 이상인 경우 저하된 품질을 나타내며 사용자 지정 및 학습이 필요합니다.

오류가 어떻게 배포되는지는 중요합니다. 많은 삭제 오류가 발생한 경우 일반적으로 약한 오디오 신호 강도로 인한 것입니다. 이 문제를 해결하려면 오디오 데이터를 원본에 더 가깝게 수집해야 합니다. 삽입 오류는 오디오가 소음 환경에서 기록되고 혼선이 있을 수 있으므로 인식 문제가 발생했음을 의미합니다. 대체 오류는 도메인별 용어에 대한 샘플이 휴먼 레이블 대화 기록 또는 관련된 텍스트로 충분히 제공되지 않은 경우에 종종 발생합니다.

개별 파일을 분석하면 존재하는 오류 유형과 특정 파일에 고유한 오류를 확인할 수 있습니다. 파일 수준에서 문제를 이해하면 개선 사항을 찾는 데 도움이 됩니다.

## <a name="create-a-test"></a>테스트 만들기

Microsoft의 음성-텍스트 기준 모델 또는 학습한 사용자 지정 모델의 품질을 테스트하려는 경우 두 모델을 병렬로 비교하여 정확도를 평가할 수 있습니다. 비교에는 WER 및 인식 결과가 포함됩니다. 일반적으로 사용자 지정 모델은 Microsoft의 기준 모델과 비교됩니다.

모델을 병렬로 평가하려면 다음을 수행합니다.

1. [Custom Speech 포털](https://speech.microsoft.com/customspeech)에 로그인합니다.
2. **음성-텍스트 > Custom Speech > [프로젝트 이름] > 테스트** 로 이동합니다.
3. **테스트 추가** 를 클릭합니다.
4. **정확도 평가** 를 선택합니다. 테스트에 이름, 설명을 지정하고 오디오 + 휴먼 레이블 대화 기록 데이터 세트를 선택합니다.
5. 테스트하려는 모델을 최대 2개 선택합니다.
6. **만들기** 를 클릭합니다.

테스트를 성공적으로 만든 후 결과를 병렬로 비교할 수 있습니다.

### <a name="side-by-side-comparison"></a>병렬 비교

테스트가 완료되어 상태가 *성공* 으로 변경되면 테스트에 포함된 두 모델 모두에 대해 WER 숫자가 표시됩니다. 테스트 이름을 클릭하여 테스트 세부 정보 페이지를 표시합니다. 이 세부 정보 페이지에는 데이터 세트의 모든 발언이 나열되며 제출된 데이터 세트의 대화 기록과 함께 두 모델의 인식 결과가 표시됩니다. 병렬 비교를 검사하기 위해 삽입, 삭제 및 대체를 비롯한 다양한 오류 유형을 전환할 수 있습니다. 오디오를 수신하고 두 개의 음성-텍스트 모델에 대한 휴먼 레이블 대화 기록과 결과를 보여 주는 각 열의 인식 결과를 비교하면 요구 사항을 충족하는 모델과 추가 학습 및 개선이 필요한 모델을 결정할 수 있습니다.

## <a name="improve-custom-speech-accuracy"></a>Custom Speech 정확도 개선

음성 인식 시나리오는 오디오 품질 및 언어(어휘 및 말하기 스타일)에 따라 달라집니다. 다음 표에서는 네 가지 일반적인 시나리오를 살펴봅니다.

| 시나리오 | 오디오 품질 | 어휘 | 말하기 스타일 |
|----------|---------------|------------|----------------|
| 콜 센터 | 낮음, 8kHz, 1개의 오디오 채널에 2사람일 수 있음, 압축 가능 | 좁음, 도메인 및 제품에 한정 | 느슨하게 구조화된 대화형 |
| 음성 도우미(예: Cortana 또는 드라이브 스루식 창) | 높음, 16kHz | 엔터티 많음(노래 제목, 제품, 위치) | 명확하게 명시된 단어 및 구 |
| 받아쓰기(인스턴트 메시지, 메모, 검색) | 높음, 16kHz | 다양함 | 받아적기 |
| 비디오 선택 자막 | 다양함, 다양한 마이크 사용, 음악 추가 포함 | 다양함, 회의에서, 인용된 음성, 음악 가사 | 읽기, 준비되거나 느슨하게 구조화됨 |

시나리오마다 다른 품질 결과가 생성됩니다. 다음 표에서는 이러한 네 가지 시나리오의 콘텐츠가 [WER(단어 오류율)](how-to-custom-speech-evaluate-data.md)에서 어떻게 평가되는지를 검사합니다. 표에는 각 시나리오에서 가장 일반적으로 발생하는 오류 유형이 나와 있습니다.

| 시나리오 | 음성 인식 품질 | 삽입 오류 | 삭제 오류 | 대체 오류 |
|----------|----------------------------|------------------|-----------------|---------------------|
| 콜 센터 | 중간(< 30% WER) | 낮음, 배경에서 다른 사람이 말하는 경우 제외 | 높을 수 있음. 콜 센터는 잡음이 있을 수 있으며 발표자가 겹쳐 모델을 혼동할 수 있습니다. | 중간. 제품 및 사람의 이름을 통해 이러한 오류가 발생할 수 있습니다. |
| 음성 도우미 | 높음(< 10% WER일 수 있음) | 낮음 | 낮음 | 중간, 곡 제목, 제품 이름 또는 위치로 인해 |
| 받아쓰기 | 높음(< 10% WER일 수 있음) | 낮음 | 낮음 | 높음 |
| 비디오 선택 자막 | 비디오 유형에 따라 다름(< 50% WER일 수 있음) | 낮음 | 음악, 잡음, 마이크 품질로 인해 높을 수 있음. | 전문 용어로 이러한 오류가 발생할 수 있음 |

WER의 구성 요소(삽입, 삭제 및 대체 오류 수)를 확인하면 모델 개선을 위해 추가할 데이터의 종류를 결정하는 데 도움이 됩니다. [Custom Speech 포털](https://speech.microsoft.com/customspeech)을 사용하여 기준 모델의 품질을 확인할 수 있습니다. 포털은 WER 품질 비율에 결합된 삽입, 대체 및 삭제 오류 비율을 보고합니다.

## <a name="improve-model-recognition"></a>모델 인식 개선

[Custom Speech 포털](https://speech.microsoft.com/customspeech)에서 학습 데이터를 추가하여 인식 오류를 줄일 수 있습니다. 

정기적으로 원본 자료를 추가하여 사용자 지정 모델의 유지 관리를 계획합니다. 사용자 지정 모델은 엔터티에 대한 변경 내용을 계속 인식하도록 추가 교육이 필요합니다. 예를 들어 제품 이름, 곡 이름 또는 새 서비스 위치에 대한 업데이트가 필요할 수 있습니다.

다음 섹션에서는 각 종류의 추가 학습 데이터에서 오류를 줄일 수 있는 방법을 설명합니다.

### <a name="add-plain-text-data"></a>일반 텍스트 데이터 추가

새 사용자 지정 모델을 학습할 때는 도메인별 단어 및 구의 인식을 개선하기 위해 관련 텍스트의 일반 텍스트 문장을 추가하는 것부터 시작합니다. 관련 텍스트 문장은 주로 일반적인 단어와 도메인별 단어의 잘못된 인식과 관련된 대체 오류를 컨텍스트로 표현함으로써 줄일 수 있습니다. 도메인별 단어는 일반적이지 않거나 만들어낸 단어일 수도 있지만, 인식되려면 발음이 간단해야 합니다.

> [!NOTE]
> 인식할 수 없는 문자 또는 단어와 같이 잡음이 포함된 관련된 텍스트 문장을 사용하지 마십시오.

### <a name="add-structured-text-data"></a>구조적 텍스트 데이터 추가

일반 텍스트 문장과 비슷한 markdown 형식의 구조적 텍스트 데이터를 사용할 수 있지만, 데이터가 목록의 단어 또는 구만 다른 특정 발화의 특정 패턴을 따르는 경우 구조적 텍스트 데이터를 사용합니다. 자세한 내용은 [학습에 대한 구조적 텍스트 데이터를](how-to-custom-speech-test-and-train.md#structured-text-data-for-training-public-preview) 참조하세요. 

> [!NOTE]
> 구조적 텍스트를 사용한 학습은 , , 등의 로케일에서만 `en-US` `de-DE` `en-UK` `en-IN` `fr-FR` `fr-CA` `es-ES` `es-MX` 지원되며, 이러한 로케일의 최신 기본 모델을 사용해야 합니다. 구조적 텍스트 데이터로 학습을 지원하는 기본 모델 목록은 [언어 지원을](language-support.md) 참조하세요.
> 
> 구조적 텍스트로 학습을 지원하지 않는 로케일의 경우 서비스는 일반 텍스트 데이터를 포함하는 학습의 일부로 클래스를 참조하지 않는 학습 문장을 가져옵니다.

### <a name="add-audio-with-human-labeled-transcripts"></a>휴먼 레이블 대화 기록으로 오디오 추가

휴먼 레이블 대화 기록을 사용한 오디오는 대상 사용 사례에서 오디오를 가져온 경우 최대의 정확도 개선을 제공합니다. 샘플은 전체 음성 범위를 포함해야 합니다. 예를 들어 소매점용 콜 센터는 여름 기간 동안 수영복과 선글라스에 대한 전화를 가장 많이 받습니다. 샘플에 검색하려는 모든 음성 범위가 포함되어 있는지 확인합니다.

다음 정보를 고려합니다.

* 오디오를 사용한 학습은 오디오를 사람이 이해하기 어려운 경우 가장 많은 이점을 제공합니다. 대부분의 경우 관련 텍스트를 사용하여 학습을 시작해야 합니다.
* 미국 영어와 같이 가장 많이 사용되는 언어 중 하나를 사용하는 경우 오디오 데이터를 학습할 필요가 없을 가능성이 높습니다. 그러한 언어의 경우 대부분의 시나리오에서 기본 모델은 이미 매우 좋은 인식 결과를 제공합니다. 아마도 관련 텍스트로 학습하기에 충분할 수 있습니다.
* Custom Speech는 단어 컨텍스트만 캡처하여 삽입 또는 삭제 오류가 아닌 대체 오류 발생을 줄일 수 있습니다.
* 대화 기록 오류가 포함된 샘플을 사용하지 말고 오디오 품질의 다양성을 포함시키세요.
* 문제 도메인과 관련이 없는 문장을 사용하지 마세요. 관련이 없는 문장은 모델을 손상시킬 수 있습니다.
* 대화 기록의 품질이 변경되면 매우 좋은 문장(예: 중요 구를 포함하는 고급 대화 기록)을 복제하여 가중치를 늘릴 수 있습니다.
* Speech Service는 관련 텍스트로 추가된 것처럼 도메인별 단어와 구의 인식 기능을 개선하기 위해 자동으로 대화 기록을 사용합니다.
* 학습 작업을 완료하는 데 며칠이 걸릴 수 있습니다. 학습 속도를 높이려면 학습을 위한 [전용 하드웨어가 있는 지역](custom-speech-overview.md#set-up-your-azure-account)에서 Speech Service 구독을 만들어야 합니다.

> [!NOTE]
> 모든 기본 모델이 오디오를 통한 학습을 지원하지는 않습니다. 기본 모델이 이를 지원하지 않는 경우 Speech Service는 대본의 텍스트만 사용하고 오디오는 무시합니다. [언어 지원](language-support.md#speech-to-text)을 참조하여 오디오 데이터를 통한 학습을 지원하는 기본 모델의 목록을 확인하세요. 기본 모델이 오디오 데이터를 통한 학습을 지원하는 경우라도 해당 서비스는 오디오의 일부만 사용할 수 있습니다. 하지만 대본은 모두 사용합니다.

> [!NOTE]
> 학습에 사용되는 기본 모델을 변경하고 학습 데이터 세트에 오디오가 있는 경우 선택한 새 기본 모델이 [오디오 데이터를 통한 학습을 지원](language-support.md#speech-to-text)하는지 *항상* 확인합니다. 이전에 사용된 기본 모델에서 오디오 데이터를 통한 학습을 지원하지 않고 학습 데이터 세트에 오디오가 포함된 경우 새 기본 모델의 학습 시간이 몇 시간에서 며칠 이상으로 **크게** 증가할 수 있습니다. Speech Service 구독이 학습 [전용 하드웨어가 있는 지역](custom-speech-overview.md#set-up-your-azure-account)에 있지 **않은** 경우에 특히 그렇습니다.
>
> 위의 단락에 설명된 문제가 발생한 경우 데이터 세트의 오디오 양을 줄이거나 완전히 제거하여 텍스트만 남겨두면 학습 시간을 빠르게 줄일 수 있습니다. 두 번째 옵션은 Speech Service 구독이 학습용 [전용 하드웨어가 있는 지역](custom-speech-overview.md#set-up-your-azure-account)에 있지 **않은** 경우에 매우 권장됩니다.

### <a name="add-new-words-with-pronunciation"></a>발음이 있는 새 단어 추가

만들어내거나 매우 전문적인 단어에는 고유한 발음이 있을 수 있습니다. 이러한 단어는 단어를 더 작은 단어로 분할하여 발음할 수 있는 경우 인식될 수 있습니다. 예를 들어 **Xbox** 를 인식하기 위해 **X box** 로 발음합니다. 이 방법은 전체 정확도를 높이지는 않지만 이러한 키워드의 인식을 개선할 수 있습니다.

> [!NOTE]
> 이 기술은 현재 일부 언어에 대해서만 사용할 수 있습니다. 자세한 내용은 [음성-텍스트 테이블](language-support.md)에서 발음에 대한 사용자 지정을 참조하세요.

## <a name="sources-by-scenario"></a>시나리오별 원본

다음 표에서는 음성 인식 시나리오를 보여 주고 위에 나열된 세 가지 학습 콘텐츠 범주 내에서 고려할 원본 자료를 나열합니다.

| 시나리오 | 일반 텍스트 데이터 및 <br> 구조적 텍스트 데이터 | 오디오 + 휴먼 레이블 대화 기록 | 발음이 있는 새 단어 |
|----------|------------------------|------------------------------|------------------------------|
| 콜 센터             | 마케팅 문서, 웹 사이트, 콜 센터 작업과 관련된 제품 리뷰 | 사람이 기록한 콜 센터 통화 | 발음이 모호한 용어(위의 Xbox 참조) |
| 음성 도우미         | 모든 명령 및 엔터티 조합을 사용하여 문장 나열 | 음성 말하기 명령을 디바이스에 기록하고 텍스트로 기록 | 고유 발음이 있는 이름(영화, 곡, 제품) |
| 받아쓰기               | 인스턴트 메시지 또는 이메일과 같은 서면 입력 | 위와 유사 | 위와 유사 |
| 비디오 선택 자막 | TV 쇼 스크립트, 영화, 마케팅 콘텐츠, 비디오 요약 | 비디오의 정확한 기록 | 위와 유사 |

## <a name="next-steps"></a>다음 단계

* [모델 학습 및 배포](how-to-custom-speech-train-model.md)

## <a name="additional-resources"></a>추가 리소스

* [데이터 준비 및 테스트](./how-to-custom-speech-test-and-train.md)
* [데이터 검사](how-to-custom-speech-inspect-data.md)
