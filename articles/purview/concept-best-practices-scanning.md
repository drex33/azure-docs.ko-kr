---
title: 부서의 범위에서 데이터 원본 검색에 대 한 모범 사례
description: 이 문서에서는 Azure 부서의 범위에서 다양 한 데이터 원본을 등록 하 고 검색 하는 모범 사례를 제공 합니다.
author: athenads
ms.author: athenadsouza
ms.service: purview
ms.subservice: purview-data-map
ms.topic: conceptual
ms.date: 10/08/2021
ms.custom: ignite-fall-2021
ms.openlocfilehash: 347a18f17dd838892e7fcaaa65ccb37d8fd232ea
ms.sourcegitcommit: 9ef0965834870700468c822ddcafc011881fc2d5
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/02/2021
ms.locfileid: "133480574"
---
# <a name="azure-purview-scanning-best-practices"></a>Azure 부서의 범위 검색 모범 사례

Azure 부서의 범위는 온-프레미스, 다중 클라우드 및 SaaS 데이터 원본에 대 한 자동화 된 검색을 지원 합니다. "Scan"을 실행 하면 등록 된 데이터 원본에서 메타 데이터를 수집 하는 프로세스가 호출 됩니다. 검색 및 큐 레이 션 프로세스의 끝에 있는 메타 데이터 큐 레이트에는 데이터 자산 이름 (테이블 이름/파일 이름), 파일 크기, 열, 데이터 계보 등의 기술 메타 데이터가 포함 됩니다. 구조화 된 데이터 원본 (예: 관계형 데이터베이스 관리 시스템)의 경우 스키마 세부 정보도 캡처됩니다. 큐 레이 션 프로세스는 구성 된 검색 규칙 집합에 따라 스키마 특성에 자동화 된 분류 레이블을 적용 하 고 부서의 범위 계정이 Microsoft 365 보안 & 준수 센터에 연결 된 경우 민감도 레이블을 적용 합니다.

## <a name="why-do-you-need-best-practices-to-manage-data-sources"></a>데이터 원본을 관리 하는 데 모범 사례가 필요한 이유는 무엇 인가요?

모범 사례를 사용 하면 비용을 최적화 하 고, 운영을 효율적으로 구축 하 고, 보안 규정 준수 및 성능 효율성을 높일 수 있습니다.
디자인 고려 사항 및 권장 사항은 검색 프로세스와 관련 된 주요 단계에 따라 구성 되었습니다.

## <a name="register-source-and-establish-connection"></a>소스 등록 및 연결 설정

### <a name="design-considerations"></a>디자인 고려 사항

- 조직의 전략 (지리적, 비즈니스 기능, 데이터 원본 등)에 맞춘 계층은 컬렉션을 사용 하 여 등록 하 고 검색할 데이터 원본을 정의 해야 합니다.

- 기본적으로 동일한 부서의 범위 계정에서 데이터 원본을 여러 번 등록할 수 없습니다. 이 아키텍처는 동일한 데이터 원본에 서로 다른 액세스 제어를 할당 하는 위험을 방지 하는 데 도움이 됩니다.

### <a name="design-recommendations"></a>디자인 권장 사항

- 동일한 데이터 원본의 메타 데이터를 여러 팀에서 사용 하는 경우 부모 컬렉션에서 데이터 원본을 등록 및 관리 하 고 각 하위 컬렉션 아래에 해당 하는 검색을 만들 수 있습니다. 그러면 관련 자산이 각 자식 컬렉션 아래에 나타납니다. 부모를 포함 하지 않는 원본은 지도 보기에서 점으로 그룹화 되며,이 상자는 부모에 연결 하는 화살표가 없습니다.

  :::image type="content" source="media/concept-best-practices/scanning-parent-child.png" alt-text="부모 컬렉션에서 등록 된 데이터 원본을 사용 하 여 Azure 부서의 범위를 보여 주는 스크린샷":::

- Azure cloud에 여러 원본 (Azure 구독 또는 리소스 그룹)을 등록 해야 하는 경우 **Azure 여러** 옵션을 사용 합니다. 자세한 내용은 아래 설명서를 참조 하세요.
    * [Azure Purview에서 여러 원본 검사](./register-scan-azure-multiple-sources.md)
    * [대규모 데이터 원본 준비 상태 확인](./tutorial-data-sources-readiness.md) 
    * [대규모 Azure Purview MSI의 데이터 원본에 대한 액세스 구성](./tutorial-msi-configuration.md)
     
- 데이터 원본을 등록 한 후에는 동일한 원본을 여러 팀 또는 비즈니스 단위에서 다르게 사용 하는 경우 동일한 원본을 여러 번 검사할 수 있습니다.

데이터 원본 등록을 위한 계층을 정의 하는 방법에 대 한 자세한 내용은 [컬렉션 아키텍처에 대 한 모범 사례](./concept-best-practices-collections.md) 를 참조 하세요.

## <a name="scanning"></a>검사

### <a name="design-considerations"></a>디자인 고려 사항

- 데이터 원본이 등록 되 면 자동 및 보안 메타 데이터 검사 및 사용자를 관리 하는 검색을 설정 해야 합니다.
- 검색 설정에는 검색 빈도에 따라 각 데이터 원본에 대해 고유 하 게 검색의 이름, 검색 범위, integration runtime, 검색 트리거 빈도, 스캔 규칙 집합 및 리소스 집합을 구성 하는 작업이 포함 됩니다.
- 자격 증명을 만들기 전에 데이터 원본 유형과 네트워킹 요구 사항을 고려 하 여 시나리오에 필요한 인증 방법과 통합 런타임을 결정 합니다.

### <a name="design-recommendations"></a>디자인 권장 사항

예기치 않은 비용 및 재작업을 방지 하려면 관련 [컬렉션](./how-to-create-and-manage-collections.md)에 원본을 등록 한 후 검색을 설정할 때 아래 순서를 계획 하 고 따르는 것이 좋습니다.

:::image type="content" source="media/concept-best-practices/scanning-scan-order.png" alt-text="검색을 준비 하는 동안 따라야 하는 순서를 보여 주는 스크린샷":::

1. 시스템에서 작성 한 분류 규칙에서 **분류 요구 사항을 식별** 하 고 특정 산업, 비즈니스 및/또는 지역별 요구 사항 (기본 제공 되지 않음)에 따라 필요에 따라 특정 사용자 지정 분류 규칙을 만듭니다.
    - [분류 모범 사례](./concept-best-practices-classification.md) 참조
    - [사용자 지정 분류 및 분류 규칙을 만드는](./create-a-custom-classification-and-classification-rule.md) 방법에 대 한 자세한 내용은을 참조 하세요.

2. 검색을 구성 하기 전에 **검색 규칙 집합 만들기**

    :::image type="content" source="media/concept-best-practices/scanning-create-scan-rule-set.png" alt-text="데이터 맵 아래의 스캔 규칙 집합을 보여 주는 스크린샷":::

   검색 규칙 집합을 만드는 동안 다음을 확인 합니다.
    - 검색 되는 데이터 원본에 대 한 시스템 기본 검색 규칙 집합이 접미사 여부를 확인 하 고, 다른 사용자 지정 검색 규칙 집합을 정의 합니다.
    - 사용자 지정 검색 규칙 집합에는 시스템 기본값과 사용자 지정이 모두 포함 될 수 있으므로 검색 중인 데이터 자산과 관련이 없는 것은 **선택 취소** 합니다.
    - 필요에 따라 사용자 지정 규칙 집합을 만들어 원치 않는 분류 레이블을 제외 합니다. 예를 들어 시스템 규칙 집합은 미국 뿐만 아니라 전 세계의 일반 정부 코드 패턴을 포함 합니다. 따라서 데이터는 "벨기에 드라이버의 라이선스 번호"와 같은 일부 다른 유형의 패턴과 일치할 수 있습니다.
    - **가장 중요** 하 고 **관련** 된 레이블로 사용자 지정 분류 규칙 제한 (자산에 태그가 지정 된 레이블이 너무 많음)
    - 사용자 지정 분류 또는 스캔 규칙 집합을 수정 하면 전체 검사가 트리거됩니다. 따라서 재작업 및 비용이 많이 드는 전체 검색을 방지 하기 위해 분류 및 검색 규칙 집합을 적절 하 게 구성 하는 것이 좋습니다.
    
    :::image type="content" source="media/concept-best-practices/scanning-create-custom-scan-rule-set.png" alt-text="사용자 지정 검색 규칙 집합을 만드는 동안 관련 분류 규칙을 선택 하는 옵션을 보여 주는 스크린샷":::


    > [!NOTE]
    > 저장소 계정을 스캔 하는 경우 Azure 부서의 범위는 정의 된 패턴 집합을 사용 하 여 자산 그룹이 리소스 집합을 구성 하는지 확인 합니다. 리소스 집합 패턴 규칙을 사용하면 Azure Purview에서 리소스 집합으로 그룹화된 자산을 검색하는 방법과 카탈로그 내에 표시되는 방법을 사용자 지정하거나 재정의할 수 있습니다.
    > 자세한 내용은 [리소스 집합 패턴 규칙을 만드는 방법을](./how-to-resource-set-pattern-rules.md) 참조 하세요. 이 기능에는 비용 고려 사항이 있습니다. 자세한 내용은 [가격 책정 페이지](https://azure.microsoft.com/pricing/details/azure-purview/) 를 참조 하세요.

3. 등록 된 데이터 원본에 대 한 **검색 설정**
    - **검색 이름**: 기본적으로 부서의 범위는 사용자가 실행 한 검색을 식별 하려고 할 때 유용 하지 않은 명명 규칙 **검색-[a-z] [a-z] [a-z]** 를 사용 합니다. 모범 사례로, 의미 있는 명명 규칙을 사용 합니다.  인스턴스는 검색 이름을 _환경-원본-빈도-시간_ 으로 지정할 수 있습니다. 예를 들어, 0200 시간에 매일 검색을 나타내는 Devods-매일-0200입니다.
    
    - **인증**: azure 부서의 범위는 원본 유형 (azure 클라우드 또는 온-프레미스 또는 타사 원본)에 따라 데이터 원본을 검색 하는 다양 한 인증 방법을 제공 합니다. 아래의 기본 설정 순서에 따라 인증 방법에 대 한 최소 권한 원칙을 따르는 것이 좋습니다.
        - 부서의 범위 MSI 관리 Id (예: Azure Data Lake Gen2 sources의 경우)
        - 사용자가 할당한 관리 ID
        - 서비스 주체
        - SQL 인증 (예: 온-프레미스 또는 Azure SQL 원본)
        - 계정 키 또는 기본 인증 (예: SAP S/4HANA 소스)
        
        > [!Note]
        > 스토리지 계정에 대해 방화벽을 사용하도록 설정한 경우에는 검색을 설정할 때 관리 ID 인증 방법을 사용해야 합니다.
        > 새 자격 증명을 설정 하는 동안 자격 증명 이름에는 _문자, 숫자, 밑줄 및 하이픈만_ 사용할 수 있습니다.

    - **통합 런타임**
        - [네트워크 아키텍처 모범 사례](./concept-best-practices-network.md#integration-runtime-options) 참조
        - SHIR이 삭제 되 면이에 의존 하는 진행 중인 검사가 실패 합니다.
        - SHIR을 사용 하는 동안 메모리가 검색 중인 데이터 원본에 충분 한지 확인 합니다. 예를 들어 SAP source를 검색 하는 데 SHIR을 사용 하는 경우 "메모리 부족 오류"가 표시 되는 경우:
            - SHIR 컴퓨터에 충분 한 메모리가 있는지 확인 합니다 (128 GB를 포함 하는 것이 권장 됨).
            - 검색 설정에서 사용 가능한 최대 메모리를 적절 한 값 (예: 100)으로 설정 합니다.
            - 자세한 내용은 [이](./register-scan-sapecc-source.md#create-and-run-scan) 문서의 필수 구성 요소를 참조 하세요.

    - **범위 검색**: 
        - 검색 범위를 설정 하는 동안 세분화 된 수준 또는 부모 수준과 관련 된 자산을 선택 합니다. 이렇게 하면 검색 비용이 최적이 고 성능이 효율적으로 유지 됩니다. 부모를 완전히 확인 하거나 부분적으로 선택 하는 경우 특정 부모에서 이후의 모든 자산이 자동으로 선택 됩니다.
        - 일부 데이터 원본에 대 한 몇 가지 예는 다음과 같습니다.
            - Azure SQL Database 또는 ADLS Gen2의 경우 목록에서 적절 한 항목을 확인 하 여 폴더, 하위 폴더, 컬렉션 또는 스키마와 같은 데이터 원본의 특정 부분에 대 한 검색 범위를 지정할 수 있습니다.
            - Oracle, Hive Metastore database 및 Teradata 원본의 경우 내보낼 특정 스키마 목록을 세미콜론으로 구분 된 값 또는 식과 같은 SQL를 사용 하는 스키마 이름 패턴을 통해 지정할 수 있습니다.
            - Google Big query의 경우에는 세미콜론으로 구분 된 값을 통해 내보낼 데이터 집합의 특정 목록을 지정할 수 있습니다.
            - 전체 AWS 계정에 대 한 검색을 만들 때 검색할 특정 버킷을 선택할 수 있습니다. 특정 AWS S3 버킷에 대 한 검색을 만들 때 검색할 특정 폴더를 선택할 수 있습니다.
            - Erwin의 경우 세미콜론으로 구분 된 Erwin 모델 로케이터 문자열 목록을 제공 하 여 검색 범위를 구분할 수 있습니다.
            - Cassandra의 경우에는 세미콜론으로 구분 된 값을 사용 하거나 식과 같은 SQL를 사용 하 여 키 공간 이름 패턴을 통해 내보낼 키 공간의 특정 목록을 지정할 수 있습니다.
            - Looker의 경우 세미콜론으로 구분 된 Looker 프로젝트 목록을 제공 하 여 검색 범위를 구분할 수 있습니다.
            - Power BI 테 넌 트의 경우 개인 작업 영역을 포함할지 아니면 제외할지만 지정할 수 있습니다.
    
            :::image type="content" source="media/concept-best-practices/scanning-scope-scan.png" alt-text="검색을 구성 하는 동안 검색 범위를 선택 하는 옵션을 보여 주는 스크린샷":::
    

        - 일반적으로 와일드 카드 (예: 데이터 레이크)를 기반으로 하는 ' 무시 패턴 ' (지원 되는 경우)을 사용 하 여 임시, 구성 파일, RDBMS 시스템 테이블 또는 backup/STG 테이블을 제외 하는 것이 좋습니다.
        - 문서/비구조적 데이터를 스캔할 때 검색에서 이러한 문서 중 처음 20mb를 처리 하 고 스캔 기간이 길어질 수 있으므로 이러한 문서를 너무 많이 검색 하지 마십시오.


    - **검사 규칙 집합**
        - 검색 규칙 집합을 선택 하는 동안 이전에 만든 관련 시스템/사용자 지정 검색 규칙 집합을 구성 해야 합니다.
        - 사용자 지정 것를 만들 수 있는 옵션이 있으며, 그에 따라 세부 정보를 입력할 수 있습니다. 현재 Azure 부서의 범위는 사용자 지정 구분 기호에서 문자를 하나만 지원 합니다. 실제 데이터에서 ~와 같은 사용자 지정 구분 기호를 사용 하는 경우 새 스캔 규칙 집합을 만들어야 합니다.

    :::image type="content" source="media/concept-best-practices/scanning-scan-rule-set.png" alt-text="검색을 구성 하는 동안 스캔 규칙 집합 선택을 보여 주는 스크린샷":::

    - **유형 및 일정 검사**
        - 검색 프로세스는 전체 또는 증분 검색을 실행 하도록 구성할 수 있습니다.
        - 원본에서 처리 오버 로드를 방지 하기 위해 업무 외 시간에 검색을 실행 하거나 사용량이 적은 시간에 검색을 실행 하는 것이 좋습니다.
        - 초기 검색은 전체 검색 이며 모든 후속 검색은 증분입니다. 후속 검색은 정기적인 증분 검색으로 예약할 수 있습니다.
        - 검색 빈도는 데이터 원본 및/또는 비즈니스 요구 사항의 변경 관리 일정과 일치 해야 합니다. 예:
            - 원본 구조가 잠재적으로 변경 될 수 있는 경우 (자산의 새 자산 또는 필드가 추가, 수정 또는 삭제 됨), 검사 빈도는 동일 하 게 동기화 되어야 합니다.
            - 분류/민감도 레이블이 주 단위 (규정 원인 때문일 수 있음)로 최신 상태 여야 하는 경우 검사 빈도가 매주로 지정 됩니다.
            예를 들어 원본 data lake에서 매주 파티션 파일을 추가 하는 경우 메타 데이터의 변경 내용이 없기 때문에 매주 검색 대신 월간 검색을 예약할 수 있습니다 (새로운 분류 시나리오가 없는 것으로 가정).
            - 만든 날짜와 같은 시간에 실행 되는 검색을 예약할 때 시작 시간은 검색 시간 앞에 1 분 이상 이어야 합니다.
            - 검색을 실행할 수 있는 최대 기간은 메모리 문제로 인해 7 일이 될 수 있습니다. 그러면 수집 프로세스가 제외 됩니다. 7 일 후에 진행률이 업데이트 되지 않은 경우 검사가 실패로 표시 됩니다. 현재 수집 (카탈로그에 포함) 프로세스에는 이러한 제한이 없습니다.

    - **검사 취소**
        - 현재 검색을 트리거한 후 검색 상태가 "대기 중" 상태로 전환 된 경우에만 검사를 취소 하거나 일시 중지할 수 있습니다.
        - 개별 자식 검색을 취소 하는 것은 지원 되지 않습니다.


### <a name="points-to-note"></a>주의할 사항

- 검색을 실행 한 후에 원본 시스템에서 필드/열, 테이블 또는 파일을 제거 하는 경우 다음에 예약 된 전체/증분 검색 후에만 부서의 범위에 반영 (제거) 됩니다.
- 자산의 이름 아래에 있는 **삭제** 아이콘을 사용 하 여 Azure 부서의 범위 catalog에서 자산을 삭제할 수 있습니다 (원본에서 개체가 제거 되지 않음). 그러나 동일한 원본에서 전체 검색을 실행 하는 경우 카탈로그에서 reingested 됩니다. 매주/매월 검색을 예약 하는 경우 (증분) 원본에서 개체가 수정 되지 않으면 삭제 된 자산이 선택 되지 않습니다. 예를 들어 열이 테이블에서 추가/제거 됩니다.
- 부서의 범위 Studio를 통해 데이터 자산이 나 기본 스키마를 *수동으로* 편집한 후 후속 검색의 동작을 이해 하려면 [카탈로그 자산 정보](./catalog-asset-details.md#scans-on-edited-assets)를 참조 하세요.
- 자세한 내용은 [자산을 보고 편집 하 고 삭제 하는 방법](./catalog-asset-details.md) 에 대 한 자습서를 참조 하세요.

## <a name="next-steps"></a>다음 단계
-  [데이터 원본 관리](./manage-data-sources.md)
