---
title: B2B 게스트 사용자의 일회용 암호 인증 - Azure AD
description: 메일 일회성 암호를 사용하여 Microsoft 계정을 사용하지 않고 B2B 게스트 사용자를 인증하는 방법입니다.
services: active-directory
ms.service: active-directory
ms.subservice: B2B
ms.topic: how-to
ms.date: 10/26/2021
ms.author: mimart
author: msmimart
manager: CelesteDG
ms.reviewer: mal
ms.custom: it-pro, seo-update-azuread-jan, seoapril2019, contperf-fy21q4-portal
ms.collection: M365-identity-device-management
ms.openlocfilehash: a2778e2e08c416837de78567fde5dbfb61d04804
ms.sourcegitcommit: 106f5c9fa5c6d3498dd1cfe63181a7ed4125ae6d
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/02/2021
ms.locfileid: "131067299"
---
# <a name="email-one-time-passcode-authentication"></a>이메일 일회용 암호 인증

메일 일회용 암호 기능은 Azure AD, Microsoft 계정(MSA), 소셜 ID 공급자 등의 다른 방법으로 인증할 수 없는 B2B 협업 사용자를 인증하는 방법입니다. B2B 게스트 사용자가 초대를 사용하거나 공유 리소스에 로그인하려고 하면 이메일 주소로 전송되는 임시 암호를 요청할 수 있습니다. 그런 다음, 이 암호를 입력하여 로그인을 계속합니다.

테넌트의 외부 ID 설정에서 이메일 일회용 암호 ID 공급자를 구성하여 언제든지 Azure Portal에서 이 기능을 사용하도록 설정할 수 있습니다. 기능을 사용하도록 설정하거나, 사용하지 않도록 설정하거나, 2021년 11월 1일부터 자동 사용 여부를 기다리도록 선택할 수 있습니다.

![이메일 일회용 암호 개요 다이어그램](media/one-time-passcode/email-otp.png)

> [!IMPORTANT]
>
> - **2021년 11월 1일부터** 모든 기존 테넌트용 이메일 일회용 암호 기능을 켜고 새 테넌트용 기능을 기본적으로 사용하도록 설정하는 변경 내용의 배포를 시작합니다. 이러한 변경의 일환으로 Microsoft는 B2B Collaboration 초대를 사용하는 동안에는 새로운, 관리되지 않는(“바이럴”) Azure AD 계정 및 테넌트 만들기를 중지합니다. 휴일 및 배포 잠금 동안 중단을 최소화하기 위해 대부분의 테넌트에는 2022년 1월에 롤아웃되는 변경 사항이 표시됩니다. 게스트 사용자에게 원활한 대체 인증 방법을 제공하므로 이메일 일회용 암호 기능을 사용하고 있습니다. 하지만, 이 기능을 원하지 않는다면 [사용하지 않도록 설정](one-time-passcode.md#disable-email-one-time-passcode)할 수 있습니다.
> - Azure Portal의 이메일 일회용 암호 설정이 **외부 공동 작업 설정** 에서 **모든 ID 공급자** 로 이동했습니다.

> [!NOTE]
> 일회성 암호 사용자는 테넌트 컨텍스트를 포함하는 링크를 사용하여 로그인해야 합니다(예: `https://myapps.microsoft.com/?tenantid=<tenant id>` 또는 `https://portal.azure.com/<tenant id>`, 혹은 확인된 도메인의 경우 `https://myapps.microsoft.com/<verified domain>.onmicrosoft.com`). 애플리케이션 및 리소스에 대한 직접 링크는 테넌트 컨텍스트를 포함하는 한 작동합니다. 게스트 사용자는 현재 테넌트 컨텍스트가 없는 엔드포인트를 사용하여 로그인할 수 없습니다. 예를 들어 `https://myapps.microsoft.com`을 사용하면 `https://portal.azure.com`에서 오류가 발생합니다.

## <a name="user-experience-for-one-time-passcode-guest-users"></a>일회성 암호 게스트 사용자를 위한 사용자 환경

이메일 일회용 암호를 사용하도록 설정하면 [특정 조건을 충족](#when-does-a-guest-user-get-a-one-time-passcode)하는 새로 초대된 사용자는 일회용 암호 인증을 사용합니다. 이메일 일회용 암호 이전에 초대를 사용한 게스트 사용자는 동일한 인증 방법을 계속 사용합니다.

일회성 암호 인증을 사용하면 게스트 사용자가 직접 링크를 클릭하거나 초대 메일을 사용하여 초대를 사용할 수 있습니다. 두 경우 모두 코드가 게스트 사용자의 메일 주소로 전송된다는 메시지가 브라우저에 표시됩니다. 게스트 사용자가 **코드 보내기** 를 선택합니다.

   ![코드 보내기 단추를 보여주는 스크린샷](media/one-time-passcode/otp-send-code.png)

암호가 사용자의 메일 주소로 전송됩니다. 사용자가 메일에서 암호를 검색하고 브라우저 창에 입력합니다.

   ![코드 입력 페이지를 보여주는 스크린샷](media/one-time-passcode/otp-enter-code.png)

이제 게스트 사용자가 인증되었고 공유 리소스를 보거나 로그인을 계속할 수 있습니다.

> [!NOTE]
> 일회성 암호는 30분 동안 유효합니다. 30분이 지나면 특정 일회성 암호가 더 이상 유효하지 않고 사용자는 새 암호를 요청해야 합니다. 사용자 세션은 24시간 후에 만료됩니다. 해당 시간이 지나면 게스트 사용자는 리소스에 액세스할 때 새 암호를 받습니다. 특히 게스트 사용자가 회사를 떠나거나 더 이상 액세스할 필요가 없는 경우 세션 만료로 보안을 강화합니다.

## <a name="when-does-a-guest-user-get-a-one-time-passcode"></a>게스트 사용자가 일회성 암호를 얻을 때는 언제인가요?

게스트 사용자가 초대를 사용하거나 공유된 리소스의 링크를 사용할 때 일회성 암호를 받는 경우는 다음과 같습니다.

- Azure AD 계정이 없는 경우
- Microsoft 계정이 없는 경우
- 초대 테넌트는 소셜(예: [Google](google-federation.md)) 또는 기타 ID 공급자와 페더레이션을 설정하지 않습니다.

초대할 때 초대를 받는 사용자가 일회성 암호 인증을 사용할 것이라는 표시는 없습니다. 그러나 게스트 사용자가 로그인할 때 다른 인증 방법을 사용할 수 없다면 일회성 암호 인증이 대체 방법이 됩니다.


> [!NOTE]
> 사용자가 일회성 암호를 사용하고 나중에 MSA, Azure AD 계정 또는 기타 페더레이션 계정을 얻을 경우 일회성 암호를 사용하여 계속 인증됩니다. 사용자의 인증 방법을 업데이트하려는 경우 [상환 상태를 다시 설정](reset-redemption-status.md)할 수 있습니다.

### <a name="example"></a>예제

게스트 사용자 teri@gmail.com이 Google 페더레이션이 설정되지 않은 Fabrikam에 초대되었습니다. Teri에게는 Microsoft 계정이 없습니다. 인증을 위해 일회용 암호를 받게 됩니다.

## <a name="enable-email-one-time-passcode"></a>이메일 일회용 암호를 사용하도록 설정

1. Azure AD 전역 관리자 권한으로 [Azure Portal](https://portal.azure.com/)에 로그인합니다.

2. 탐색 창에서 **Azure Active Directory** 를 선택합니다.

3. **외부 ID** > **모든 ID 공급자** 를 차례로 선택합니다.

4. **이메일 일회용 암호** 를 선택하여 구성 창을 엽니다.

5. **게스트용 이메일 일회용 암호** 아래에서 다음 중 하나를 선택합니다.

   - 기능을 즉시 사용하도록 설정하기를 원하지 않고 2021년 11월 1일 자동 사용 여부 날짜를 기다리려면 **\<date\>부터 게스트용 이메일 일회용 암호를 자동으로 사용하도록 설정합니다**.
   - 지금 기능을 사용하도록 설정하려면 **지금 유효한 게스트용 이메일 일회용 암호를 사용하도록 설정** 합니다.
   - 예/아니요 토글이 표시되면 **예** 를 선택하여 지금 기능을 사용하도록 설정합니다. 이 토글은 이전에 기능을 사용하지 않도록 설정한 경우에 표시됩니다.

   ![이메일 일회용 암호 토글 사용](media/one-time-passcode/enable-email-otp-options.png)

5. **저장** 을 선택합니다.

## <a name="disable-email-one-time-passcode"></a>이메일 일회용 암호 사용 안 함

2021년 11월 1일부터 모든 기존 테넌트용 이메일 일회용 암호 기능을 켜고 새 테넌트용 기능을 기본적으로 사용하도록 설정하는 변경 내용의 배포를 시작합니다.  이때 Microsoft는 B2B 협업 시나리오에 대해 관리되지 않는("바이럴" 또는 "just-in-time") Azure AD 계정과 테넌트를 만들어 더 이상 초대 상환을 지원하지 않습니다. 게스트 사용자에게 원활한 대체 인증 방법을 제공하므로 이메일 일회용 암호 기능을 사용하고 있습니다. 그러나 이 기능을 사용하지 않으려면 사용하지 않도록 설정하는 옵션이 있습니다.

> [!NOTE]
>
> 테넌트에서 이메일 일회용 암호 기능을 사용하도록 설정하고 이 기능을 끄면 일회용 암호를 사용한 게스트 사용자는 로그인할 수 없습니다. 다른 인증 방법을 사용하여 다시 로그인 할 수 있도록 [상환 상태를 다시 설정](reset-redemption-status.md)할 수 있습니다.

### <a name="to-disable-the-email-one-time-passcode-feature"></a>이메일 일회용 암호 기능을 사용하지 않도록 설정하려면

1. Azure AD 전역 관리자 권한으로 [Azure Portal](https://portal.azure.com/)에 로그인합니다.

2. 탐색 창에서 **Azure Active Directory** 를 선택합니다.

3. **외부 ID** > **모든 ID 공급자** 를 차례로 선택합니다.

4. **이메일 일회용 암호** 를 선택한 다음, **게스트용 이메일 일회용 암호** 에서 **게스트용 이메일 일회성 암호 사용 안 함** 을 선택합니다(또는 미리 보기 중에 기능이 활성화, 비활성화 또는 옵트인된 경우 **아니요** 선택).

   ![이메일 일회용 암호 토글 사용 안 함](media/one-time-passcode/disable-email-otp-options.png)

   > [!NOTE]
   > Azure Portal의 이메일 일회용 암호 설정이 **외부 공동 작업 설정** 에서 **모든 ID 공급자** 로 이동했습니다.
   > 이 기능을 이전에 사용하거나 사용하지 않도록 설정했거나 미리 보기에 옵트인한 경우에는 이메일 일회용 암호 옵션 대신 토글이 표시됩니다. 기능을 사용하지 않도록 설정하려면 **아니요** 를 선택합니다.

5. **저장** 을 선택합니다.

## <a name="note-for-public-preview-customers"></a>공개 미리 보기 고객에 대한 참고 사항

이전에 이메일 일회용 암호 공개 미리 보기에 옵트인한 경우 2021년 11월 1일의 자동 기능 사용 여부가 적용되지 않으므로 관련 비즈니스 프로세스는 영향을 받지 않습니다. 또한 Azure Portal의 **게스트용 이메일 일회용 암호** 속성 아래에서 **\<date\>부터 게스트용 이메일 일회용 암호를 자동으로 사용하도록 설정** 하는 옵션이 표시되지 않습니다. 대신 다음과 같이 **예** 또는 **아니요** 토글이 표시됩니다.

![옵트인된 이메일 일회용 암호](media/one-time-passcode/enable-email-otp-opted-in.png)

그러나 이 기능을 옵트아웃하고 2021년 11월 1일부터 자동으로 사용하도록 설정하려는 경우 Microsoft Graph API [이메일 인증 방법 구성 리소스 종류](/graph/api/resources/emailauthenticationmethodconfiguration)를 사용하여 기본 설정으로 되돌릴 수 있습니다. 기본 설정으로 되돌린 후에는 **게스트용 이메일 일회용 암호** 에서 다음 옵션을 사용할 수 있습니다.

![옵트인된 이메일 일회용 암호를 사용하도록 설정](media/one-time-passcode/email-otp-options.png)

- **\<date\>부터 게스트용 이메일 일회용 암호를 자동으로 사용하도록 설정합니다**. (기본값) 테넌트용 이메일 일회용 암호 기능을 아직 사용하도록 설정하지 않은 경우 2021년 11월 1일부터 자동으로 켜지게 됩니다. 그때 해당 기능을 사용하도록 설정하려면 추가 작업이 필요하지 않습니다. 해당 기능을 이미 사용하도록 설정했거나 아직 설정하지 않은 경우에는 이 옵션을 사용할 수 없습니다.

- **게스트에게 일회용 암호를 메일로 보내도록 설정하면 지금부터 적용됩니다**. 테넌트에 대해 메일 일회용 암호 기능을 설정합니다.

- **게스트에게 일회용 암호를 메일로 보내지 않도록 설정합니다.** 테넌트용 이메일 일회용 암호 기능을 끄고, 2021년 11월 1일부터 기능이 켜지는 것을 방지합니다.

## <a name="note-for-azure-us-government-customers"></a>Azure 미국 정부 고객에 대한 참고 사항

Azure 미국 정부 클라우드에서 이메일 일회용 암호 기능은 기본적으로 사용하지 않도록 설정되어 있습니다. 이 기능을 사용하도록 설정하지 않으면 파트너는 로그인할 수 없습니다. Azure 퍼블릭 클라우드와 달리 Azure 미국 정부 클라우드는 셀프 서비스 Azure Active Directory 계정으로 초대 사용을 지원하지 않습니다.

 ![이메일 일회용 암호 기능 사용 안 함](media/one-time-passcode/enable-email-otp-disabled.png)

Azure 미국 정부 클라우드에서 이메일 일회용 암호 기능을 사용하도록 설정하려면 다음을 수행합니다.

1. Azure AD 전역 관리자 권한으로 [Azure Portal](https://portal.azure.com)에 로그인합니다.
2. 탐색 창에서 **Azure Active Directory** 를 선택합니다.
3. **조직 관계** > **모든 ID 공급자** 를 선택합니다.

   > [!NOTE]
   > - **조직 관계** 가 표시되지 않는 경우 맨 위의 검색 창에서 "외부 ID"를 검색합니다.

4. **이메일 일회용 암호** 를 선택하고 **예** 를 선택합니다.
5. **저장** 을 선택합니다.

현재 제한 사항에 대한 자세한 내용은 [Azure 미국 정부 클라우드](current-limitations.md#azure-us-government-clouds)를 참조하세요.

## <a name="frequently-asked-questions"></a>질문과 대답

**내 이메일 일회용 암호 설정에서 선택한 "2021년 10월부터 게스트용 이메일 일회용 암호를 자동으로 사용하도록 설정"이 계속 표시되는 이유는 무엇인가요?**

배포 일정으로 인해 2021년 11월 1일에 전역적으로 이메일 일회용 암호를 기본적으로 사용하도록 설정하는 변경 내용의 배포가 시작됩니다. 그때까지는 이메일 일회용 암호 설정에서 선택한 "2021년 10월부터 게스트용 이메일 일회용 암호를 자동으로 사용하도록 설정"이 계속 표시될 수 있습니다.

**이메일 일회용 암호를 사용하도록 설정한 경우 내 기존 게스트 사용자는 어떻게 되나요?**

기존 사용자가 이미 사용 지점을 지났으므로 이메일 일회용 암호를 사용하도록 설정한 경우 기존 게스트 사용자는 영향을 받지 않습니다. 이메일 일회용 암호를 사용하도록 설정하면 새 게스트 사용자가 테넌트에 사용되고 있는 추가 사용 활동에만 영향을 줍니다.

**전역 배포 중 게스트용 사용자 환경이란?**

전역 배포 중에 게스트용 사용자 환경은 이메일 일회용 암호 구성 및 게스트 시나리오에 따라 달라집니다. 

변경 내용이 지역에 배포되기 전에 게스트에게 다음과 같은 동작이 표시됩니다.

- 이메일 일회용 암호를 사용하도록 설정한 경우:

  - 게스트에게 관리되지 않는 기존 Azure AD 계정이 있는 경우 관리되지 않는 Azure AD 계정을 사용하여 계속 로그인합니다.
  - 게스트가 이전에 관리되지 않는 Azure AD 계정을 사용하여 테넌트에 초대를 사용했고 사용자가 해당 사용 상태를 초기화하고 다시 초대한 경우 관리되지 않는 Azure AD 계정을 사용하여 계속 로그인합니다.
  - 게스트에게 관리되지 않는 기존 Azure AD 계정이 없는 경우 이메일 일회용 암호 인증을 사용하여 사용합니다.

- 이메일 일회용 암호를 사용하지 않도록 설정한 경우:

  - 게스트에게 관리되지 않는 기존 Azure AD 계정이 있는 경우 관리되지 않는 Azure AD 계정을 사용하여 계속 로그인합니다.
  - 게스트가 이전에 관리되지 않는 Azure AD 계정을 사용하여 테넌트에 초대를 사용했고 사용자가 해당 사용 상태를 초기화하고 다시 초대한 경우 관리되지 않는 Azure AD 계정을 사용하여 계속 로그인합니다.
  - 게스트에게 관리되지 않는 기존 Azure AD 계정이 없는 경우 관리되지 않는 Azure AD 계정을 사용하여 사용하지만, 직접 애플리케이션 링크를 사용하는 경우 사전에 Azure Portal에 추가되지 않으면 로그인 오류가 발생할 수 있습니다.

사용자의 지역에 변경 내용이 배포된 후 게스트에게 다음과 같은 동작이 표시됩니다.

- 이메일 일회용 암호를 사용하도록 설정한 경우:

  - 게스트에게 관리되지 않는 기존 Azure AD 계정이 있는 경우 관리되지 않는 Azure AD 계정을 사용하여 계속 로그인합니다.
  - 게스트가 이전에 관리되지 않는 Azure AD 계정을 사용하여 테넌트에 초대를 사용했고 사용자가 해당 사용 상태를 초기화하고 다시 초대한 경우 이메일 일회용 암호를 사용하여 향후 사용하고 로그인합니다.
  - 게스트에게 관리되지 않는 Azure AD 계정이 없는 경우 이메일 일회용 암호를 사용하여 향후 사용하고 로그인합니다.

- 이메일 일회용 암호를 사용하지 않도록 설정한 경우:

  - 게스트에게 관리되지 않는 기존 Azure AD 계정이 있는 경우 관리되지 않는 Azure AD 계정을 사용하여 계속 로그인합니다.
  - 게스트가 이전에 관리되지 않는 Azure AD 계정을 사용하여 테넌트에 초대를 사용했고 사용자가 사용 상태를 초기화하고 다시 초대한 경우 Microsoft 계정을 사용하여 향후 사용하고 로그인합니다.
  - 게스트에게 관리되지 않는 Azure AD 계정이 없는 경우 Microsoft 계정을 사용하여 향후 사용하고 로그인합니다.

다른 사용 경로에 대한 자세한 내용은 [B2B 협업 초대 사용](redemption-experience.md)을 참조하세요.

**이는 "계정이 없으세요? 하나 만드세요!"라는 셀프 서비스 등록 옵션이 사라진다는 것을 의미하나요?**

이메일로 확인된 사용자에 대한 셀프 서비스 등록과 [외부 ID의 컨텍스트에서 셀프 서비스 등록](self-service-sign-up-overview.md)은 혼동하기 쉽지만, 두 가지 기능은 서로 다릅니다. [이메일로 확인된 사용자의 셀프 서비스 등록](../enterprise-users/directory-self-service-signup.md)은 곧 사라질 기능으로, 게스트가 관리되지 않는 Azure AD 계정을 만드는 데 사용됩니다. 그러나 외부 ID에 대한 셀프 서비스 등록은 계속 사용할 수 있고, 게스트가 [다양한 ID 공급자](identity-providers.md)를 사용하여 조직에 등록하는 데 사용됩니다.  

**기존 MSA(Microsoft 계정)를 사용하여 실행하도록 Microsoft에서 권장하는 작업은 무엇인가요?**

ID 공급자 설정(현재 사용할 수 없음)에서 Microsoft 계정을 사용하지 않도록 설정할 수 있는 기능을 지원할 경우 Microsoft 계정을 사용하지 않도록 설정하고 이메일 일회용 암호를 사용하도록 설정하는 것이 좋습니다. 그런 다음 이메일 일회용 암호 인증을 사용하여 다시 사용하고 이메일 일회용 암호를 사용하여 향후 로그인할 수 있도록 Microsoft 계정을 사용하여 기존 게스트의 사용 상태를 초기화해야 합니다.

**이러한 변경에는 Azure AD B2B와 SharePoint 및 OneDrive의 통합이 포함되나요?**

아니요, 2021년 11월 1일에 시작하는 기본적으로 이메일 일회용 암호를 사용하도록 설정하는 변경의 전역 배포에는 Azure AD B2B와 SharePoint 및 OneDrive의 통합이 포함되지 않습니다. SharePoint 및 OneDrive에서 협업 B2B 기능을 사용하도록 통합을 사용하도록 설정하는 방법 또는 이 통합을 사용하지 않도록 설정하는 방법에 대해 알아보려면 [Azure AD B2B와 SharePoint 및 OneDrive의 통합](/sharepoint/sharepoint-azureb2b-integration)을 참조하세요.
